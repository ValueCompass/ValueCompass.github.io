/* empty css             */import{E as Ve}from"./el-popper-BHjIPvsA.js";import{a as Ee,b as Fe,E as Ne,c as je}from"./el-radio-ajaNReCj.js";import{i as Ae,E as Be,a as He}from"./linesGL-CGNfjBoL.js";import{E as $e}from"./el-button-BSJSL_-i.js";import{_ as pe,r as s,z as we,g as ye,a as v,L as ae,w as G,c as y,f as P,e,h as k,t as w,J as q,F,R as be,i as ke,n as ve,o as me,x as ze,D as E,S as Oe,T as Ue,I as qe,N as oe,u as xe,K as Ge,U as Ie}from"./index-CFYroovc.js";import{a as de}from"./axios-CKAHHjJA.js";import{S as Pe,a as We,P as Ke,N as Je,A as Qe,b as Ye}from"./pagination-CK_tghm8.js";import{a as Z,g as Xe,c as Ze,d as ea,e as Ce}from"./common-BRhq3Y4K.js";import"./jspdf.es.min-DCMX1EeA.js";import{V as aa,_ as ta}from"./CulturalAlignment-C29BX-gB.js";import"./index-Cyryrh1s.js";import"./index-nwo02q_g.js";import"./focus-trap-BWcZMiu-.js";import"./event-BE20p1dL.js";import"./api-DQW5p_vd.js";const oa={components:{Swiper:Pe,SwiperSlide:We},props:{data:{type:Array,required:!0}},mounted(){console.log("接收到的消息:",this.data)},setup(B){const g=s(null),R=r=>{console.log(r),g.value=r},S=()=>{console.log("slide change")},f=s(B.data);return we(()=>B.data,(r,p)=>{f.value=r,g.value&&ve(()=>{const b=g.value;b.loopDestroy(),b.slideTo(0,0),b.loopCreate()}),console.log(f.value)}),{onSwiper:R,onSlideChange:S,modules:[Ke,Je,Qe,Ye],caseData:f,copyCase:r=>{const p=r.target.closest(".swiper-main"),b=p.querySelector(".q-des"),_=p.querySelector(".a-des"),T=document.createRange(),L=window.getSelection(),x=document.createElement("div");x.style.position="absolute",x.style.opacity="0",x.innerHTML=b.outerHTML+_.outerHTML,document.body.appendChild(x),T.selectNodeContents(x),L.removeAllRanges(),L.addRange(T);try{document.execCommand("copy"),be.warning("文本已复制！")}catch{be.warning("复制失败")}L.removeAllRanges(),document.body.removeChild(x)}}}},la={class:"swiper-main swiper-no-swiping",tabindex:"0"},sa={class:"title"},na={style:{"text-transform":"capitalize"}},ra={class:"chart-content-desc q-des"},ia={class:"chart-content-desc a-des"},ca=["innerHTML"];function ua(B,g,R,S,f,N){const r=ke,p=ye("swiper-slide"),b=ye("swiper",!0);return v(),ae(b,{modules:S.modules,navigation:!0,pagination:{clickable:!0},onSwiper:S.onSwiper,loop:!0,style:{height:"100%","padding-bottom":"1.7em","box-sizing":"border-box"}},{default:G(()=>[(v(!0),y(F,null,P(S.caseData,(_,T)=>(v(),ae(p,{class:"swiper-slide",key:_.model+T},{default:G(()=>[e("div",la,[k(r,{class:"copy-icon",name:"copy-icon",onClick:g[0]||(g[0]=L=>S.copyCase(L))}),e("p",sa,[e("span",null,w("Case"+(T+1))+" Score：",1),q(w(_.score.toFixed(4))+"  (",1),e("text",na,w(_.label),1),g[1]||(g[1]=q(" Score) ",-1))]),e("div",ra,[g[2]||(g[2]=e("span",{class:"span"},"Q:",-1)),e("p",null,w(_.prompt),1)]),e("div",ia,[g[3]||(g[3]=e("span",{class:"span"},"A:",-1)),e("p",{class:"highlight",innerHTML:_.highlight},null,8,ca)])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])}const da=pe(oa,[["render",ua],["__scopeId","data-v-b9d330d3"]]),ee={__name:"EchartComponent",props:{hasHightlight:{type:Boolean,required:!1,default:!0},type:{type:Number,required:!0}},emits:["setCurrentCaseData"],setup(B,{expose:g,emit:R}){const S=B;let f=14;const N=document.body.clientWidth;N>1800?f=14:N>1650?f=13:N>1500?f=12:N>1400?f=11:f=10;const r=s(null);let p=null,b=0,_=100;g({setRadarChart:(m,i)=>{const u=Object.values(m);b=Math.ceil(Math.max(...u)*1)/1;let n=2;(i||S.type)==1&&(n=5),_=Math.floor(Math.min(...u)*1)/1-n;const C=Object.keys(m).map((c,D)=>({name:c+" ("+m[c].toFixed(2)+")",color:S.hasHightlight&&D==0?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:D==0},min:_,max:b})),M=Object.values(m);p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(c){return c.split("&").join(`&
`)}},axisLabel:{formatter:function(c){return c.toFixed(0)}},triggerEvent:!0,indicator:C},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#1093FF"},data:[{value:M,areaStyle:{opacity:.3,color:"#1093FF"},lineStyle:{width:2,color:"#1093FF"}}]}]})},setRadarHighlight:(m,i)=>{const u=Object.keys(m).map((n,a)=>({name:n+" ("+m[n].toFixed(2)+")",color:i==n?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:a==0},min:_,max:b}));p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:f,color:"black",formatter:function(n){return n.split("&").join(`&
`)}},triggerEvent:!0,indicator:u}})}}),me(async()=>{await ve(),p=Ae(r.value);const m={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"rgba(16, 147, 255, 1)"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};p.setOption(m),p.on("click",function(i){if(i.componentType==="radar"&&i.targetType=="axisName"){const n=p.getOption().radar[0].indicator.map(a=>{if(i.name=i.name.replace(/[\r\n]/g,""),a.name!=i.name&&a.color=="rgba(16, 147, 255, 1)"&&delete a.color,a.name==i.name&&a.color!=="rgba(16, 147, 255, 1)"){a.color="rgba(16, 147, 255, 1)";let C=a.name;C=C.split(" (")[0],x("setCurrentCaseData",C)}return a});p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:f,color:"black"},triggerEvent:!0,indicator:n}})}}),p.on("mouseout",function(i){if(i.componentType==="radar"&&i.targetType=="axisName"){const n=p.getOption().radar[0].indicator.map(a=>(a.name==i.name&&a.color!=="rgba(16, 147, 255, 1)"&&delete a.color,a));p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:f,color:"black"},triggerEvent:!0,indicator:n}})}})});const x=R;return(m,i)=>(v(),y("div",{style:{width:"100%",height:"100%"},ref_key:"chartDom",ref:r},null,512))}},pa=["onClick"],va={class:"provider_models"},ma={__name:"ModelListRadio",props:{modelGropsByDeveloper:{type:Object,required:!0,default:()=>{}},modelValue:{type:String,required:!0}},emits:["updateCheckboxValue"],setup(B,{emit:g}){const R=B,S=s([]);we(()=>R.modelValue,(n,a)=>{console.log("[子组件] modelValue 变化了:",a,"→",n),S.value=n},{deep:!0,immediate:!0});const f=()=>{N("updateCheckboxValue",S.value)},N=g,r=ze(()=>{if(!R.modelGropsByDeveloper)return[];const n=Object.values(R.modelGropsByDeveloper).map(a=>a[0].model[0].toUpperCase());return[...new Set(n)].sort()}),p=s(null),b=s(null),_=s({}),T=s(null),L=s(!1),x=n=>a=>{a&&(_.value[n]=a)},m=n=>{L.value=!0,T.value=n;for(let a in R.modelGropsByDeveloper)if(R.modelGropsByDeveloper[a][0].model[0].toUpperCase()===n.toUpperCase()){const c=_.value[a];c&&(console.log(c),c.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{L.value=!1},500));break}},i=n=>{var C;const a=(C=b.value)==null?void 0:C.querySelector(".scroll-inner");a&&(a.scrollTop+=n.deltaY,n.preventDefault())},u=()=>{if(L.value)return;p.value.scrollTop;const n=p.value.getBoundingClientRect().top;let a=null,C=1/0;for(const M in _.value){const c=_.value[M];if(c){const D=c.getBoundingClientRect(),j=Math.abs(D.top-n);j<C&&(C=j,a=R.modelGropsByDeveloper[M][0].model[0].toUpperCase())}}a&&(T.value=a)};return me(async()=>{await ve(),u()}),(n,a)=>{const C=Ee,M=Fe;return v(),y("div",{style:{position:"relative"},ref_key:"scrollBox",ref:b},[e("div",{class:"button-column",onWheel:i},[(v(!0),y(F,null,P(r.value,c=>(v(),y("span",{key:c,onClick:D=>m(c),class:E({on:T.value===c})},w(c),11,pa))),128))],32),e("div",{class:"scroll-inner",ref_key:"contentRef",ref:p,onScroll:u},[k(M,{modelValue:S.value,"onUpdate:modelValue":a[0]||(a[0]=c=>S.value=c)},{default:G(()=>[(v(!0),y(F,null,P(B.modelGropsByDeveloper,(c,D)=>(v(),y(F,{key:D},[e("p",{style:{"font-size":"12px",height:"12px","line-height":"16px",opacity:"0"},ref_for:!0,ref:x(D)},w(D),513),e("div",va,[(v(!0),y(F,null,P(c,j=>(v(),ae(C,{key:j.model,value:j.model},{default:G(()=>[q(w(j.model),1)]),_:2},1032,["value"]))),128))])],64))),128))]),_:1},8,["modelValue"])],544),e("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"10px"}},[e("button",{onClick:f},"Submit")])],512)}}},ha=pe(ma,[["__scopeId","data-v-42d0d399"]]),fa={class:"bg main-container"},_a={class:""},ga={class:"title-content"},ya={class:"model"},ba={id:"popoverId2"},xa={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"flex-start","margin-top":"1.5em"}},Ca={key:0,class:"model-props"},wa={class:"model-prop"},ka={class:"prop-content"},Sa={class:"model-prop"},Da={class:"prop-content"},Ra=["href"],Ta={class:"model-prop"},La={class:"prop-content"},Ma=["href"],Va={class:"model-prop"},Ea={class:"prop-content"},Fa={class:"model-prop"},Na={class:"prop-content"},ja={style:{width:"9em"}},Aa={class:"chart-tab"},Ba=["onClick"],Ha={class:"chart-main"},$a={class:"chart-container"},za={class:"charts-box"},Oa={class:"chart-text-main"},Ua={class:"chart-menu"},qa=["onClick"],Ga=["innerHTML"],Ia={class:"chart-content"},Pa={class:"chart-title"},Wa={class:"download-charts-box"},Ka={__name:"Analysis",setup(B){const g=s(null),R=s(null),S=[{name:"Evaluation Results",index:0},{name:"culture heatmap",index:1},{name:"Value Space",index:2}],f=s(0),N=t=>{f.value=t.index},r=s(null),p=s(null),b=s(null),_=s(null),T=s(null),L=[{name:"Schwartz Theory of Basic Values",index:0,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Moral Foundation Theory",index:1,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Safety Taxonomy",index:2},{name:"LLMs' Unique Value System",index:3}],x=s([]),m=s(""),i=s([]);var u=null,n=null,a=null,C=null,M=null,c=null,D=null,j=null,W=null,le=null;const se=s([]),ne=s(),K=s(!1),I=s("GPT-4-Turbo"),o=s("GPT-4-Turbo"),A=s(null),he=s(),H=t=>de.get(t),Se=async()=>{try{de.all([H("./data/models_info.json"),H("./data/Schwartz_scores.json"),H("./data/Schwartz_cases.json"),H("./data/Risk_scores.json"),H("./data/Risk_cases.json"),H("./data/MFT_scores.json"),H("./data/MFT_cases.json"),H("./data/FULVa_scores.json"),H("./data/FULVa_cases.json")]).then(de.spread(function(t,l,z,V,O,Y,X,ce,ue){n=Z(t.data.data),a=Z(l.data.data),C=z.data.data,M=Z(V.data.data),c=O.data.data,D=Z(Y.data.data),j=X.data.data,W=Z(ce.data.data),le=ue.data.data,se.value=Object.keys(n),he.value=Xe(t.data.data),!I.value&&!o.value&&(I.value=se.value[0],o.value=se.value[0]),ie()}))}catch(t){console.error("Fetch error:",t)}};function $(t,l){return t.filter(V=>V.model==l).reduce((V,O)=>{V[O.value]||(V[O.value]=[]);const{model:Y,...X}=O;return V[O.value].push({model:Y,...X}),V},{})}const re=t=>{m.value=t,i.value=u[m.value],d.value==0?r.value.setRadarHighlight(a[o.value],t):d.value==1?r.value.setRadarHighlight(D[o.value],t):d.value==2?r.value.setRadarHighlight(M[o.value],t):d.value==3&&r.value.setRadarHighlight(W[o.value],t)},De=t=>{I.value=t,ie()},ie=()=>{o.value=I.value,K.value=!1,A.value=n[o.value],console.log(d.value),console.log(o.value),d.value==0?(r.value.setRadarChart(a[o.value]),u=$(C,o.value)):d.value==1?(r.value.setRadarChart(D[o.value]),u=$(j,o.value)):d.value==2?(r.value.setRadarChart(M[o.value]),u=$(c,o.value)):d.value==3&&(r.value.setRadarChart(W[o.value]),u=$(le,o.value)),console.log(u),x.value=Object.keys(u),re(x.value[0]),m.value=x.value[0],i.value=u[m.value],p.value.setRadarChart(a[o.value]),b.value.setRadarChart(D[o.value]),_.value.setRadarChart(M[o.value]),T.value.setRadarChart(W[o.value]),g.value.setHotChart([o.value]),R.value.setValueSpacesData([{model_name:o.value}])},d=s(0),Re=t=>{d.value=t,d.value==0?(r.value.setRadarChart(a[o.value],1),u=$(C,o.value)):d.value==1?(r.value.setRadarChart(D[o.value],2),u=$(j,o.value)):d.value==2?(r.value.setRadarChart(M[o.value],3),u=$(c,o.value)):d.value==3&&(r.value.setRadarChart(W[o.value],4),u=$(le,o.value)),x.value=Object.keys(u),re(x.value[0]),m.value=x.value[0],i.value=u[m.value]},fe=s(!0),_e=t=>{fe.value=t};Oe(()=>{});let ge=!0;const te=Ue();qe(()=>{console.log("首页传过来的modelName："+te.query.modelName);const t=te.query.modelName;t&&(I.value=t,o.value=t),ge?ge=!1:t&&(console.log("首页传过来的modelName："+te.query.modelName),ie())}),me(()=>{const t=te.query.modelName;t&&(I.value=t,o.value=t),Se(),document.addEventListener("click",Te)});const Te=t=>{const l=document.getElementById("popoverId2");ne.value&&l&&!l.contains(t.target)&&(K.value=!1)},J=t=>{m.value=t,i.value=u[m.value]},Q=s(!1),Le=async()=>{console.log("downloadAll"),!Q.value&&(Q.value=!0,await Me(),Q.value=!1)};s(null),s(null),s(null),s(null);const Me=async t=>{const l=[[{name:"Schwartz Theory of Basic Values",chart:p.value.$refs.chartDom},{name:"Moral Foundation Theory",chart:b.value.$refs.chartDom},{name:"Safety Taxonomy",chart:_.value.$refs.chartDom},{name:"LLMs' Unique Value System",chart:T.value.$refs.chartDom}]],z=o.value+"_"+Ze(),V=[{model_name:o.value,model_info:A.value}];await ea(l,V,z)};return(t,l)=>{const z=ke,V=Ve,O=Ne,Y=$e,X=He,ce=Be,ue=je;return v(),y("div",fa,[e("div",_a,[e("div",ga,[e("div",ya,[k(V,{effect:"customized",content:"Switch model",placement:"top"},{default:G(()=>[Ge((v(),y("div",{class:"model-type model-flex",onClick:l[0]||(l[0]=Ie(h=>K.value=!0,["stop"]))},[q(w(o.value)+" ",1),k(z,{class:"down-arrow",name:"down-arrow"})])),[[ue,ne.value]])]),_:1}),K.value?(v(),ae(O,{key:0,ref_key:"popoverRef",ref:ne,visible:K.value,placement:"right",width:630,trigger:"click","virtual-triggering":"",persistent:""},{default:G(()=>[e("div",ba,[k(ha,{modelGropsByDeveloper:he.value,modelValue:I.value,onUpdateCheckboxValue:De},null,8,["modelGropsByDeveloper","modelValue"])])]),_:1},8,["visible"])):oe("",!0)]),e("div",xa,[A.value?(v(),y("div",Ca,[e("div",wa,[l[4]||(l[4]=e("span",{class:"prop-name"},"Developer: ",-1)),e("span",ka,w(A.value.affiliation),1)]),e("div",Sa,[l[5]||(l[5]=e("span",{class:"prop-name"},"Website/GitHub: ",-1)),e("span",Da,[e("a",{href:xe(Ce)(A.value.website),target:"_blank"},w(A.value.website),9,Ra)])]),e("div",Ta,[l[6]||(l[6]=e("span",{class:"prop-name"},"Paper/Report: ",-1)),e("span",La,[e("a",{href:xe(Ce)(A.value.report),target:"_blank"},w(A.value.report),9,Ma)])]),e("div",Va,[l[7]||(l[7]=e("span",{class:"prop-name"},"Type: ",-1)),e("span",Ea,w(A.value.type)+"-Source",1)]),e("div",Fa,[l[8]||(l[8]=e("span",{class:"prop-name"},"Publish Date: ",-1)),e("span",Na,w(A.value["release date"].split(" ")[0]),1)]),l[9]||(l[9]=e("div",{class:"model-prop"},[e("span",{class:"prop-name"},"Measurement Date: "),e("span",{class:"prop-content"},"2025/2")],-1))])):oe("",!0),e("div",ja,[k(Y,{style:{"font-size":"0.875em"},plain:"",color:"#004f8f",onClick:Le,disabled:Q.value,loading:Q.value},{default:G(()=>[...l[10]||(l[10]=[q(" Download All ",-1)])]),_:1},8,["disabled","loading"])])])])]),e("div",null,[k(ce,{modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=h=>f.value=h),onTabClick:N},{default:G(()=>[(v(),y(F,null,P(S,h=>k(X,{key:h.index,label:"         "+h.name+"         ",name:h.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),e("div",{class:E(["download-box",{show:f.value==2}])},[k(aa,{ref_key:"ValueSpaceComponentProps",ref:R},null,512)],2),e("div",{class:E(["download-box",{show:f.value==1}])},[k(ta,{ref_key:"CulturalAlignmentComponentProps",ref:g},null,512)],2),e("div",{class:E(["chart-box download-box",{show:f.value==0}])},[e("div",Aa,[e("ul",null,[(v(),y(F,null,P(L,h=>e("li",{class:E({active:d.value==h.index}),onClick:U=>Re(h.index),key:h.index},w(h.name),11,Ba)),64))])]),e("div",Ha,[e("div",{class:E(["chart-main-chart",fe.value?"":"close"])},[e("div",{class:"case-btn case-open-btn",onClick:l[2]||(l[2]=h=>_e(!0))},[k(z,{name:"hide-case"}),l[11]||(l[11]=e("span",null,"Show Cases",-1))]),e("div",$a,[e("div",za,[k(ee,{class:"chart",onSetCurrentCaseData:J,ref_key:"chartDom0",ref:r,type:d.value+1},null,8,["type"])])]),e("div",Oa,[e("div",{class:"case-btn case-close-btn",onClick:l[3]||(l[3]=h=>_e(!1))},[k(z,{name:"hide-case"}),l[12]||(l[12]=e("span",null,"Hide Cases",-1))]),e("div",Ua,[e("ul",null,[(v(!0),y(F,null,P(x.value,h=>(v(),y("li",{key:h,onClick:U=>re(h),class:E({active:m.value==h})},[d.value==0?(v(),y(F,{key:0},[q(w(h.indexOf("-")>-1?h.split("-").map(U=>U[0].toUpperCase()).join(""):h.substring(0,3)),1)],64)):d.value==1?(v(),y("span",{key:1,style:{"margin-right":"1em"},innerHTML:h.split("/").map(U=>U.charAt(0).toUpperCase()+U.slice(1)).join("/<br>")},null,8,Ga)):d.value==2?(v(),y(F,{key:2},[q(w(h.split(" ").map(U=>U.charAt(0).toUpperCase()).join("")),1)],64)):d.value==3?(v(),y(F,{key:3},[q(w(h),1)],64)):oe("",!0)],10,qa))),128))])]),e("div",Ia,[i.value&&i.value.length!=0?(v(),ae(da,{key:0,data:i.value},null,8,["data"])):oe("",!0)])])],2),e("p",Pa,w(L[d.value].name)+" Evaluation Results and cases ",1)]),e("div",Wa,[k(ee,{class:E(["chart",{show:d.value==0}]),hasHightlight:!1,onSetCurrentCaseData:J,ref_key:"chartDom1",ref:p,type:1},null,8,["class"]),k(ee,{class:E(["chart",{show:d.value==1}]),hasHightlight:!1,onSetCurrentCaseData:J,ref_key:"chartDom2",ref:b,type:2},null,8,["class"]),k(ee,{class:E(["chart",{show:d.value==2}]),hasHightlight:!1,onSetCurrentCaseData:J,ref_key:"chartDom3",ref:_,type:3},null,8,["class"]),k(ee,{class:E(["chart",{show:d.value==3}]),hasHightlight:!1,onSetCurrentCaseData:J,ref_key:"chartDom4",ref:T,type:4},null,8,["class"])])],2)])}}},dt=pe(Ka,[["__scopeId","data-v-96a01086"]]);export{dt as default};
