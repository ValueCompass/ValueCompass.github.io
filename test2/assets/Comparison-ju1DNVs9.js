/* empty css             *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                     *//* empty css               *//* empty css                    *//* empty css                 *//* empty css                  */import{r as o,o as Ce,n as Ue,a as d,c as m,f as a,_ as Fe,M as w,i as r,P as Ie,Q as Be,k as Ee,w as x,F as S,g as E,s as H,p as le,l as Te,t as ce,m as He,D as Oe,A as qe,z as Ge,R as Ke,G as Qe,x as Ze,y as Je,T as We,H as Xe}from"./index-Bv_QWBiN.js";import{a as fe}from"./axios-DTyqpfTh.js";import{i as Ye}from"./linesGL-D8gawxrq.js";import{V as ea,_ as aa}from"./CulturalAlignment-4N3De10e.js";import{M as la,S as oa,G as ta}from"./selectedPoints-CBTzrqbx.js";import{a as oe,m as na,b as D,g as sa,c as ra,d as ua}from"./common-zENHfddR.js";/* empty css                   */import"./pagination-C3KXZ1iq.js";import"./homepageSwiper-Bo5nTlvy.js";import"./jspdf.es.min-BxLHGIlq.js";import"./tslib.es6-IUHn8RWT.js";import"./api-856CDVxC.js";import"./axios-CoPugNMf.js";/* empty css                 *//* empty css                  */import"./Schwartz_image-hQPpC2TV.js";import"./typeof-QjJsDpFa.js";const Ve="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",da={class:""},me={__name:"echart",props:{type:{type:Number,required:!0}},setup(te,{expose:k}){const M=te,R=o(null);let L=null;return k({setRadarChart:(i,b,W)=>{console.log(i);let p=[],u=[],T=[];if(i.length>0){const $=i.flatMap(v=>Object.entries(v[b]).filter(([g,z])=>g!=="model_name"&&g!=="Score").map(([g,z])=>z)),P=Math.ceil(Math.max(...$)*1)/1;let X=2;M.type==1&&(X=5);const N=Math.floor(Math.min(...$)*1)/1-X;let Y=[];W?Y=W:Y=Object.keys(i[0][b]),T=Y.filter(v=>v!="model_name"&&v!="Score").map((v,g)=>({name:v,color:(g==0,"#000"),axisLabel:{show:g==0},min:N,max:P}));for(let v=0;v<i.length;v++){let g=[];for(let z=0;z<T.length;z++)g.push(i[v][b][T[z].name]);p.push({name:i[v].model_name,value:g,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:i[v].color},itemStyle:{color:i[v].color}}),u.push(i[v].model_name)}}L.setOption({legend:{data:u,textStyle:{fontSize:14,color:"black"}},radar:{center:["50%","56%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function($){return $.split("&").join(`&
`)}},axisLabel:{formatter:function($){return $.toFixed(0)}},triggerEvent:!0,indicator:T},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:p}]})}}),Ce(async()=>{await Ue(),L=Ye(R.value);const i={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};L.setOption(i)}),(i,b)=>(d(),m("div",null,[a("div",da,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:R,style:{width:"1200px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},ia={class:""},ca={class:"echart-list"},ma={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(te,{expose:k}){const M=te,R=o(null),L=o(null),J=o(null),i=o(null),b=o(null);return k({setRadarChart:(p,u)=>{b.value=p,R.value.setRadarChart(p,"Schwartz_data",u?u.Schwartz_data:null),L.value.setRadarChart(p,"MFT_data",u?u.MFT_data:null),J.value.setRadarChart(p,"Risk_data",u?u.Risk_data:null),i.value.setRadarChart(p,"FULVa_data",u?u.FULVa_data:null)}}),(p,u)=>(d(),m("div",null,[a("div",ia,[a("div",ca,[a("div",{class:w(["download-box",{show:M.DimensionMeasurementTabIndex==0}])},[u[0]||(u[0]=a("p",null,"Schwartz Theory of Basic Values",-1)),r(me,{ref_key:"chartDom1",ref:R,type:1},null,512)],2),a("div",{class:w(["download-box",{show:M.DimensionMeasurementTabIndex==1}])},[u[1]||(u[1]=a("p",null,"Moral Foundation Theory",-1)),r(me,{ref_key:"chartDom2",ref:L,type:2},null,512)],2),a("div",{class:w(["download-box",{show:M.DimensionMeasurementTabIndex==2}])},[u[2]||(u[2]=a("p",null,"Safety Taxonomy",-1)),r(me,{ref_key:"chartDom3",ref:J,type:3},null,512)],2),a("div",{class:w(["download-box",{show:M.DimensionMeasurementTabIndex==3}])},[u[3]||(u[3]=a("p",null,"LLMs' Unique Value System",-1)),r(me,{ref_key:"chartDom4",ref:i,type:4},null,512)],2)])])]))}},va=Fe(ma,[["__scopeId","data-v-546dcc91"]]),pa={class:"bg comparison-template main-container"},fa={class:"title-content"},ha={class:"compare-model-list",style:{position:"relative"}},_a=["onClick"],ba={class:"name"},ya={class:"top-item-content"},xa={class:"dev"},wa={class:"date"},ka=["onClick"],ga={id:"popoverId",style:{position:"relative"}},Sa={class:"max-num-tip",style:{}},Ma={class:"chart-box"},Ta={class:"chart-tab"},Va={class:"chart-main",style:{}},Ca={__name:"Comparison",setup(te){const k=o(null),M=o(null),R=o(null);o(null);const L=ta.colorList,J=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}],i=o(null);var b=null,W=null,p=null,u=null,T=null,$=null,P=null,X=null;const N=o(),Y=o([]),v=o(null),g=o(!1),z=o(),O=o([]),n=o([]),c=o([]),j=t=>fe.get(t),Re=async()=>{try{fe.all([j("./data/models_info.json"),j("./data/Schwartz_scores.json"),j("./data/Schwartz_cases.json"),j("./data/Risk_scores.json"),j("./data/Risk_cases.json"),j("./data/MFT_scores.json"),j("./data/MFT_cases.json"),j("./data/FULVa_scores.json")]).then(fe.spread(function(t,e,f,y,s,F,pe,h){X=t.data.data,N.value=oe(t.data.data),b=oe(e.data.data),W=f.data.data,p=oe(y.data.data),u=s.data.data,T=oe(F.data.data),$=pe.data.data,P=oe(h.data.data),C=na(b,p,T,P);for(let l in N.value){const _=D(l,[],C);N.value[l].points=(_*1).toFixed(2)}if(z.value=sa(X),O.value=Object.keys(N.value),he.value=Object.keys(b[O.value[0]]),q.value=he.value,be.value=Object.keys(p[O.value[0]]),K.value=be.value,_e.value=Object.keys(T[O.value[0]]),G.value=_e.value,ye.value=Object.keys(P[O.value[0]]),Q.value=ye.value,Z)n.value=Z;else{const l=O.value.slice(0,2);n.value=l}ne(),i.value.hancelTypeIndexChange(0)}))}catch(t){console.error("Fetch error:",t)}},A=(t,e)=>e.label=="model_name"?t[e.label]:(t[e.label]*1).toFixed(2),V=o(0),ze=t=>{console.log(t),V.value=t.index},De=t=>{n.value=t,ne()},ne=()=>{g.value=!1,B.value=null,console.log(n.value),n.value.length>5&&I.value,$e(),Y.value=""},Le=(t,e)=>{n.value.splice(e,1),ne()},he=o([]),_e=o([]),be=o([]),ye=o([]),q=o([]),G=o([]),K=o([]),Q=o([]),se=o([]),re=o([]),ue=o([]),de=o([]),$e=()=>{c.value=[],n.value.length>5&&I.value;var t=[];for(let e=0;e<n.value.length;e++){console.log(c.value);let f=!1;c.value.forEach(s=>{console.log("item",s,n.value[e]),s.model_name==n.value[e]&&(f=!0),t.push(s.color)});let y=L.filter(s=>t.every(F=>F!=s));if(!f){let s={};s.color=y[0],s.model_name=n.value[e],s.model_info=N.value[n.value[e]],s.Schwartz_data=b[n.value[e]],s.Risk_data=p[n.value[e]],s.MFT_data=T[n.value[e]],s.FULVa_data=P[n.value[e]],c.value.push(s)}}console.log("checkedModelDetailList.value",c.value),se.value=[],re.value=[],ue.value=[],de.value=[];for(let e=0;e<c.value.length;e++){let f={};f=b[n.value[e]],f.model_name=n.value[e],f.Score=D(n.value[e],q.value,C),se.value.push(f);let y={};y=p[n.value[e]],y.model_name=n.value[e],y.Score=D(n.value[e],K.value,C),ue.value.push(y);let s={};s=T[n.value[e]],s.model_name=n.value[e],s.Score=D(n.value[e],G.value,C),re.value.push(s);let F={};F=P[n.value[e]],F.model_name=n.value[e],F.Score=D(n.value[e],Q.value,C),de.value.push(F)}console.log("sssss",c.value),k.value.setRadarChart(c.value),R.value.setValueSpacesData(c.value),console.log("ssssaaas",c.value),M.value.setHotChart(n.value),console.log("checkedModelDetailList.value",c.value)};Ie(()=>{});let Z=null;const ve=Be();let xe=!0;Ce(()=>{Z=ve.query.modelName,Re(),document.addEventListener("click",Ne)}),Ee(()=>{V.value=0,U.value=0,xe?xe=!1:(Z=ve.query.modelName,Z&&(console.log("首页传过来的modelName："+ve.query.modelName),n.value=Z,ne()))});let C=null;const je=t=>{console.log("!!!filerData",t),U.value=t.index,t.index==0&&(q.value=t.checkPoints.map(e=>e)),t.index==1&&(G.value=t.checkPoints.map(e=>e)),t.index==2&&(K.value=t.checkPoints.map(e=>e)),t.index==3&&(Q.value=t.checkPoints.map(e=>e));for(let e=0;e<c.value.length;e++)se.value[e].Score=D(n.value[e],q.value,C),ue.value[e].Score=D(n.value[e],K.value,C),re.value[e].Score=D(n.value[e],G.value,C),de.value[e].Score=D(n.value[e],Q.value,C);k.value.setRadarChart(c.value,{Schwartz_data:q.value,MFT_data:G.value,Risk_data:K.value,FULVa_data:Q.value})},U=o(0),ee=o(!1),Ae=async()=>{console.log("downloadAll"),!ee.value&&(ee.value=!0,await Pe(),ee.value=!1)},we=o(null),ke=o(null),ge=o(null),Se=o(null),Pe=async t=>{const e=[[{name:"Schwartz Theory of Basic Values",chart:we.value.$el},{name:"Moral Foundation Theory",chart:ke.value.$el},{name:"Safety Taxonomy",chart:ge.value.$el},{name:"LLMs' Unique Value System",chart:Se.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:k.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:k.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:k.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:k.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:M.value.$refs.chartDom},{name:"Value Space",chart:R.value.$refs.chartDom}]],f="Comparison_"+ra();await ua(e,c.value,f)},I=o(!0),ie=o([]),B=o(null),Me=t=>{B.value=B.value===t?null:t},Ne=t=>{const e=document.getElementById("popoverId"),f=ie.value.some(s=>s==null?void 0:s.contains(t.target)),y=e==null?void 0:e.contains(t.target);!f&&!y&&(B.value=null)};return(t,e)=>{const f=qe,y=Je,s=Ge,F=We,pe=Ke,h=Xe,ae=Qe;return d(),m("div",pa,[a("div",null,[a("div",fa,[e[9]||(e[9]=a("h2",null,"Compare Pool",-1)),a("div",ha,[r(f,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Ae,disabled:ee.value,loading:ee.value},{default:x(()=>[...e[4]||(e[4]=[Te(" Download All ",-1)])]),_:1},8,["disabled","loading"]),a("ul",null,[(d(!0),m(S,null,E(c.value,(l,_)=>(d(),m("li",{class:"model-li",key:l,style:Ze({"border-color":l.color})},[a("span",{class:"close",onClick:Fa=>Le(l.model_name,_)},null,8,_a),a("p",ba,ce(l.model_name),1),a("div",ya,[r(y,{effect:"customized",content:"Proprietary",placement:"top"},{default:x(()=>[...e[5]||(e[5]=[a("span",{class:"type-icon"},null,-1)])]),_:1}),a("span",xa,ce(l.model_info.developer),1),a("span",wa,ce(l.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),c.value.length<=5?(d(!0),m(S,{key:0},E(5-c.value.length,l=>(d(),m("li",{key:l,class:"model-li add-model",ref_for:!0,ref:_=>ie.value[l]=_,onClick:_=>Me(l)},[...e[6]||(e[6]=[a("img",{src:Ve,alt:"add-model"},null,-1),a("p",null,"Add",-1)])],8,ka))),128)):H("",!0),!I.value&&c.value.length>=5?(d(),m("li",{key:1,class:"model-li add-model",ref:l=>ie.value[0]=l,onClick:e[0]||(e[0]=l=>Me(0))},[...e[7]||(e[7]=[a("img",{src:Ve,alt:"add-model"},null,-1),a("p",null,"Add",-1)])],512)):H("",!0),B.value!==null?(d(),le(s,{key:2,ref_key:"popoverRef",ref:v,width:630,visible:!0,"virtual-ref":ie.value[B.value],"virtual-triggering":"",placement:"right",trigger:"click",onAfterLeave:e[1]||(e[1]=l=>B.value=null)},{default:x(()=>[a("div",ga,[r(la,{modelGropsByDeveloper:z.value,modelValue:n.value,isSetModelNumMax:I.value,onUpdateCheckboxValue:De},null,8,["modelGropsByDeveloper","modelValue","isSetModelNumMax"])])]),_:1},8,["virtual-ref"])):H("",!0)]),a("p",Sa,[e[8]||(e[8]=Te(" The maximum number of comparisons supported is ",-1)),a("span",{onDblclick:e[2]||(e[2]=l=>I.value=!I.value)},ce(I.value?5:100),33)])])])]),a("div",Ma,[a("div",Ta,[r(pe,{modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value=l),onTabClick:ze},{default:x(()=>[(d(),m(S,null,E(J,l=>r(F,{key:l.index,label:"         "+l.name+"         ",name:l.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",Va,[He(r(oa,{ref_key:"SelectedPointsRef",ref:i,type:1,onApplyChange:je},null,512),[[Oe,V.value==0||V.value==1]]),a("div",{class:w(["table-box download-box",{show:V.value==0}])},[a("div",{class:w(["download-box",{show:U.value==0}])},[e[11]||(e[11]=a("h4",null,"Schwartz Theory of Basic Values",-1)),r(ae,{data:se.value,ref_key:"SchwartzTableRef",ref:we,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[10]||(e[10]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,E(q.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):H("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:w(["download-box",{show:U.value==1}])},[e[13]||(e[13]=a("h4",null,"Moral Foundations Theory",-1)),r(ae,{data:re.value,ref_key:"MFTTableRef",ref:ke,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[12]||(e[12]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,E(G.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):H("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:w(["download-box",{show:U.value==2}])},[e[15]||(e[15]=a("h4",null,"Safety Taxonomy",-1)),r(ae,{data:ue.value,ref_key:"RiskTableRef",ref:ge,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[14]||(e[14]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,E(K.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):H("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:w(["download-box",{show:U.value==3}])},[e[17]||(e[17]=a("h4",null,"LLMs' Unique Value System",-1)),r(ae,{data:de.value,ref_key:"FULVaTableRef",ref:Se,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[16]||(e[16]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,E(Q.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):H("",!0)],64))),128))]),_:1},8,["data"])],2)],2),a("div",{class:w(["download-box",{show:V.value==1}])},[r(va,{ref_key:"VisualizationComponentProps",ref:k,DimensionMeasurementTabIndex:U.value},null,8,["DimensionMeasurementTabIndex"])],2),a("div",{class:w(["download-box",{show:V.value==3}])},[r(ea,{ref_key:"ValueSpaceComponentProps",ref:R},null,512)],2),a("div",{class:w(["download-box",{show:V.value==2}])},[r(aa,{ref_key:"CulturalAlignmentComponentProps",ref:M},null,512)],2)])])])}}},ol=Fe(Ca,[["__scopeId","data-v-a4f1fe0f"]]);export{ol as default};
