/* empty css             *//* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                     *//* empty css               */import{G as f}from"./CulturalValueAnnotationApi-DnkHbPsR.js";import{_ as h,r as m,o as b,J as p,a as y,c as C,f as r,i as a,w as i,at as u,G as k,A as w,t as v,l as x,H as T}from"./index-B69XOZvP.js";import"./axios-CoPugNMf.js";import"./axios-DTyqpfTh.js";const N={class:"main-container"},S=["onClick"],A={class:"bth-container"},D={__name:"TaskHistory",setup(B){const n=JSON.parse(sessionStorage.getItem("userDetail")||"{}"),d=t=>{console.log(t);const e=t.index;console.log("要传的question信息",t),sessionStorage.setItem("editCurrentQuestion",JSON.stringify(t)),u.push({path:"/CulturalValueAnnotation/"+e})},s=m([]),_=()=>{u.push({path:"/CulturalValueAnnotation"})};return m([]),b(()=>{f({username:n.username,country:n.country,language:n.language}).then(t=>{console.log(t.data);const e=Object.entries(t.data.annotations).map(([o,l])=>({id:o,...l,timestamp:new Date().toISOString().split("T")[0]}));if(e.length===0){p.warning("No task history found.");return}else s.value=e,console.log("tableData.value",s.value)}).catch(t=>{p.error(t.message)}).finally(()=>{})}),(t,e)=>{const o=T,l=k,g=w;return y(),C("div",N,[e[1]||(e[1]=r("h2",{style:{"margin-top":"2em","font-size":"1.5em",color:"#0b70c3"}}," Task History ",-1)),a(l,{data:s.value,border:"",style:{width:"100%","margin-top":"2em"}},{default:i(()=>[a(o,{type:"index",width:"150",label:"Number"}),a(o,{prop:"question",label:"Question"},{default:i(c=>[r("span",{class:"question-link",onClick:E=>d(c.row)},v(c.row.question),9,S)]),_:1}),a(o,{prop:"timestamp",label:"Timestamp",width:"200"})]),_:1},8,["data"]),r("div",A,[a(g,{type:"primary",color:"#0B70C3",onClick:_},{default:i(()=>[...e[0]||(e[0]=[x("Create a new one",-1)])]),_:1})])])}}},F=h(D,[["__scopeId","data-v-1096df8f"]]);export{F as default};
