/* empty css             */import{c as S}from"./api-BesULZSf.js";import{i as D}from"./linesGL-D8gawxrq.js";import{_ as E,r as d,o as b,n as C,a as _,c as v,f as c,m as F,a1 as w}from"./index-DJGtEenL.js";import{a as B}from"./axios-DTyqpfTh.js";import"./jspdf.es.min-DkqOsy_O.js";const k={class:"chart-box"},z={class:"result-main"},M={class:"chart-main"},O={class:"card-item","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0)"},V={__name:"ValueSpace",setup(A,{expose:g}){const m=d(!1);var f=null,p=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function h(s){console.log(s),a!=null&&a.dispose&&a.dispose(),a=D(y.value);const t="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",e=[{type:"scatter3D",data:s.model,symbolSize:24,symbol:t,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];s.model.forEach((l,n)=>{const o=s.node.slice(n*30,n*30+30);e.push({name:l.name,type:"scatter3D",data:o,symbolSize:8,symbol:t,label:{show:!1,formatter:""},itemStyle:{color:p[n],opacity:1}})}),e.push({name:"Geocultural sphere",type:"scatter3D",data:s.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),f=Object.assign([],e);const r={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(l){return l.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${l.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:2,autoRotateAfterStill:1,distance:130},top:"6%"},series:e};a.setOption(r);var i=!1;a.on("click",function(l){const n=a.getOption().series;l.data.type=="model"&&(i=!0,n.forEach(o=>{o.name&&o.name!=l.name&&(o.itemStyle={opacity:.1}),o.name||o.data.forEach(u=>{u.name!=l.name&&(u.itemStyle={opacity:.1})})}),a.setOption({series:n}))}),a.on("mousemove",function(l){i&&(a.setOption({series:f}),i=!1)})}const y=d(null);let a=null;return g({setValueSpacesData:async s=>{if(s.length==0)return;const t=s.map(function(e){return e.model_name});console.log(t),m.value=!0,S({input:t}).then(e=>{console.log(e);let i=e.data;const l={culture:[],model:[],node:[]};l.culture=i.tsne_cultures.map((n,o)=>({name:i.tsne_culture_caption[o],value:n})),l.model=i.tsne_models.map((n,o)=>({name:i.tsne_model_caption[o],value:n,type:"model",itemStyle:{color:p[o],opacity:1}})),h(l)}).catch(e=>{console.log("err")}).finally(()=>{m.value=!1})}}),b(async()=>{await C()}),(s,t)=>{const e=w;return _(),v("div",null,[c("div",k,[c("div",z,[c("div",M,[F((_(),v("div",O,[c("div",{class:"chart",style:{width:"1180px",height:"700px","background-color":"#121f37",padding:"2em 0","border-radius":"0.5em"},ref_key:"chartDom",ref:y},null,512)])),[[e,m.value]])]),t[0]||(t[0]=c("p",{style:{"text-align":"center",color:"#747474","margin-top":"2.25em"}}," The value space is a t-SNE visualization that maps the 10-dimensional value vectors of different models and countries to a lower-dimensional space. ",-1))])])])}}},G=E(V,[["__scopeId","data-v-29984c17"]]),H={class:""},L={__name:"CulturalAlignment",setup(A,{expose:g}){const m=d([]),f=d(null);let p=null;const h=d(),y=d();let a=[];const x=async()=>B.get("./data/value_sim_heatmap.json").then(t=>{console.log(t),h.value=t.data;const e={};for(let r=0;r<t.data.models.length;r++)e[t.data.models[r]]=t.data.cosine_sim_matrix[r];y.value=e}),s=t=>{m.value=t;let e=[];if(t&&t.length>0){let o=[];for(var r=0;r<t.length;r++)o.push(y.value[t[r]]);e={cosine_sim_matrix:o,models:t,countries:a}}else e={cosine_sim_matrix:[],models:[],countries:a};console.log("modelNameList",t,e);var i=[];for(let o=0;o<e.cosine_sim_matrix.length;o++)if(e.cosine_sim_matrix[o])for(let u=0;u<e.countries.length;u++)i.push([o,u,e.cosine_sim_matrix[o][u]]);const l=e.models,n=i.map(function(o){return[o[1],o[0],(o[2]*100).toFixed(3)||"-"]});p.setOption({yAxis:{type:"category",data:l,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:n,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return g({setHotChart:s}),b(async()=>{await x(),await C(),a=h.value.countries;const t=h.value.models;p=D(f.value);const e={tooltip:{position:"top"},grid:{height:"60%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:a,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:t,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"10%",color:["#CF1322","#FFA39E","#eeeeee","#91D5FF","#096DD9"],textStyle:{color:"#000"}}};p.setOption(e),s(m.value)}),(t,e)=>(_(),v("div",null,[c("div",H,[c("div",null,[c("div",null,[c("div",{class:"chart",ref_key:"chartDom",ref:f,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512),e[0]||(e[0]=c("p",{style:{"text-align":"center",color:"#747474"}},"The heatmap illustrates the Pearson correlation between theÂ values of various models and countries.",-1))])])])]))}};export{G as V,L as _};
