/* empty css             *//* empty css                  *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                     *//* empty css               */import{G as T}from"./CulturalValueAnnotationApi-19w4jWGT.js";import{_ as S,r as u,o as b,J as d,a as k,c as w,f as c,i as n,w as m,at as g,G as D,A as x,t as N,l as $,H as v}from"./index-DJGtEenL.js";import"./axios-CI2xUj1E.js";import"./axios-DTyqpfTh.js";const A={class:"main-container"},U=["onClick"],B={class:"bth-container"},E={__name:"TaskHistory",setup(H){const r=JSON.parse(sessionStorage.getItem("userDetail")||"{}"),_=t=>{console.log(t);const a=t.index;console.log("要传的question信息",t),sessionStorage.setItem("editCurrentQuestion",JSON.stringify(t)),g.push({path:"/CulturalValueAnnotation/"+a})},i=u([]),C=()=>{g.push({path:"/CulturalValueAnnotation"})};u([]),b(()=>{T({username:r.username,country:r.country,language:r.language}).then(t=>{console.log(t.data);const a=Object.entries(t.data.annotations).map(([e,o])=>({id:e,...o,timestamp:o.timestamp?h(o.timestamp):""}));if(a.length===0){d.warning("No task history found.");return}else i.value=a,console.log("tableData.value",i.value)}).catch(t=>{d.error(t.message)}).finally(()=>{})});function h(t){const a=new Date(t),e=new Date(a.getTime()+8*60*60*1e3),o=e.getUTCFullYear(),l=String(e.getUTCMonth()+1).padStart(2,"0"),s=String(e.getUTCDate()).padStart(2,"0"),p=String(e.getUTCHours()).padStart(2,"0"),f=String(e.getUTCMinutes()).padStart(2,"0"),y=String(e.getUTCSeconds()).padStart(2,"0");return`${o}-${l}-${s} ${p}:${f}:${y}`}return(t,a)=>{const e=v,o=D,l=x;return k(),w("div",A,[a[1]||(a[1]=c("h2",{style:{"margin-top":"2em","font-size":"1.5em",color:"#0b70c3"}}," Task History ",-1)),n(o,{data:i.value,border:"",style:{width:"100%","margin-top":"2em"}},{default:m(()=>[n(e,{type:"index",width:"150",label:"Number"}),n(e,{prop:"question",label:"Question"},{default:m(s=>[c("span",{class:"question-link",onClick:p=>_(s.row)},N(s.row.question),9,U)]),_:1}),n(e,{prop:"timestamp",label:"Timestamp",width:"200"})]),_:1},8,["data"]),c("div",B,[n(l,{type:"primary",color:"#0B70C3",onClick:C},{default:m(()=>[...a[0]||(a[0]=[$("Create a new one",-1)])]),_:1})])])}}},K=S(E,[["__scopeId","data-v-912d6975"]]);export{K as default};
