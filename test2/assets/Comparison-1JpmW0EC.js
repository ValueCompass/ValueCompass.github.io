/* empty css             */import{E as Ie,M as Ue,S as Ee,G as Be,a as Oe}from"./selectedPoints-BExJB_j4.js";import{E as He}from"./el-radio-WXWbWlwn.js";import{E as qe}from"./el-popper-Bbk4jfHM.js";import"./el-scrollbar-uL6-7f8T.js";import"./el-select-Q4zj7ZZ_.js";import{i as Ge,E as Ke,a as Je}from"./linesGL-DrzFexEh.js";import{E as Qe}from"./el-button-CZfPq3Y2.js";import{r as o,o as Ce,n as Ze,a as d,c as m,e as a,_ as Fe,D as w,h as r,S as We,T as Xe,I as Ye,w as x,F as S,f as B,N as O,L as le,J as Me,t as ce,K as ea,Q as aa,E as la}from"./index-jTCyu2FD.js";import{a as fe}from"./axios-BseM2bBY.js";import{V as oa,_ as ta}from"./CulturalAlignment-D3lWQSMi.js";import{a as oe,m as na,b as D,g as sa,c as ra,d as ua}from"./common-B32Smk0D.js";import"./el-overlay-B8lRMLYP.js";import"./pagination-Dh_AMG5C.js";import"./homepageSwiper-DGUj5AsE.js";import"./jspdf.es.min-BXzt4Sts.js";import"./event-BE20p1dL.js";import"./index-Cz1sIrR7.js";import"./debounce-D_gOr1HQ.js";import"./el-input-5hGu80v-.js";import"./index-BafBtUyt.js";import"./index-nAsmoNQ7.js";import"./focus-trap-CtyF3HCt.js";import"./scroll-VPTlr3lD.js";import"./api-DMwCA6BW.js";import"./Schwartz_image-hQPpC2TV.js";const Ve="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",da={class:""},me={__name:"echart",props:{type:{type:Number,required:!0}},setup(te,{expose:k}){const T=te,R=o(null);let L=null;return k({setRadarChart:(i,b,W)=>{console.log(i);let p=[],u=[],M=[];if(i.length>0){const $=i.flatMap(v=>Object.entries(v[b]).filter(([g,z])=>g!=="model_name"&&g!=="Score").map(([g,z])=>z)),N=Math.ceil(Math.max(...$)*1)/1;let X=2;T.type==1&&(X=5);const P=Math.floor(Math.min(...$)*1)/1-X;let Y=[];W?Y=W:Y=Object.keys(i[0][b]),M=Y.filter(v=>v!="model_name"&&v!="Score").map((v,g)=>({name:v,color:(g==0,"#000"),axisLabel:{show:g==0},min:P,max:N}));for(let v=0;v<i.length;v++){let g=[];for(let z=0;z<M.length;z++)g.push(i[v][b][M[z].name]);p.push({name:i[v].model_name,value:g,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:i[v].color},itemStyle:{color:i[v].color}}),u.push(i[v].model_name)}}L.setOption({legend:{data:u,textStyle:{fontSize:14,color:"black"}},radar:{center:["50%","56%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function($){return $.split("&").join(`&
`)}},axisLabel:{formatter:function($){return $.toFixed(0)}},triggerEvent:!0,indicator:M},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:p}]})}}),Ce(async()=>{await Ze(),L=Ge(R.value);const i={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};L.setOption(i)}),(i,b)=>(d(),m("div",null,[a("div",da,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:R,style:{width:"1200px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},ia={class:""},ca={class:"echart-list"},ma={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(te,{expose:k}){const T=te,R=o(null),L=o(null),Z=o(null),i=o(null),b=o(null);return k({setRadarChart:(p,u)=>{b.value=p,R.value.setRadarChart(p,"Schwartz_data",u?u.Schwartz_data:null),L.value.setRadarChart(p,"MFT_data",u?u.MFT_data:null),Z.value.setRadarChart(p,"Risk_data",u?u.Risk_data:null),i.value.setRadarChart(p,"FULVa_data",u?u.FULVa_data:null)}}),(p,u)=>(d(),m("div",null,[a("div",ia,[a("div",ca,[a("div",{class:w(["download-box",{show:T.DimensionMeasurementTabIndex==0}])},[u[0]||(u[0]=a("p",null,"Schwartz Theory of Basic Values",-1)),r(me,{ref_key:"chartDom1",ref:R,type:1},null,512)],2),a("div",{class:w(["download-box",{show:T.DimensionMeasurementTabIndex==1}])},[u[1]||(u[1]=a("p",null,"Moral Foundation Theory",-1)),r(me,{ref_key:"chartDom2",ref:L,type:2},null,512)],2),a("div",{class:w(["download-box",{show:T.DimensionMeasurementTabIndex==2}])},[u[2]||(u[2]=a("p",null,"Safety Taxonomy",-1)),r(me,{ref_key:"chartDom3",ref:Z,type:3},null,512)],2),a("div",{class:w(["download-box",{show:T.DimensionMeasurementTabIndex==3}])},[u[3]||(u[3]=a("p",null,"LLMs' Unique Value System",-1)),r(me,{ref_key:"chartDom4",ref:i,type:4},null,512)],2)])])]))}},va=Fe(ma,[["__scopeId","data-v-546dcc91"]]),pa={class:"bg comparison-template main-container"},fa={class:"title-content"},ha={class:"compare-model-list",style:{position:"relative"}},_a=["onClick"],ba={class:"name"},ya={class:"top-item-content"},xa={class:"dev"},wa={class:"date"},ka=["onClick"],ga={id:"popoverId",style:{position:"relative"}},Sa={class:"max-num-tip",style:{}},Ta={class:"chart-box"},Ma={class:"chart-tab"},Va={class:"chart-main",style:{}},Ca={__name:"Comparison",setup(te){const k=o(null),T=o(null),R=o(null);o(null);const L=Be.colorList,Z=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}],i=o(null);var b=null,W=null,p=null,u=null,M=null,$=null,N=null,X=null;const P=o(),Y=o([]),v=o(null),g=o(!1),z=o(),H=o([]),n=o([]),c=o([]),j=t=>fe.get(t),Re=async()=>{try{fe.all([j("./data/models_info.json"),j("./data/Schwartz_scores.json"),j("./data/Schwartz_cases.json"),j("./data/Risk_scores.json"),j("./data/Risk_cases.json"),j("./data/MFT_scores.json"),j("./data/MFT_cases.json"),j("./data/FULVa_scores.json")]).then(fe.spread(function(t,e,f,y,s,F,pe,h){X=t.data.data,P.value=oe(t.data.data),b=oe(e.data.data),W=f.data.data,p=oe(y.data.data),u=s.data.data,M=oe(F.data.data),$=pe.data.data,N=oe(h.data.data),C=na(b,p,M,N);for(let l in P.value){const _=D(l,[],C);P.value[l].points=(_*1).toFixed(2)}if(z.value=sa(X),H.value=Object.keys(P.value),he.value=Object.keys(b[H.value[0]]),q.value=he.value,be.value=Object.keys(p[H.value[0]]),K.value=be.value,_e.value=Object.keys(M[H.value[0]]),G.value=_e.value,ye.value=Object.keys(N[H.value[0]]),J.value=ye.value,Q)n.value=Q;else{const l=H.value.slice(0,2);n.value=l}ne(),i.value.hancelTypeIndexChange(0)}))}catch(t){console.error("Fetch error:",t)}},A=(t,e)=>e.label=="model_name"?t[e.label]:(t[e.label]*1).toFixed(2),V=o(0),ze=t=>{console.log(t),V.value=t.index},De=t=>{n.value=t,ne()},ne=()=>{g.value=!1,E.value=null,console.log(n.value),n.value.length>5&&U.value,$e(),Y.value=""},Le=(t,e)=>{n.value.splice(e,1),ne()},he=o([]),_e=o([]),be=o([]),ye=o([]),q=o([]),G=o([]),K=o([]),J=o([]),se=o([]),re=o([]),ue=o([]),de=o([]),$e=()=>{c.value=[],n.value.length>5&&U.value;var t=[];for(let e=0;e<n.value.length;e++){console.log(c.value);let f=!1;c.value.forEach(s=>{console.log("item",s,n.value[e]),s.model_name==n.value[e]&&(f=!0),t.push(s.color)});let y=L.filter(s=>t.every(F=>F!=s));if(!f){let s={};s.color=y[0],s.model_name=n.value[e],s.model_info=P.value[n.value[e]],s.Schwartz_data=b[n.value[e]],s.Risk_data=p[n.value[e]],s.MFT_data=M[n.value[e]],s.FULVa_data=N[n.value[e]],c.value.push(s)}}console.log("checkedModelDetailList.value",c.value),se.value=[],re.value=[],ue.value=[],de.value=[];for(let e=0;e<c.value.length;e++){let f={};f=b[n.value[e]],f.model_name=n.value[e],f.Score=D(n.value[e],q.value,C),se.value.push(f);let y={};y=p[n.value[e]],y.model_name=n.value[e],y.Score=D(n.value[e],K.value,C),ue.value.push(y);let s={};s=M[n.value[e]],s.model_name=n.value[e],s.Score=D(n.value[e],G.value,C),re.value.push(s);let F={};F=N[n.value[e]],F.model_name=n.value[e],F.Score=D(n.value[e],J.value,C),de.value.push(F)}console.log("sssss",c.value),k.value.setRadarChart(c.value),R.value.setValueSpacesData(c.value),console.log("ssssaaas",c.value),T.value.setHotChart(n.value),console.log("checkedModelDetailList.value",c.value)};We(()=>{});let Q=null;const ve=Xe();let xe=!0;Ce(()=>{Q=ve.query.modelName,Re(),document.addEventListener("click",Pe)}),Ye(()=>{V.value=0,I.value=0,xe?xe=!1:(Q=ve.query.modelName,Q&&(console.log("首页传过来的modelName："+ve.query.modelName),n.value=Q,ne()))});let C=null;const je=t=>{console.log("!!!filerData",t),I.value=t.index,t.index==0&&(q.value=t.checkPoints.map(e=>e)),t.index==1&&(G.value=t.checkPoints.map(e=>e)),t.index==2&&(K.value=t.checkPoints.map(e=>e)),t.index==3&&(J.value=t.checkPoints.map(e=>e));for(let e=0;e<c.value.length;e++)se.value[e].Score=D(n.value[e],q.value,C),ue.value[e].Score=D(n.value[e],K.value,C),re.value[e].Score=D(n.value[e],G.value,C),de.value[e].Score=D(n.value[e],J.value,C);k.value.setRadarChart(c.value,{Schwartz_data:q.value,MFT_data:G.value,Risk_data:K.value,FULVa_data:J.value})},I=o(0),ee=o(!1),Ae=async()=>{console.log("downloadAll"),!ee.value&&(ee.value=!0,await Ne(),ee.value=!1)},we=o(null),ke=o(null),ge=o(null),Se=o(null),Ne=async t=>{const e=[[{name:"Schwartz Theory of Basic Values",chart:we.value.$el},{name:"Moral Foundation Theory",chart:ke.value.$el},{name:"Safety Taxonomy",chart:ge.value.$el},{name:"LLMs' Unique Value System",chart:Se.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:k.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:k.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:k.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:k.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:T.value.$refs.chartDom},{name:"Value Space",chart:R.value.$refs.chartDom}]],f="Comparison_"+ra();await ua(e,c.value,f)},U=o(!0),ie=o([]),E=o(null),Te=t=>{E.value=E.value===t?null:t},Pe=t=>{const e=document.getElementById("popoverId"),f=ie.value.some(s=>s==null?void 0:s.contains(t.target)),y=e==null?void 0:e.contains(t.target);!f&&!y&&(E.value=null)};return(t,e)=>{const f=Qe,y=qe,s=He,F=Je,pe=Ke,h=Oe,ae=Ie;return d(),m("div",pa,[a("div",null,[a("div",fa,[e[9]||(e[9]=a("h2",null,"Compare Pool",-1)),a("div",ha,[r(f,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Ae,disabled:ee.value,loading:ee.value},{default:x(()=>[...e[4]||(e[4]=[Me(" Download All ",-1)])]),_:1},8,["disabled","loading"]),a("ul",null,[(d(!0),m(S,null,B(c.value,(l,_)=>(d(),m("li",{class:"model-li",key:l,style:la({"border-color":l.color})},[a("span",{class:"close",onClick:Fa=>Le(l.model_name,_)},null,8,_a),a("p",ba,ce(l.model_name),1),a("div",ya,[r(y,{effect:"customized",content:"Proprietary",placement:"top"},{default:x(()=>[...e[5]||(e[5]=[a("span",{class:"type-icon"},null,-1)])]),_:1}),a("span",xa,ce(l.model_info.developer),1),a("span",wa,ce(l.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),c.value.length<=5?(d(!0),m(S,{key:0},B(5-c.value.length,l=>(d(),m("li",{key:l,class:"model-li add-model",ref_for:!0,ref:_=>ie.value[l]=_,onClick:_=>Te(l)},[...e[6]||(e[6]=[a("img",{src:Ve,alt:"add-model"},null,-1),a("p",null,"Add",-1)])],8,ka))),128)):O("",!0),!U.value&&c.value.length>=5?(d(),m("li",{key:1,class:"model-li add-model",ref:l=>ie.value[0]=l,onClick:e[0]||(e[0]=l=>Te(0))},[...e[7]||(e[7]=[a("img",{src:Ve,alt:"add-model"},null,-1),a("p",null,"Add",-1)])],512)):O("",!0),E.value!==null?(d(),le(s,{key:2,ref_key:"popoverRef",ref:v,width:630,visible:!0,"virtual-ref":ie.value[E.value],"virtual-triggering":"",placement:"right",trigger:"click",onAfterLeave:e[1]||(e[1]=l=>E.value=null)},{default:x(()=>[a("div",ga,[r(Ue,{modelGropsByDeveloper:z.value,modelValue:n.value,isSetModelNumMax:U.value,onUpdateCheckboxValue:De},null,8,["modelGropsByDeveloper","modelValue","isSetModelNumMax"])])]),_:1},8,["virtual-ref"])):O("",!0)]),a("p",Sa,[e[8]||(e[8]=Me(" The maximum number of comparisons supported is ",-1)),a("span",{onDblclick:e[2]||(e[2]=l=>U.value=!U.value)},ce(U.value?5:100),33)])])])]),a("div",Ta,[a("div",Ma,[r(pe,{modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value=l),onTabClick:ze},{default:x(()=>[(d(),m(S,null,B(Z,l=>r(F,{key:l.index,label:"         "+l.name+"         ",name:l.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",Va,[ea(r(Ee,{ref_key:"SelectedPointsRef",ref:i,type:1,onApplyChange:je},null,512),[[aa,V.value==0||V.value==1]]),a("div",{class:w(["table-box download-box",{show:V.value==0}])},[a("div",{class:w(["download-box",{show:I.value==0}])},[e[11]||(e[11]=a("h4",null,"Schwartz Theory of Basic Values",-1)),r(ae,{data:se.value,ref_key:"SchwartzTableRef",ref:we,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[10]||(e[10]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,B(q.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):O("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:w(["download-box",{show:I.value==1}])},[e[13]||(e[13]=a("h4",null,"Moral Foundations Theory",-1)),r(ae,{data:re.value,ref_key:"MFTTableRef",ref:ke,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[12]||(e[12]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,B(G.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):O("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:w(["download-box",{show:I.value==2}])},[e[15]||(e[15]=a("h4",null,"Safety Taxonomy",-1)),r(ae,{data:ue.value,ref_key:"RiskTableRef",ref:ge,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[14]||(e[14]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,B(K.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):O("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:w(["download-box",{show:I.value==3}])},[e[17]||(e[17]=a("h4",null,"LLMs' Unique Value System",-1)),r(ae,{data:de.value,ref_key:"FULVaTableRef",ref:Se,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:x(()=>[r(h,{prop:"model_name",label:"Model",width:"210"}),r(h,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:x(()=>[...e[16]||(e[16]=[a("span",null,"Average",-1)])]),_:1}),(d(!0),m(S,null,B(J.value,(l,_)=>(d(),m(S,{key:_},[l!="model_name"?(d(),le(h,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):O("",!0)],64))),128))]),_:1},8,["data"])],2)],2),a("div",{class:w(["download-box",{show:V.value==1}])},[r(va,{ref_key:"VisualizationComponentProps",ref:k,DimensionMeasurementTabIndex:I.value},null,8,["DimensionMeasurementTabIndex"])],2),a("div",{class:w(["download-box",{show:V.value==3}])},[r(oa,{ref_key:"ValueSpaceComponentProps",ref:R},null,512)],2),a("div",{class:w(["download-box",{show:V.value==2}])},[r(ta,{ref_key:"CulturalAlignmentComponentProps",ref:T},null,512)],2)])])])}}},ll=Fe(Ca,[["__scopeId","data-v-a4f1fe0f"]]);export{ll as default};
