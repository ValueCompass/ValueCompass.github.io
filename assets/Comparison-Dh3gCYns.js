import"./base-C-j2haYg.js";import{c as ta,b as oa,a as la,d as sa}from"./el-radio-DABE9Lag.js";import{e as na,G as ra,a as ca,c as ia,f as ua}from"./el-select-CD7PCPwz.js";import{c as da,E as ma,a as va}from"./linesGL-DDVwCw6g.js";import{r as i,a1 as pa,aD as ha,a2 as _a,d as fa,aE as ba,aF as J,w as A,L as de,h as S,a4 as He,W as ga,aG as me,ac as ya,n as oe,ag as Oe,aH as X,aI as Be,Y as Ue,aC as xa,aJ as wa,o as ve,a as C,c as T,e as t,_ as pe,G as z,p as Te,j as De,F as $,f as H,t as te,U as qe,i as Sa,ay as Ca,az as ka,K as Ta,M as je,H as Da,N as Q,P as ne}from"./index-B2idxEpz.js";import{e as ie,g as ee,m as Ma,f as ae,h as Va}from"./common-DFtheyfs.js";import{i as Me,h as Aa}from"./html2canvas.esm-XTtUG6aq.js";import"./el-input-j4hFphJ8.js";import{_ as La}from"./homepageSwiper-BCXB6sXi.js";import{E as Fa}from"./jspdf.es.min-8vcJZTIL.js";import"./pagination-DFPJP6Ss.js";import"./vnode-BrbjH-H0.js";import"./Schwartz_image-hQPpC2TV.js";function $a(a){let e;const o=i(!1),l=pa({...a,originalPosition:"",originalOverflow:"",visible:!1});function x(n){l.text=n}function r(){const n=l.parent,w=d.ns;if(!n.vLoadingAddClassList){let p=n.getAttribute("loading-number");p=Number.parseInt(p)-1,p?n.setAttribute("loading-number",p.toString()):(me(n,w.bm("parent","relative")),n.removeAttribute("loading-number")),me(n,w.bm("parent","hidden"))}g(),s.unmount()}function g(){var n,w;(w=(n=d.$el)==null?void 0:n.parentNode)==null||w.removeChild(d.$el)}function _(){var n;a.beforeClose&&!a.beforeClose()||(o.value=!0,clearTimeout(e),e=window.setTimeout(k,400),l.visible=!1,(n=a.closed)==null||n.call(a))}function k(){if(!o.value)return;const n=l.parent;o.value=!1,n.vLoadingAddClassList=void 0,r()}const f=fa({name:"ElLoading",setup(n,{expose:w}){const{ns:p,zIndex:m}=ba("loading");return w({ns:p,zIndex:m}),()=>{const u=l.spinner||l.svg,D=J("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...u?{innerHTML:u}:{}},[J("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),P=l.text?J("p",{class:p.b("text")},[l.text]):void 0;return J(ga,{name:p.b("fade"),onAfterLeave:k},{default:A(()=>[de(S("div",{style:{backgroundColor:l.background||""},class:[p.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[J("div",{class:p.b("spinner")},[D,P])]),[[He,l.visible]])])})}}}),s=ha(f),d=s.mount(document.createElement("div"));return{..._a(l),setText:x,removeElLoadingChild:g,close:_,handleAfterLeave:k,vm:d,get $el(){return d.$el}}}let re;const za=function(a={}){if(!ya)return;const e=Ia(a);if(e.fullscreen&&re)return re;const o=$a({...e,closed:()=>{var x;(x=e.closed)==null||x.call(e),e.fullscreen&&(re=void 0)}});Ea(e,e.parent,o),Pe(e,e.parent,o),e.parent.vLoadingAddClassList=()=>Pe(e,e.parent,o);let l=e.parent.getAttribute("loading-number");return l?l=`${Number.parseInt(l)+1}`:l="1",e.parent.setAttribute("loading-number",l),e.parent.appendChild(o.$el),oe(()=>o.visible.value=e.visible),e.fullscreen&&(re=o),o},Ia=a=>{var e,o,l,x;let r;return Oe(a.target)?r=(e=document.querySelector(a.target))!=null?e:document.body:r=a.target||document.body,{parent:r===document.body||a.body?document.body:r,background:a.background||"",svg:a.svg||"",svgViewBox:a.svgViewBox||"",spinner:a.spinner||!1,text:a.text||"",fullscreen:r===document.body&&((o=a.fullscreen)!=null?o:!0),lock:(l=a.lock)!=null?l:!1,customClass:a.customClass||"",visible:(x=a.visible)!=null?x:!0,beforeClose:a.beforeClose,closed:a.closed,target:r}},Ea=async(a,e,o)=>{const{nextZIndex:l}=o.vm.zIndex||o.vm._.exposed.zIndex,x={};if(a.fullscreen)o.originalPosition.value=X(document.body,"position"),o.originalOverflow.value=X(document.body,"overflow"),x.zIndex=l();else if(a.parent===document.body){o.originalPosition.value=X(document.body,"position"),await oe();for(const r of["top","left"]){const g=r==="top"?"scrollTop":"scrollLeft";x[r]=`${a.target.getBoundingClientRect()[r]+document.body[g]+document.documentElement[g]-Number.parseInt(X(document.body,`margin-${r}`),10)}px`}for(const r of["height","width"])x[r]=`${a.target.getBoundingClientRect()[r]}px`}else o.originalPosition.value=X(e,"position");for(const[r,g]of Object.entries(x))o.$el.style[r]=g},Pe=(a,e,o)=>{const l=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?me(e,l.bm("parent","relative")):Be(e,l.bm("parent","relative")),a.fullscreen&&a.lock?Be(e,l.bm("parent","hidden")):me(e,l.bm("parent","hidden"))},ue=Symbol("ElLoading"),Ne=(a,e)=>{var o,l,x,r;const g=e.instance,_=n=>Ue(e.value)?e.value[n]:void 0,k=n=>{const w=Oe(n)&&(g==null?void 0:g[n])||n;return w&&i(w)},f=n=>k(_(n)||a.getAttribute(`element-loading-${wa(n)}`)),s=(o=_("fullscreen"))!=null?o:e.modifiers.fullscreen,d={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:s,target:(l=_("target"))!=null?l:s?void 0:a,body:(x=_("body"))!=null?x:e.modifiers.body,lock:(r=_("lock"))!=null?r:e.modifiers.lock};a[ue]={options:d,instance:za(d)}},Ra=(a,e)=>{for(const o of Object.keys(e))xa(e[o])&&(e[o].value=a[o])},Ba={mounted(a,e){e.value&&Ne(a,e)},updated(a,e){const o=a[ue];e.oldValue!==e.value&&(e.value&&!e.oldValue?Ne(a,e):e.value&&e.oldValue?Ue(e.value)&&Ra(e.value,o.options):o==null||o.instance.close())},unmounted(a){var e;(e=a[ue])==null||e.instance.close(),a[ue]=null}},ja="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",Pa={class:""},ce={__name:"echart",setup(a,{expose:e}){const o=i(null);let l=null;return e({setRadarChart:(r,g,_)=>{const k=r.flatMap(m=>Object.entries(m[g]).filter(([u,D])=>u!=="model_name"&&u!=="Score").map(([u,D])=>D)),f=Math.ceil(Math.max(...k)*1)/1,s=Math.floor(Math.min(...k)*1)/1-10;let d=[];_?d=_:d=Object.keys(r[0][g]);let n=d.filter(m=>m!="model_name"&&m!="Score").map((m,u)=>({name:m,color:(u==0,"#000"),axisLabel:{show:u==0},min:s,max:f})),w=[],p=[];for(let m=0;m<r.length;m++){let u=[];for(let D=0;D<n.length;D++)u.push(r[m][g][n[D].name]);w.push({name:r[m].model_name,value:u,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:r[m].color},itemStyle:{color:r[m].color}}),p.push(r[m].model_name)}l.setOption({legend:{data:p,textStyle:{fontSize:16,color:"black"}},radar:{center:["50%","50%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(m){return m.split("&").join(`&
`)}},axisLabel:{formatter:function(m){return m.toFixed(0)}},triggerEvent:!0,indicator:n},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:w}]})}}),ve(async()=>{await oe(),l=Me(o.value);const r={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};l.setOption(r)}),(r,g)=>(C(),T("div",null,[t("div",Pa,[t("div",null,[t("div",null,[t("div",{class:"chart",ref_key:"chartDom",ref:o,style:{width:"1100px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},he=a=>(Te("data-v-e73ded7a"),a=a(),De(),a),Na={class:""},Ha={class:"echart-list"},Oa=he(()=>t("p",null,"Schwartz Theory of Basic Values",-1)),Ua=he(()=>t("p",null,"Moral Foundation Theory",-1)),qa=he(()=>t("p",null,"Safety Taxonomy",-1)),Ga=he(()=>t("p",null,"LLMs' Unique Value System",-1)),Wa={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(a,{expose:e}){const o=a,l=i(null),x=i(null),r=i(null),g=i(null),_=i(null);return e({setRadarChart:(f,s)=>{_.value=f,l.value.setRadarChart(f,"Schwartz_data",s?s.Schwartz_data:null),x.value.setRadarChart(f,"MFT_data",s?s.MFT_data:null),r.value.setRadarChart(f,"Risk_data",s?s.Risk_data:null),g.value.setRadarChart(f,"FULVa_data",s?s.FULVa_data:null)}}),(f,s)=>(C(),T("div",null,[t("div",Na,[t("div",Ha,[t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==0}])},[Oa,S(ce,{ref_key:"chartDom1",ref:l},null,512)],2),t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==1}])},[Ua,S(ce,{ref_key:"chartDom2",ref:x},null,512)],2),t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==2}])},[qa,S(ce,{ref_key:"chartDom3",ref:r},null,512)],2),t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==3}])},[Ga,S(ce,{ref_key:"chartDom4",ref:g},null,512)],2)])])]))}},Ka=pe(Wa,[["__scopeId","data-v-e73ded7a"]]),Za=a=>(Te("data-v-14a8ff5f"),a=a(),De(),a),Ya={class:"chart-box"},Ja={class:"result-main"},Xa={class:"chart-main"},Qa={class:"card-item","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0)"},et=Za(()=>t("p",{style:{"text-align":"center",color:"#747474","margin-top":"2.25em"}},"The value space is a t-SNE visualization that maps the 10-dimensional value vectors of different models and countries to a lower-dimensional space.",-1)),at={__name:"ValueSpace",setup(a,{expose:e}){const o=i(!1);var l=null,x=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function r(f){console.log(f),_!=null&&_.dispose&&_.dispose(),_=Me(g.value);const s="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",d=[{type:"scatter3D",data:f.model,symbolSize:24,symbol:s,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];f.model.forEach((p,m)=>{const u=f.node.slice(m*30,m*30+30);d.push({name:p.name,type:"scatter3D",data:u,symbolSize:8,symbol:s,label:{show:!1,formatter:""},itemStyle:{color:x[m],opacity:1}})}),d.push({name:"Geocultural sphere",type:"scatter3D",data:f.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),l=Object.assign([],d);const n={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(p){return p.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${p.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:2,autoRotateAfterStill:1,distance:130},top:"6%"},series:d};_.setOption(n);var w=!1;_.on("click",function(p){const m=_.getOption().series;p.data.type=="model"&&(w=!0,m.forEach(u=>{u.name&&u.name!=p.name&&(u.itemStyle={opacity:.1}),u.name||u.data.forEach(D=>{D.name!=p.name&&(D.itemStyle={opacity:.1})})}),_.setOption({series:m}))}),_.on("mousemove",function(p){w&&(_.setOption({series:l}),w=!1)})}const g=i(null);let _=null;return e({setValueSpacesData:async f=>{const s=f.map(function(d){return d.model_name});console.log(s),o.value=!0,da({input:s}).then(d=>{console.log(d);let w=d.data;const p={culture:[],model:[],node:[]};p.culture=w.tsne_cultures.map((m,u)=>({name:w.tsne_culture_caption[u],value:m})),p.model=w.tsne_models.map((m,u)=>({name:w.tsne_model_caption[u],value:m,type:"model",itemStyle:{color:x[u],opacity:1}})),r(p)}).catch(d=>{console.log("err")}).finally(()=>{o.value=!1})}}),ve(async()=>{await oe()}),(f,s)=>{const d=Ba;return C(),T("div",null,[t("div",Ya,[t("div",Ja,[t("div",Xa,[de((C(),T("div",Qa,[t("div",{class:"chart",style:{width:"1180px",height:"700px","background-color":"#121f37",padding:"2em 0","border-radius":".5em"},ref_key:"chartDom",ref:g},null,512)])),[[d,o.value]])]),et])])])}}},tt=pe(at,[["__scopeId","data-v-14a8ff5f"]]),ot={class:""},lt=t("p",{style:{"text-align":"center",color:"#747474"}},"The heatmap illustrates the Pearson correlation between the values of various models and countries.",-1),st={__name:"CulturalAlignment",setup(a,{expose:e}){const o=i([]),l=i(null);let x=null;const r=i(),g=i();let _=[];const k=async()=>ie.get("./data/value_sim_heatmap.json").then(s=>{console.log(s),r.value=s.data;const d={};for(let n=0;n<s.data.models.length;n++)d[s.data.models[n]]=s.data.cosine_sim_matrix[n];g.value=d}),f=s=>{o.value=s;let d=[];if(s&&s.length>0){let u=[];for(var n=0;n<s.length;n++)u.push(g.value[s[n]]);d={cosine_sim_matrix:u,models:s,countries:_}}else d={cosine_sim_matrix:[r.value.cosine_sim_matrix[0],r.value.cosine_sim_matrix[1]],models:[r.value.models[0],r.value.models[1]],countries:_};console.log("modelNameList",s,d);var w=[];for(let u=0;u<d.cosine_sim_matrix.length;u++)if(d.cosine_sim_matrix[u])for(let D=0;D<d.countries.length;D++)w.push([u,D,d.cosine_sim_matrix[u][D]]);const p=d.models,m=w.map(function(u){return[u[1],u[0],(u[2]*100).toFixed(3)||"-"]});x.setOption({yAxis:{type:"category",data:p,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:m,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return e({setHotChart:f}),ve(async()=>{await k(),await oe(),_=r.value.countries;const s=r.value.models;x=Me(l.value);const d={tooltip:{position:"top"},grid:{height:"60%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:_,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:s,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"10%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};x.setOption(d),f(o.value)}),(s,d)=>(C(),T("div",null,[t("div",ot,[t("div",null,[t("div",null,[t("div",{class:"chart",ref_key:"chartDom",ref:l,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512),lt])])])]))}},nt={class:"dimension-measurement-tabs"},rt={class:"label"},ct=["onClick"],it={__name:"DimensionMeasurementTabs",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},emits:["handleDimensionMeasurementTabsChange"],setup(a,{expose:e,emit:o}){const l=a,x=i(!1),r=[{value:1,label:"Schwartz Theory of Basic Values"},{value:2,label:"Moral Foundation Theory"},{value:3,label:"Safety Taxonomy"},{value:4,label:"LLMs' Unique Value System"}],g=o,_=s=>{l.DimensionMeasurementTabIndex=s,g("handleDimensionMeasurementTabsChange",s)},k=i(null),f=s=>{k.value&&k.value.showIntro(s)};return e({hancelTypeIndexChange:_,tablePointDetailShow:x}),(s,d)=>{const n=Sa,w=La;return C(),T("div",nt,[t("ul",rt,[(C(),T($,null,H(r,(p,m)=>t("li",{class:z(l.DimensionMeasurementTabIndex==m?"on":""),key:m,onClick:u=>_(m)},[S(n,{class:"point-type-icon",name:"point-type-icon"}),t("span",null,te(p.label),1),S(n,{class:"info",name:"info",onClick:qe(u=>f(m),["stop"])},null,8,["onClick"])],10,ct)),64))]),S(w,{ref_key:"homepageSwiperRef",ref:k},null,512)])}}},ut=pe(it,[["__scopeId","data-v-f4658b01"]]),I=a=>(Te("data-v-f0302d2b"),a=a(),De(),a),dt={class:"bg comparison-template main-container"},mt={class:"title-content"},vt=I(()=>t("h2",null,"Compare Pool",-1)),pt={class:"compare-model-list",style:{position:"relative"}},ht=["onClick"],_t={class:"name"},ft={class:"top-item-content"},bt=I(()=>t("span",{class:"type-icon"},null,-1)),gt={class:"dev"},yt={class:"date"},xt=I(()=>t("img",{src:ja,alt:"add-model"},null,-1)),wt=I(()=>t("p",null,"Add",-1)),St=[xt,wt],Ct={id:"popoverId"},kt=I(()=>t("p",{class:"max-num-tip",style:{}}," The maximum number of comparisons supported is 5 ",-1)),Tt={class:"chart-box"},Dt={class:"chart-tab"},Mt={class:"chart-main",style:{}},Vt=I(()=>t("h4",null,"Schwartz Theory of Basic Values",-1)),At=I(()=>t("span",null,"Average",-1)),Lt=I(()=>t("h4",null,"Moral Foundations Theory",-1)),Ft=I(()=>t("span",null,"Average",-1)),$t=I(()=>t("h4",null,"Safety Taxonomy",-1)),zt=I(()=>t("span",null,"Average",-1)),It=I(()=>t("h4",null,"LLMs' Unique Value System",-1)),Et=I(()=>t("span",null,"Average",-1)),Rt={__name:"Comparison",setup(a){const e=i(null),o=i(null),l=i(null);i(null);const x=ra.colorList,r=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}];var g=null,_=null,k=null,f=null,s=null,d=null,n=null,w=null;const p=i(),m=i([]),u=i(null),D=i(!1),P=i([]),b=i([]),R=i([]),O=h=>ie.get(h),Ge=async()=>{try{ie.all([O("./data/models_info.json"),O("./data/Schwartz_scores.json"),O("./data/Schwartz_cases.json"),O("./data/Risk_scores.json"),O("./data/Risk_cases.json"),O("./data/MFT_scores.json"),O("./data/MFT_cases.json"),O("./data/FULVa_scores.json")]).then(ie.spread(function(h,c,L,E,y,M,Y,j){w=h.data.data,p.value=ee(h.data.data),g=ee(c.data.data),_=L.data.data,k=ee(E.data.data),f=y.data.data,s=ee(M.data.data),d=Y.data.data,n=ee(j.data.data),K=Ma(g,k,s,n);for(let V in p.value){const N=ae(V,[],K);p.value[V].points=(N*1).toFixed(2)}if(P.value=Object.keys(p.value),Ve.value=Object.keys(g[P.value[0]]),_e.value=Ve.value,Le.value=Object.keys(k[P.value[0]]),be.value=Le.value,Ae.value=Object.keys(s[P.value[0]]),fe.value=Ae.value,Fe.value=Object.keys(n[P.value[0]]),ge.value=Fe.value,W)b.value=W;else{const V=P.value.slice(0,2);b.value=V}le()}))}catch(h){console.error("Fetch error:",h)}},U=(h,c)=>c.label=="model_name"?h[c.label]:(h[c.label]*1).toFixed(2),B=i(0),We=h=>{console.log(h),B.value=h.index},le=()=>{D.value=!1,console.log(b.value),b.value.length>5&&alert("最多可添加5个model"),Ze(),m.value=""},Ke=(h,c)=>{b.value.length<=1||(b.value.splice(c,1),le())},Ve=i([]),Ae=i([]),Le=i([]),Fe=i([]),_e=i([]),fe=i([]),be=i([]),ge=i([]),ye=i([]),xe=i([]),we=i([]),Se=i([]),Ze=()=>{R.value=[],b.value.length>5&&alert("最多可添加5个model");var h=[];for(let c=0;c<b.value.length&&!(c>=5);c++){console.log(R.value);let L=!1;R.value.forEach(y=>{console.log("item",y,b.value[c]),y.model_name==b.value[c]&&(L=!0),h.push(y.color)});let E=x.filter(y=>h.every(M=>M!=y));if(!L){let y={};y.color=E[0],y.model_name=b.value[c],y.model_info=p.value[b.value[c]],y.Schwartz_data=g[b.value[c]],y.Risk_data=k[b.value[c]],y.MFT_data=s[b.value[c]],y.FULVa_data=n[b.value[c]],R.value.push(y)}}console.log("checkedModelDetailList.value",R.value),ye.value=[],xe.value=[],we.value=[],Se.value=[];for(let c=0;c<R.value.length;c++){let L={};L=g[b.value[c]],L.model_name=b.value[c],L.Score=ae(b.value[c],_e.value,K),ye.value.push(L);let E={};E=k[b.value[c]],E.model_name=b.value[c],E.Score=ae(b.value[c],be.value,K),we.value.push(E);let y={};y=s[b.value[c]],y.model_name=b.value[c],y.Score=ae(b.value[c],fe.value,K),xe.value.push(y);let M={};M=n[b.value[c]],M.model_name=b.value[c],M.Score=ae(b.value[c],ge.value,K),Se.value.push(M)}e.value.setRadarChart(R.value),l.value.setValueSpacesData(R.value),o.value.setHotChart(b.value),console.log("checkedModelDetailList.value",R.value)};Ca(()=>{});let W=null;const Ce=ka();let $e=!0;ve(()=>{W=Ce.query.modelName,Ge(),document.addEventListener("click",Ye)});const Ye=h=>{const c=document.getElementById("popoverId");u.value&&c&&!c.contains(h.target)&&(D.value=!1)};Ta(()=>{B.value=0,q.value=0,$e?$e=!1:(W=Ce.query.modelName,W&&(console.log("首页传过来的modelName："+Ce.query.modelName),b.value=W,le()))});let K=null;const q=i(0),Je=h=>{q.value=h},Z=i(!1),Xe=async()=>{console.log("downloadAll"),!Z.value&&(Z.value=!0,await Qe(null),Z.value=!1)},ze=i(null),Ie=i(null),Ee=i(null),Re=i(null),Qe=async h=>{const c=[[{name:"Schwartz Theory of Basic Values",chart:ze.value.$el},{name:"Moral Foundation Theory",chart:Ie.value.$el},{name:"Safety Taxonomy",chart:Ee.value.$el},{name:"LLMs' Unique Value System",chart:Re.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:e.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:e.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:e.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:e.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:o.value.$refs.chartDom},{name:"Value Space",chart:l.value.$refs.chartDom}]];console.log(h),h||(h=new Fa("p","mm","a4"));const L=h.internal.pageSize.getWidth(),E=h.internal.pageSize.getHeight(),y=10;let M=y;for(let j=0;j<c.length;j++){j>0&&(h.addPage(),M=y);for(let G=0;G<c[j].length;G++){const N=(await Aa(c[j][G].chart)).toDataURL("image/png"),se=h.getImageProperties(N),v=L-2*y,F=se.height*v/se.width;M+F>E-y&&(h.addPage(),M=y);const ke=c[j][G].name,ea=h.getTextWidth(ke),aa=(L-ea)/2;h.text(ke,aa,M),M+=8,h.addImage(N,"PNG",y,M,v,F),M+=F+y+5}}const Y=b.value.join("+")+"_"+Va();h.save(Y+".pdf")};return(h,c)=>{const L=ta,E=la,y=ca,M=ia,Y=oa,j=va,G=ma,V=ua,N=na,se=sa;return C(),T("div",dt,[t("div",null,[t("div",mt,[vt,t("div",pt,[S(L,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Xe,disabled:Z.value,loading:Z.value},{default:A(()=>[je(" Download All ")]),_:1},8,["disabled","loading"]),t("ul",null,[(C(!0),T($,null,H(R.value,(v,F)=>(C(),T("li",{class:"model-li",key:v,style:Da({"border-color":v.color})},[t("span",{class:"close",onClick:ke=>Ke(v.model_name,F)},null,8,ht),t("p",_t,te(v.model_name),1),t("div",ft,[S(E,{effect:"customized",content:"Proprietary",placement:"top"},{default:A(()=>[bt]),_:1}),t("span",gt,te(v.model_info.developer),1),t("span",yt,te(v.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),(C(!0),T($,null,H(5-R.value.length,v=>de((C(),T("li",{key:v,class:"model-li add-model",onClick:c[0]||(c[0]=qe(F=>D.value=!0,["stop"])),ref_for:!0,ref:"listItem"},St)),[[se,u.value]])),128)),S(Y,{ref_key:"popoverRef",ref:u,visible:D.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:"",reference:h.currentLi},{default:A(()=>[t("div",Ct,[S(M,{modelValue:b.value,"onUpdate:modelValue":c[1]||(c[1]=v=>b.value=v),max:5},{default:A(()=>[(C(!0),T($,null,H(P.value,v=>(C(),Q(y,{key:v,value:v},{default:A(()=>[je(te(v),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[t("button",{onClick:le},"Submit")])])]),_:1},8,["visible","reference"])]),kt])])]),t("div",Tt,[t("div",Dt,[S(G,{modelValue:B.value,"onUpdate:modelValue":c[2]||(c[2]=v=>B.value=v),onTabClick:We},{default:A(()=>[(C(),T($,null,H(r,v=>S(j,{key:v.index,label:"         "+v.name+"         ",name:v.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),t("div",Mt,[de(S(ut,{style:{margin:"0.5em 0 2.5em"},DimensionMeasurementTabIndex:q.value,onHandleDimensionMeasurementTabsChange:Je},null,8,["DimensionMeasurementTabIndex","onHandleDimensionMeasurementTabsChange"]),[[He,B.value==0||B.value==1]]),t("div",{class:z(["table-box download-box",{show:B.value==0}])},[t("div",{class:z(["download-box",{show:q.value==0}])},[Vt,S(N,{data:ye.value,ref_key:"SchwartzTableRef",ref:ze,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:A(()=>[S(V,{prop:"model_name",label:"Model",width:"210"}),S(V,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:A(()=>[At]),_:1}),(C(!0),T($,null,H(_e.value,(v,F)=>(C(),T($,{key:F},[v!="model_name"?(C(),Q(V,{key:0,prop:v,label:v,formatter:U},null,8,["prop","label"])):ne("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==1}])},[Lt,S(N,{data:xe.value,ref_key:"MFTTableRef",ref:Ie,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:A(()=>[S(V,{prop:"model_name",label:"Model",width:"210"}),S(V,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:A(()=>[Ft]),_:1}),(C(!0),T($,null,H(fe.value,(v,F)=>(C(),T($,{key:F},[v!="model_name"?(C(),Q(V,{key:0,prop:v,label:v,formatter:U},null,8,["prop","label"])):ne("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==2}])},[$t,S(N,{data:we.value,ref_key:"RiskTableRef",ref:Ee,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:A(()=>[S(V,{prop:"model_name",label:"Model",width:"210"}),S(V,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:A(()=>[zt]),_:1}),(C(!0),T($,null,H(be.value,(v,F)=>(C(),T($,{key:F},[v!="model_name"?(C(),Q(V,{key:0,prop:v,label:v,formatter:U},null,8,["prop","label"])):ne("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==3}])},[It,S(N,{data:Se.value,ref_key:"FULVaTableRef",ref:Re,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:A(()=>[S(V,{prop:"model_name",label:"Model",width:"210"}),S(V,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:A(()=>[Et]),_:1}),(C(!0),T($,null,H(ge.value,(v,F)=>(C(),T($,{key:F},[v!="model_name"?(C(),Q(V,{key:0,prop:v,label:v,formatter:U},null,8,["prop","label"])):ne("",!0)],64))),128))]),_:1},8,["data"])],2)],2),t("div",{class:z(["download-box",{show:B.value==1}])},[S(Ka,{ref_key:"VisualizationComponentProps",ref:e,DimensionMeasurementTabIndex:q.value},null,8,["DimensionMeasurementTabIndex"])],2),t("div",{class:z(["download-box",{show:B.value==3}])},[S(tt,{ref_key:"ValueSpaceComponentProps",ref:l},null,512)],2),t("div",{class:z(["download-box",{show:B.value==2}])},[S(st,{ref_key:"CulturalAlignmentComponentProps",ref:o},null,512)],2)])])])}}},Jt=pe(Rt,[["__scopeId","data-v-f0302d2b"]]);export{Jt as default};
