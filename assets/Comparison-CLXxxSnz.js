import"./base-DebzV9Tp.js";import{b as aa,a as ta,E as oa,c as la}from"./el-button-9DDt1Hu4.js";import{b as sa,G as na,E as ra,a as ca,c as ia}from"./common-data-5yC9XYJt.js";import{c as ua,E as da,a as ma}from"./el-input-C8v5c285.js";import{r as u,a9 as va,ae as pa,aa as ha,d as _a,af as fa,ag as Y,w as L,L as ue,h as w,a2 as Oe,ah as ba,ai as de,aj as ga,n as te,T as He,ak as X,al as Be,am as Ue,a7 as ya,an as xa,o as me,a as C,c as T,e as t,_ as ve,G as z,p as ke,j as Te,F as $,f as O,t as ae,Y as qe,i as wa,ac as Sa,ad as Ca,K as ka,M as je,H as Ta,N as J,P as se}from"./index-BvZtMx4-.js";import{e as ce,g as Q,m as Da,f as ee}from"./common-DpOUPclf.js";import{i as De,h as Ma}from"./html2canvas.esm-XTtUG6aq.js";import{E as Va}from"./jspdf.es.min-DyCkQMCE.js";import{_ as La}from"./homepageSwiper-Dpq8UHHY.js";import"./pagination-COB23SBC.js";import"./vnode-CRBYlORo.js";import"./Schwartz_image-hQPpC2TV.js";function Aa(a){let e;const o=u(!1),l=va({...a,originalPosition:"",originalOverflow:"",visible:!1});function b(i){l.text=i}function c(){const i=l.parent,S=v.ns;if(!i.vLoadingAddClassList){let p=i.getAttribute("loading-number");p=Number.parseInt(p)-1,p?i.setAttribute("loading-number",p.toString()):(de(i,S.bm("parent","relative")),i.removeAttribute("loading-number")),de(i,S.bm("parent","hidden"))}f(),s.unmount()}function f(){var i,S;(S=(i=v.$el)==null?void 0:i.parentNode)==null||S.removeChild(v.$el)}function x(){var i;a.beforeClose&&!a.beforeClose()||(o.value=!0,clearTimeout(e),e=window.setTimeout(k,400),l.visible=!1,(i=a.closed)==null||i.call(a))}function k(){if(!o.value)return;const i=l.parent;o.value=!1,i.vLoadingAddClassList=void 0,c()}const d=_a({name:"ElLoading",setup(i,{expose:S}){const{ns:p,zIndex:n}=fa("loading");return S({ns:p,zIndex:n}),()=>{const h=l.spinner||l.svg,V=Y("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...h?{innerHTML:h}:{}},[Y("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),P=l.text?Y("p",{class:p.b("text")},[l.text]):void 0;return Y(ba,{name:p.b("fade"),onAfterLeave:k},{default:L(()=>[ue(w("div",{style:{backgroundColor:l.background||""},class:[p.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[Y("div",{class:p.b("spinner")},[V,P])]),[[Oe,l.visible]])])})}}}),s=pa(d),v=s.mount(document.createElement("div"));return{...ha(l),setText:b,removeElLoadingChild:f,close:x,handleAfterLeave:k,vm:v,get $el(){return v.$el}}}let ne;const Fa=function(a={}){if(!ga)return;const e=$a(a);if(e.fullscreen&&ne)return ne;const o=Aa({...e,closed:()=>{var b;(b=e.closed)==null||b.call(e),e.fullscreen&&(ne=void 0)}});za(e,e.parent,o),Pe(e,e.parent,o),e.parent.vLoadingAddClassList=()=>Pe(e,e.parent,o);let l=e.parent.getAttribute("loading-number");return l?l=`${Number.parseInt(l)+1}`:l="1",e.parent.setAttribute("loading-number",l),e.parent.appendChild(o.$el),te(()=>o.visible.value=e.visible),e.fullscreen&&(ne=o),o},$a=a=>{var e,o,l,b;let c;return He(a.target)?c=(e=document.querySelector(a.target))!=null?e:document.body:c=a.target||document.body,{parent:c===document.body||a.body?document.body:c,background:a.background||"",svg:a.svg||"",svgViewBox:a.svgViewBox||"",spinner:a.spinner||!1,text:a.text||"",fullscreen:c===document.body&&((o=a.fullscreen)!=null?o:!0),lock:(l=a.lock)!=null?l:!1,customClass:a.customClass||"",visible:(b=a.visible)!=null?b:!0,beforeClose:a.beforeClose,closed:a.closed,target:c}},za=async(a,e,o)=>{const{nextZIndex:l}=o.vm.zIndex||o.vm._.exposed.zIndex,b={};if(a.fullscreen)o.originalPosition.value=X(document.body,"position"),o.originalOverflow.value=X(document.body,"overflow"),b.zIndex=l();else if(a.parent===document.body){o.originalPosition.value=X(document.body,"position"),await te();for(const c of["top","left"]){const f=c==="top"?"scrollTop":"scrollLeft";b[c]=`${a.target.getBoundingClientRect()[c]+document.body[f]+document.documentElement[f]-Number.parseInt(X(document.body,`margin-${c}`),10)}px`}for(const c of["height","width"])b[c]=`${a.target.getBoundingClientRect()[c]}px`}else o.originalPosition.value=X(e,"position");for(const[c,f]of Object.entries(b))o.$el.style[c]=f},Pe=(a,e,o)=>{const l=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?de(e,l.bm("parent","relative")):Be(e,l.bm("parent","relative")),a.fullscreen&&a.lock?Be(e,l.bm("parent","hidden")):de(e,l.bm("parent","hidden"))},ie=Symbol("ElLoading"),Ne=(a,e)=>{var o,l,b,c;const f=e.instance,x=i=>Ue(e.value)?e.value[i]:void 0,k=i=>{const S=He(i)&&(f==null?void 0:f[i])||i;return S&&u(S)},d=i=>k(x(i)||a.getAttribute(`element-loading-${xa(i)}`)),s=(o=x("fullscreen"))!=null?o:e.modifiers.fullscreen,v={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:s,target:(l=x("target"))!=null?l:s?void 0:a,body:(b=x("body"))!=null?b:e.modifiers.body,lock:(c=x("lock"))!=null?c:e.modifiers.lock};a[ie]={options:v,instance:Fa(v)}},Ea=(a,e)=>{for(const o of Object.keys(e))ya(e[o])&&(e[o].value=a[o])},Ia={mounted(a,e){e.value&&Ne(a,e)},updated(a,e){const o=a[ie];e.oldValue!==e.value&&(e.value&&!e.oldValue?Ne(a,e):e.value&&e.oldValue?Ue(e.value)&&Ea(e.value,o.options):o==null||o.instance.close())},unmounted(a){var e;(e=a[ie])==null||e.instance.close(),a[ie]=null}},Ra="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",Ba={class:""},re={__name:"echart",setup(a,{expose:e}){const o=u(null);let l=null;return e({setRadarChart:(c,f,x)=>{const k=c.flatMap(n=>Object.entries(n[f]).filter(([h,V])=>h!=="model_name"&&h!=="Score").map(([h,V])=>V)),d=Math.ceil(Math.max(...k)*1)/1,s=Math.floor(Math.min(...k)*1)/1-10;let v=[];x?v=x:v=Object.keys(c[0][f]);let i=v.filter(n=>n!="model_name"&&n!="Score").map((n,h)=>({name:n,color:(h==0,"#000"),axisLabel:{show:h==0},min:s,max:d})),S=[],p=[];for(let n=0;n<c.length;n++){let h=[];for(let V=0;V<i.length;V++)h.push(c[n][f][i[V].name]);S.push({name:c[n].model_name,value:h,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:c[n].color},itemStyle:{color:c[n].color}}),p.push(c[n].model_name)}l.setOption({legend:{data:p,textStyle:{fontSize:16,color:"black"}},radar:{center:["50%","50%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(n){return n.split("&").join(`&
`)}},axisLabel:{formatter:function(n){return n.toFixed(0)}},triggerEvent:!0,indicator:i},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:S}]})}}),me(async()=>{await te(),l=De(o.value);const c={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};l.setOption(c)}),(c,f)=>(C(),T("div",null,[t("div",Ba,[t("div",null,[t("div",null,[t("div",{class:"chart",ref_key:"chartDom",ref:o,style:{width:"1100px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},pe=a=>(ke("data-v-e73ded7a"),a=a(),Te(),a),ja={class:""},Pa={class:"echart-list"},Na=pe(()=>t("p",null,"Schwartz Theory of Basic Values",-1)),Oa=pe(()=>t("p",null,"Moral Foundation Theory",-1)),Ha=pe(()=>t("p",null,"Safety Taxonomy",-1)),Ua=pe(()=>t("p",null,"LLMs' Unique Value System",-1)),qa={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(a,{expose:e}){const o=a,l=u(null),b=u(null),c=u(null),f=u(null),x=u(null);return e({setRadarChart:(d,s)=>{x.value=d,l.value.setRadarChart(d,"Schwartz_data",s?s.Schwartz_data:null),b.value.setRadarChart(d,"MFT_data",s?s.MFT_data:null),c.value.setRadarChart(d,"Risk_data",s?s.Risk_data:null),f.value.setRadarChart(d,"FULVa_data",s?s.FULVa_data:null)}}),(d,s)=>(C(),T("div",null,[t("div",ja,[t("div",Pa,[t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==0}])},[Na,w(re,{ref_key:"chartDom1",ref:l},null,512)],2),t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==1}])},[Oa,w(re,{ref_key:"chartDom2",ref:b},null,512)],2),t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==2}])},[Ha,w(re,{ref_key:"chartDom3",ref:c},null,512)],2),t("div",{class:z(["download-box",{show:o.DimensionMeasurementTabIndex==3}])},[Ua,w(re,{ref_key:"chartDom4",ref:f},null,512)],2)])])]))}},Ga=ve(qa,[["__scopeId","data-v-e73ded7a"]]),Wa=a=>(ke("data-v-14a8ff5f"),a=a(),Te(),a),Ka={class:"chart-box"},Za={class:"result-main"},Ya={class:"chart-main"},Xa={class:"card-item","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0)"},Ja=Wa(()=>t("p",{style:{"text-align":"center",color:"#747474","margin-top":"2.25em"}},"The value space is a t-SNE visualization that maps the 10-dimensional value vectors of different models and countries to a lower-dimensional space.",-1)),Qa={__name:"ValueSpace",setup(a,{expose:e}){const o=u(!1);var l=null,b=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function c(d){console.log(d),x!=null&&x.dispose&&x.dispose(),x=De(f.value);const s="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",v=[{type:"scatter3D",data:d.model,symbolSize:24,symbol:s,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];d.model.forEach((p,n)=>{const h=d.node.slice(n*30,n*30+30);v.push({name:p.name,type:"scatter3D",data:h,symbolSize:8,symbol:s,label:{show:!1,formatter:""},itemStyle:{color:b[n],opacity:1}})}),v.push({name:"Geocultural sphere",type:"scatter3D",data:d.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),l=Object.assign([],v);const i={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(p){return p.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${p.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:2,autoRotateAfterStill:1,distance:130},top:"6%"},series:v};x.setOption(i);var S=!1;x.on("click",function(p){const n=x.getOption().series;p.data.type=="model"&&(S=!0,n.forEach(h=>{h.name&&h.name!=p.name&&(h.itemStyle={opacity:.1}),h.name||h.data.forEach(V=>{V.name!=p.name&&(V.itemStyle={opacity:.1})})}),x.setOption({series:n}))}),x.on("mousemove",function(p){S&&(x.setOption({series:l}),S=!1)})}const f=u(null);let x=null;return e({setValueSpacesData:async d=>{const s=d.map(function(v){return v.model_name});console.log(s),o.value=!0,ua({input:s}).then(v=>{console.log(v);let S=v.data;const p={culture:[],model:[],node:[]};p.culture=S.tsne_cultures.map((n,h)=>({name:S.tsne_culture_caption[h],value:n})),p.model=S.tsne_models.map((n,h)=>({name:S.tsne_model_caption[h],value:n,type:"model",itemStyle:{color:b[h],opacity:1}})),c(p)}).catch(v=>{console.log("err")}).finally(()=>{o.value=!1})}}),me(async()=>{await te()}),(d,s)=>{const v=Ia;return C(),T("div",null,[t("div",Ka,[t("div",Za,[t("div",Ya,[ue((C(),T("div",Xa,[t("div",{class:"chart",style:{width:"1180px",height:"700px","background-color":"#121f37",padding:"2em 0","border-radius":".5em"},ref_key:"chartDom",ref:f},null,512)])),[[v,o.value]])]),Ja])])])}}},et=ve(Qa,[["__scopeId","data-v-14a8ff5f"]]),at={class:""},tt=t("p",{style:{"text-align":"center",color:"#747474"}},"The heatmap illustrates the Pearson correlation between the values of various models and countries.",-1),ot={__name:"CulturalAlignment",setup(a,{expose:e}){const o=u(null);let l=null;const b=u(),c=u();let f=[];const x=async()=>ce.get("./data/value_sim_heatmap.json").then(d=>{b.value=d.data;const s={};for(let v=0;v<d.data.models.length;v++)s[d.data.models[v]]=d.data.cosine_sim_matrix[v];c.value=s}),k=d=>{let s=[];if(d){let n=[];for(var v=0;v<d.length;v++)n.push(c.value[d[v]]);s={cosine_sim_matrix:n,models:d,countries:f}}else s={cosine_sim_matrix:[b.value.cosine_sim_matrix[0]],models:[b.value.models[0]],countries:f};console.log("modelNameList",d,s);var i=[];for(let n=0;n<s.cosine_sim_matrix.length;n++)if(s.cosine_sim_matrix[n])for(let h=0;h<s.countries.length;h++)i.push([n,h,s.cosine_sim_matrix[n][h]]);const S=s.models,p=i.map(function(n){return[n[1],n[0],(n[2]*100).toFixed(3)||"-"]});l.setOption({yAxis:{type:"category",data:S,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:p,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return e({setHotChart:k}),me(async()=>{await te(),await x(),f=b.value.countries;const d=b.value.models;l=De(o.value);const s={tooltip:{position:"top"},grid:{height:"60%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:f,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:d,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"10%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};l.setOption(s),k()}),(d,s)=>(C(),T("div",null,[t("div",at,[t("div",null,[t("div",null,[t("div",{class:"chart",ref_key:"chartDom",ref:o,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512),tt])])])]))}},lt={class:"dimension-measurement-tabs"},st={class:"label"},nt=["onClick"],rt={__name:"DimensionMeasurementTabs",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},emits:["handleDimensionMeasurementTabsChange"],setup(a,{expose:e,emit:o}){const l=a,b=u(!1),c=[{value:1,label:"Schwartz Theory of Basic Values"},{value:2,label:"Moral Foundation Theory"},{value:3,label:"Safety Taxonomy"},{value:4,label:"LLMs' Unique Value System"}],f=o,x=s=>{l.DimensionMeasurementTabIndex=s,f("handleDimensionMeasurementTabsChange",s)},k=u(null),d=s=>{k.value&&k.value.showIntro(s)};return e({hancelTypeIndexChange:x,tablePointDetailShow:b}),(s,v)=>{const i=wa,S=La;return C(),T("div",lt,[t("ul",st,[(C(),T($,null,O(c,(p,n)=>t("li",{class:z(l.DimensionMeasurementTabIndex==n?"on":""),key:n,onClick:h=>x(n)},[w(i,{class:"point-type-icon",name:"point-type-icon"}),t("span",null,ae(p.label),1),w(i,{class:"info",name:"info",onClick:qe(h=>d(n),["stop"])},null,8,["onClick"])],10,nt)),64))]),w(S,{ref_key:"homepageSwiperRef",ref:k},null,512)])}}},ct=ve(rt,[["__scopeId","data-v-f4658b01"]]),E=a=>(ke("data-v-e04b21f8"),a=a(),Te(),a),it={class:"bg comparison-template main-container"},ut={class:"title-content"},dt=E(()=>t("h2",null,"Compare Pool",-1)),mt={class:"compare-model-list",style:{position:"relative"}},vt=["onClick"],pt={class:"name"},ht={class:"top-item-content"},_t=E(()=>t("span",{class:"type-icon"},null,-1)),ft={class:"dev"},bt={class:"date"},gt=E(()=>t("img",{src:Ra,alt:"add-model"},null,-1)),yt=E(()=>t("p",null,"Add",-1)),xt=[gt,yt],wt={id:"popoverId"},St=E(()=>t("p",{class:"max-num-tip",style:{}}," The maximum number of comparisons supported is 5 ",-1)),Ct={class:"chart-box"},kt={class:"chart-tab"},Tt={class:"chart-main",style:{}},Dt=E(()=>t("h4",null,"Schwartz Theory of Basic Values",-1)),Mt=E(()=>t("span",null,"Average",-1)),Vt=E(()=>t("h4",null,"Moral Foundations Theory",-1)),Lt=E(()=>t("span",null,"Average",-1)),At=E(()=>t("h4",null,"Safety Taxonomy",-1)),Ft=E(()=>t("span",null,"Average",-1)),$t=E(()=>t("h4",null,"LLMs' Unique Value System",-1)),zt=E(()=>t("span",null,"Average",-1)),Et={__name:"Comparison",setup(a){const e=u(null),o=u(null),l=u(null);u(null);const b=na.colorList,c=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}];var f=null,x=null,k=null,d=null,s=null,v=null,i=null,S=null;const p=u(),n=u([]),h=u(null),V=u(!1),P=u([]),g=u([]),R=u([]),H=_=>ce.get(_),Ge=async()=>{try{ce.all([H("./data/models_info.json"),H("./data/Schwartz_scores.json"),H("./data/Schwartz_cases.json"),H("./data/Risk_scores.json"),H("./data/Risk_cases.json"),H("./data/MFT_scores.json"),H("./data/MFT_cases.json"),H("./data/FULVa_scores.json")]).then(ce.spread(function(_,r,A,I,y,M,j,G){S=_.data.data,p.value=Q(_.data.data),f=Q(r.data.data),x=A.data.data,k=Q(I.data.data),d=y.data.data,s=Q(M.data.data),v=j.data.data,i=Q(G.data.data),K=Da(f,k,s,i);for(let D in p.value){const N=ee(D,[],K);p.value[D].points=(N*1).toFixed(2)}if(P.value=Object.keys(p.value),Me.value=Object.keys(f[P.value[0]]),he.value=Me.value,Le.value=Object.keys(k[P.value[0]]),fe.value=Le.value,Ve.value=Object.keys(s[P.value[0]]),_e.value=Ve.value,Ae.value=Object.keys(i[P.value[0]]),be.value=Ae.value,W)g.value=W;else{const D=P.value.slice(0,2);g.value=D}oe()}))}catch(_){console.error("Fetch error:",_)}},U=(_,r)=>r.label=="model_name"?_[r.label]:(_[r.label]*1).toFixed(2),B=u(0),We=_=>{console.log(_),B.value=_.index},oe=()=>{V.value=!1,console.log(g.value),g.value.length>5&&alert("最多可添加5个model"),Ze(),n.value=""},Ke=(_,r)=>{g.value.length<=1||(g.value.splice(r,1),oe())},Me=u([]),Ve=u([]),Le=u([]),Ae=u([]),he=u([]),_e=u([]),fe=u([]),be=u([]),ge=u([]),ye=u([]),xe=u([]),we=u([]),Ze=()=>{R.value=[],g.value.length>5&&alert("最多可添加5个model");var _=[];for(let r=0;r<g.value.length&&!(r>=5);r++){console.log(R.value);let A=!1;R.value.forEach(y=>{console.log("item",y,g.value[r]),y.model_name==g.value[r]&&(A=!0),_.push(y.color)});let I=b.filter(y=>_.every(M=>M!=y));if(!A){let y={};y.color=I[0],y.model_name=g.value[r],y.model_info=p.value[g.value[r]],y.Schwartz_data=f[g.value[r]],y.Risk_data=k[g.value[r]],y.MFT_data=s[g.value[r]],y.FULVa_data=i[g.value[r]],R.value.push(y)}}console.log("checkedModelDetailList.value",R.value),ge.value=[],ye.value=[],xe.value=[],we.value=[];for(let r=0;r<R.value.length;r++){let A={};A=f[g.value[r]],A.model_name=g.value[r],A.Score=ee(g.value[r],he.value,K),ge.value.push(A);let I={};I=k[g.value[r]],I.model_name=g.value[r],I.Score=ee(g.value[r],fe.value,K),xe.value.push(I);let y={};y=s[g.value[r]],y.model_name=g.value[r],y.Score=ee(g.value[r],_e.value,K),ye.value.push(y);let M={};M=i[g.value[r]],M.model_name=g.value[r],M.Score=ee(g.value[r],be.value,K),we.value.push(M)}e.value.setRadarChart(R.value),l.value.setValueSpacesData(R.value),o.value.setHotChart(g.value),console.log("checkedModelDetailList.value",R.value)};Sa(()=>{});let W=null;const Se=Ca();let Fe=!0;me(()=>{W=Se.query.modelName,Ge(),document.addEventListener("click",Ye)});const Ye=_=>{const r=document.getElementById("popoverId");h.value&&r&&!r.contains(_.target)&&(V.value=!1)};ka(()=>{B.value=0,q.value=0,Fe?Fe=!1:(W=Se.query.modelName,W&&(console.log("首页传过来的modelName："+Se.query.modelName),g.value=W,oe()))});let K=null;const q=u(0),Xe=_=>{q.value=_},Z=u(!1),Je=async()=>{console.log("downloadAll"),!Z.value&&(Z.value=!0,await Qe(null),Z.value=!1)},$e=u(null),ze=u(null),Ee=u(null),Ie=u(null),Qe=async _=>{const r=[[{name:"Schwartz Theory of Basic Values",chart:$e.value.$el},{name:"Moral Foundation Theory",chart:ze.value.$el},{name:"Safety Taxonomy",chart:Ee.value.$el},{name:"LLMs' Unique Value System",chart:Ie.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:e.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:e.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:e.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:e.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:o.value.$refs.chartDom},{name:"Value Space",chart:l.value.$refs.chartDom}]];console.log(_),_||(_=new Va("p","mm","a4"));const A=_.internal.pageSize.getWidth(),I=_.internal.pageSize.getHeight(),y=10;let M=y;for(let j=0;j<r.length;j++){j>0&&(_.addPage(),M=y);for(let G=0;G<r[j].length;G++){const D=(await Ma(r[j][G].chart)).toDataURL("image/png"),N=_.getImageProperties(D),le=A-2*y,m=N.height*le/N.width;M+m>I-y&&(_.addPage(),M=y);const F=r[j][G].name,Re=_.getTextWidth(F),ea=(A-Re)/2;_.text(F,ea,M),M+=8,_.addImage(D,"PNG",y,M,le,m),M+=m+y+5}}_.save("charts.pdf")};return(_,r)=>{const A=aa,I=oa,y=ra,M=ca,j=ta,G=ma,Ce=da,D=ia,N=sa,le=la;return C(),T("div",it,[t("div",null,[t("div",ut,[dt,t("div",mt,[w(A,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Je,disabled:Z.value,loading:Z.value},{default:L(()=>[je(" Download All ")]),_:1},8,["disabled","loading"]),t("ul",null,[(C(!0),T($,null,O(R.value,(m,F)=>(C(),T("li",{class:"model-li",key:m,style:Ta({"border-color":m.color})},[t("span",{class:"close",onClick:Re=>Ke(m.model_name,F)},null,8,vt),t("p",pt,ae(m.model_name),1),t("div",ht,[w(I,{effect:"customized",content:"Proprietary",placement:"top"},{default:L(()=>[_t]),_:1}),t("span",ft,ae(m.model_info.developer),1),t("span",bt,ae(m.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),(C(!0),T($,null,O(5-R.value.length,m=>ue((C(),T("li",{key:m,class:"model-li add-model",onClick:r[0]||(r[0]=qe(F=>V.value=!0,["stop"])),ref_for:!0,ref:"listItem"},xt)),[[le,h.value]])),128)),w(j,{ref_key:"popoverRef",ref:h,visible:V.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:"",reference:_.currentLi},{default:L(()=>[t("div",wt,[w(M,{modelValue:g.value,"onUpdate:modelValue":r[1]||(r[1]=m=>g.value=m),max:5},{default:L(()=>[(C(!0),T($,null,O(P.value,m=>(C(),J(y,{key:m,value:m},{default:L(()=>[je(ae(m),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[t("button",{onClick:oe},"Submit")])])]),_:1},8,["visible","reference"])]),St])])]),t("div",Ct,[t("div",kt,[w(Ce,{modelValue:B.value,"onUpdate:modelValue":r[2]||(r[2]=m=>B.value=m),onTabClick:We},{default:L(()=>[(C(),T($,null,O(c,m=>w(G,{key:m.index,label:"         "+m.name+"         ",name:m.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),t("div",Tt,[ue(w(ct,{style:{margin:"0.5em 0 2.5em"},DimensionMeasurementTabIndex:q.value,onHandleDimensionMeasurementTabsChange:Xe},null,8,["DimensionMeasurementTabIndex","onHandleDimensionMeasurementTabsChange"]),[[Oe,B.value==0||B.value==1]]),t("div",{class:z(["table-box download-box",{show:B.value==0}])},[t("div",{class:z(["download-box",{show:q.value==0}])},[Dt,w(N,{data:ge.value,ref_key:"SchwartzTableRef",ref:$e,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[Mt]),_:1}),(C(!0),T($,null,O(he.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==1}])},[Vt,w(N,{data:ye.value,ref_key:"MFTTableRef",ref:ze,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[Lt]),_:1}),(C(!0),T($,null,O(_e.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==2}])},[At,w(N,{data:xe.value,ref_key:"RiskTableRef",ref:Ee,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[Ft]),_:1}),(C(!0),T($,null,O(fe.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==3}])},[$t,w(N,{data:we.value,ref_key:"FULVaTableRef",ref:Ie,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[zt]),_:1}),(C(!0),T($,null,O(be.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2)],2),t("div",{class:z(["download-box",{show:B.value==1}])},[w(Ga,{ref_key:"VisualizationComponentProps",ref:e,DimensionMeasurementTabIndex:q.value},null,8,["DimensionMeasurementTabIndex"])],2),t("div",{class:z(["download-box",{show:B.value==3}])},[w(et,{ref_key:"ValueSpaceComponentProps",ref:l},null,512)],2),t("div",{class:z(["download-box",{show:B.value==2}])},[w(ot,{ref_key:"CulturalAlignmentComponentProps",ref:o},null,512)],2)])])])}}},Kt=ve(Et,[["__scopeId","data-v-e04b21f8"]]);export{Kt as default};
