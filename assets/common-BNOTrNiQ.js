import{E as W,h as v}from"./jspdf.es.min-YSKlW3u3.js";const F=(s,n,g)=>{const e=g[s];let r=0,l=0;if(n.length>0)n.forEach(d=>{e[d]&&(r+=e[d],l++)}),r=r/l;else{const d=Object.values(e);r=d.reduce((t,i)=>t+i,0),r=r/d.length}return r},S=s=>s.reduce((g,e)=>{const{model:r,...l}=e;return g[r]=l,g},{}),w=(s,n,g,e)=>[s,n,g,e].reduce((d,t)=>(Object.entries(t).forEach(([i,o])=>{d[i]=d[i]||{},d[i]={...d[i],...o}}),d),{}),z=s=>(!s.startsWith("http://")&&!s.startsWith("https://")&&(s="https://"+s),s),b=()=>{var s=new Date,n=s.getFullYear(),g=s.getMonth()+1,e=s.getDate(),r=s.getHours(),l=s.getMinutes(),d=s.getSeconds();function t(i){return(i<10?"0":"")+i}return n+"-"+t(g)+"-"+t(e)+" "+t(r)+":"+t(l)+":"+t(d)},C=s=>{const n={};s.forEach(e=>{n[e.developer]||(n[e.developer]=[]),n[e.developer].push(e)});for(const e in n)n[e].sort((r,l)=>r.model.localeCompare(l.model));return Object.keys(n).sort((e,r)=>n[e][0].model.localeCompare(n[r][0].model)).reduce((e,r)=>(e[r]=n[r],e),{})},P=async(s,n,g)=>{console.log(n);const e=new W("p","mm","a4"),r=e.internal.pageSize.getWidth(),l=e.internal.pageSize.getHeight(),d=10;let t=d;for(let i=0;i<n.length;i++){e.setFillColor(245,245,245),e.roundedRect(d,t,r-2*d,35,2,2,"F"),e.setTextColor(0,0,0),t+=10,e.setFontSize(16),e.text(n[i].model_name,d+5,t),t+=10;let o=d+5,a="Developer: "+n[i].model_info.developer;e.setTextColor(47,47,47),e.setFontSize(10),e.text(a,o,t),o+=e.getTextWidth(a),o+=10,a="Website/GitHub: ",e.setFontSize(10),e.text(a,o,t),o+=e.getTextWidth(a),a=m(e,n[i].model_info.website,30),e.setFontSize(10),e.text(a,o,t),e.link(o,t-5,e.getTextWidth(a),10,{url:n[i].model_info.website}),e.setDrawColor(47,47,47),e.line(o,t+1,o+e.getTextWidth(a),t+1),o+=e.getTextWidth(a),o+=10,a="Paper/Report: ",e.setFontSize(10),e.text(a,o,t),o+=e.getTextWidth(a),a=m(e,n[i].model_info.report,30),e.setFontSize(10),e.text(a,o,t),e.link(o,t-5,e.getTextWidth(a),10,{url:n[i].model_info.report}),e.setDrawColor(47,47,47),e.line(o,t+1,o+e.getTextWidth(a),t+1),o+=e.getTextWidth(a),o+=10,t+=8,o=d+5,a="Type: "+n[i].model_info.type+"-Source",e.setFontSize(10),e.text(a,o,t),o+=e.getTextWidth(a),o+=10,a="Publish Date: "+n[i].model_info["release date"].split(" ")[0],e.setFontSize(10),e.text(a,o,t),o+=e.getTextWidth(a),o+=10,a="Measurement Date: 2025/2",e.setFontSize(10),e.text(a,o,t),o+=e.getTextWidth(a),o+=10,t+=10}t+=20;for(let i=0;i<s.length;i++){e.setFontSize(16),i>0&&(e.addPage(),t=d);for(let o=0;o<s[i].length;o++){const c=(await v(s[i][o].chart)).toDataURL("image/png"),p=e.getImageProperties(c),u=r-2*d,h=p.height*u/p.width;t+h>l-d&&(e.addPage(),t=d);const x=s[i][o].name,f=e.getTextWidth(x),T=(r-f)/2;e.setTextColor(0,0,0),e.text(x,T,t),t+=8,e.addImage(c,"PNG",d,t,u,h),t+=h+d+5}}e.save(g+".pdf")};function m(s,n,g){if(s.getTextWidth(n)<=g)return n;let r=n;for(;s.getTextWidth(r+"...")>g&&r.length>0;)r=r.slice(0,r.length-1);return r+"..."}export{S as a,F as b,b as c,P as d,z as e,C as g,w as m};
