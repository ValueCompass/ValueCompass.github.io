import"./jspdf.es.min-0_jOHU6Q.js";import{a as Ve,b as je,c as He,d as $e}from"./el-radio-C0zkh1mX.js";import{i as ze,E as Pe,a as Ie}from"./linesGL-flCWNv5c.js";import{_ as be,r as o,B as Oe,g as _e,a as m,N as se,w as P,c as w,f as Z,e,h,t as g,M as I,F as z,ay as fe,i as xe,n as we,p as Ce,j as Se,o as ke,az as Ue,aA as qe,K as Be,u as ge,P as de,G as L,L as Ge,U as We}from"./index-CEMhUOLY.js";import{f as pe,h as X,j as Ke,k as Qe,l as ye}from"./common-BFWXZVYL.js";import{S as Je,a as Xe,P as Ye,N as Ze,A as ea,b as aa}from"./pagination-qDj167QA.js";import{V as ta,_ as sa}from"./CulturalAlignment-DZ6KAUhg.js";import{E as oa,a as la}from"./index-BIRf2xfm.js";const na={components:{Swiper:Je,SwiperSlide:Xe},props:{data:{type:Array,required:!0}},mounted(){console.log("接收到的消息:",this.data)},setup(x){const S=o(null),U=l=>{console.log(l),S.value=l},k=()=>{console.log("slide change")},d=o(x.data);return Oe(()=>x.data,(l,p)=>{d.value=l,S.value&&we(()=>{const y=S.value;y.loopDestroy(),y.slideTo(0,0),y.loopCreate()}),console.log(d.value)}),{onSwiper:U,onSlideChange:k,modules:[Ye,Ze,ea,aa],caseData:d,copyCase:l=>{const p=l.target.closest(".swiper-main"),y=p.querySelector(".q-des"),b=p.querySelector(".a-des"),D=document.createRange(),M=window.getSelection(),_=document.createElement("div");_.style.position="absolute",_.style.opacity="0",_.innerHTML=y.outerHTML+b.outerHTML,document.body.appendChild(_),D.selectNodeContents(_),M.removeAllRanges(),M.addRange(D);try{document.execCommand("copy"),fe.warning("文本已复制！")}catch{fe.warning("复制失败")}M.removeAllRanges(),document.body.removeChild(_)}}}},De=x=>(Ce("data-v-b9d330d3"),x=x(),Se(),x),ra={class:"swiper-main swiper-no-swiping",tabindex:"0"},ca={class:"title"},ia={style:{"text-transform":"capitalize"}},ua={class:"chart-content-desc q-des"},da=De(()=>e("span",{class:"span"},"Q:",-1)),pa={class:"chart-content-desc a-des"},va=De(()=>e("span",{class:"span"},"A:",-1)),ma=["innerHTML"];function ha(x,S,U,k,d,F){const l=xe,p=_e("swiper-slide"),y=_e("swiper",!0);return m(),se(y,{modules:k.modules,navigation:!0,pagination:{clickable:!0},onSwiper:k.onSwiper,loop:!0,style:{height:"100%","padding-bottom":"1.7em","box-sizing":"border-box"}},{default:P(()=>[(m(!0),w(z,null,Z(k.caseData,(b,D)=>(m(),se(p,{class:"swiper-slide",key:b.model+D},{default:P(()=>[e("div",ra,[h(l,{class:"copy-icon",name:"copy-icon",onClick:S[0]||(S[0]=M=>k.copyCase(M))}),e("p",ca,[e("span",null,g("Case"+(D+1))+" Score：",1),I(g(b.score.toFixed(4))+"  (",1),e("text",ia,g(b.label),1),I(" Score) ")]),e("div",ua,[da,e("p",null,g(b.prompt),1)]),e("div",pa,[va,e("p",{class:"highlight",innerHTML:b.highlight},null,8,ma)])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])}const _a=be(na,[["render",ha],["__scopeId","data-v-b9d330d3"]]),Y={__name:"EchartComponent",props:{hasHightlight:{type:Boolean,required:!1,default:!0},type:{type:Number,required:!0}},emits:["setCurrentCaseData"],setup(x,{expose:S,emit:U}){const k=x;let d=14;const F=document.body.clientWidth;F>1800?d=14:F>1650?d=13:F>1500?d=12:F>1400?d=11:d=10;const l=o(null);let p=null,y=0,b=100;S({setRadarChart:(u,r)=>{const c=Object.values(u);y=Math.ceil(Math.max(...c)*1)/1;let f=2;(r||k.type)==1&&(f=5),b=Math.floor(Math.min(...c)*1)/1-f;const E=Object.keys(u).map((T,N)=>({name:T+" ("+u[T].toFixed(2)+")",color:k.hasHightlight&&N==0?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:N==0},min:b,max:y})),q=Object.values(u);p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(T){return T.split("&").join(`&
`)}},axisLabel:{formatter:function(T){return T.toFixed(0)}},triggerEvent:!0,indicator:E},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#1093FF"},data:[{value:q,areaStyle:{opacity:.3,color:"#1093FF"},lineStyle:{width:2,color:"#1093FF"}}]}]})},setRadarHighlight:(u,r)=>{const c=Object.keys(u).map((f,i)=>({name:f+" ("+u[f].toFixed(2)+")",color:r==f?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:i==0},min:b,max:y}));p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:d,color:"black",formatter:function(f){return f.split("&").join(`&
`)}},triggerEvent:!0,indicator:c}})}}),ke(async()=>{await we(),p=ze(l.value);const u={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"rgba(16, 147, 255, 1)"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};p.setOption(u),p.on("click",function(r){if(r.componentType==="radar"&&r.targetType=="axisName"){const f=p.getOption().radar[0].indicator.map(i=>{if(r.name=r.name.replace(/[\r\n]/g,""),i.name!=r.name&&i.color=="rgba(16, 147, 255, 1)"&&delete i.color,i.name==r.name&&i.color!=="rgba(16, 147, 255, 1)"){i.color="rgba(16, 147, 255, 1)";let E=i.name;E=E.split(" (")[0],_("setCurrentCaseData",E)}return i});p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:d,color:"black"},triggerEvent:!0,indicator:f}})}}),p.on("mouseout",function(r){if(r.componentType==="radar"&&r.targetType=="axisName"){const f=p.getOption().radar[0].indicator.map(i=>(i.name==r.name&&i.color!=="rgba(16, 147, 255, 1)"&&delete i.color,i));p.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:d,color:"black"},triggerEvent:!0,indicator:f}})}})});const _=U;return(u,r)=>(m(),w("div",{style:{width:"100%",height:"100%"},ref_key:"chartDom",ref:l},null,512))}},O=x=>(Ce("data-v-4dc55598"),x=x(),Se(),x),fa={class:"bg main-container"},ga={class:""},ya={class:"title-content"},ba={class:"model"},xa={id:"popoverId2"},wa={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"flex-start","margin-top":"1.5em"}},Ca={key:0,class:"model-props"},Sa={class:"model-prop"},ka=O(()=>e("span",{class:"prop-name"},"Developer: ",-1)),Da={class:"prop-content"},Ta={class:"model-prop"},Ra=O(()=>e("span",{class:"prop-name"},"Website/GitHub: ",-1)),La={class:"prop-content"},Ma=["href"],Ea={class:"model-prop"},Aa=O(()=>e("span",{class:"prop-name"},"Paper/Report: ",-1)),Fa={class:"prop-content"},Na=["href"],Va={class:"model-prop"},ja=O(()=>e("span",{class:"prop-name"},"Type: ",-1)),Ha={class:"prop-content"},$a={class:"model-prop"},za=O(()=>e("span",{class:"prop-name"},"Publish Date: ",-1)),Pa={class:"prop-content"},Ia=O(()=>e("div",{class:"model-prop"},[e("span",{class:"prop-name"},"Measurement Date: "),e("span",{class:"prop-content"},"2025/2")],-1)),Oa={style:{width:"9em"}},Ua={class:"chart-tab"},qa=["onClick"],Ba={class:"chart-main"},Ga=O(()=>e("span",null,"Show Cases",-1)),Wa={class:"chart-container"},Ka={class:"charts-box"},Qa={class:"chart-text-main"},Ja=O(()=>e("span",null,"Hide Cases",-1)),Xa={class:"chart-menu"},Ya=["onClick"],Za=["innerHTML"],et={class:"chart-content"},at={class:"chart-title"},tt={class:"download-charts-box"},st={__name:"Analysis",setup(x){const S=o(null),U=o(null),k=[{name:"Evaluation Results",index:0},{name:"culture heatmap",index:1},{name:"Value Space",index:2}],d=o(0),F=t=>{d.value=t.index},l=o(null),p=o(null),y=o(null),b=o(null),D=o(null),M=[{name:"Schwartz Theory of Basic Values",index:0,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Moral Foundation Theory",index:1,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Safety Taxonomy",index:2},{name:"LLMs' Unique Value System",index:3}],_=o([]),u=o(""),r=o([]);var c=null,f=null,i=null,E=null,q=null,T=null,N=null,oe=null,G=null,le=null;const ee=o([]),ne=o(),ae=o(!1),B=o("GPT-4-Turbo"),a=o("GPT-4-Turbo"),R=o(null),A=t=>pe.get(t),Te=async()=>{try{pe.all([A("./data/models_info.json"),A("./data/Schwartz_scores.json"),A("./data/Schwartz_cases.json"),A("./data/Risk_scores.json"),A("./data/Risk_cases.json"),A("./data/MFT_scores.json"),A("./data/MFT_cases.json"),A("./data/FULVa_scores.json"),A("./data/FULVa_cases.json")]).then(pe.spread(function(t,v,j,C,H,Q,J,ie,ue){f=X(t.data.data),i=X(v.data.data),E=j.data.data,q=X(C.data.data),T=H.data.data,N=X(Q.data.data),oe=J.data.data,G=X(ie.data.data),le=ue.data.data,ee.value=Object.keys(f),!B.value&&!a.value&&(B.value=ee.value[0],a.value=ee.value[0]),ce()}))}catch(t){console.error("Fetch error:",t)}};function V(t,v){return t.filter(C=>C.model==v).reduce((C,H)=>{C[H.value]||(C[H.value]=[]);const{model:Q,...J}=H;return C[H.value].push({model:Q,...J}),C},{})}const Re=t=>{console.log(t)},re=t=>{u.value=t,r.value=c[u.value],n.value==0?l.value.setRadarHighlight(i[a.value],t):n.value==1?l.value.setRadarHighlight(N[a.value],t):n.value==2?l.value.setRadarHighlight(q[a.value],t):n.value==3&&l.value.setRadarHighlight(G[a.value],t)},ce=()=>{a.value=B.value,ae.value=!1,R.value=f[a.value],console.log(n.value),console.log(a.value),n.value==0?(l.value.setRadarChart(i[a.value]),c=V(E,a.value)):n.value==1?(l.value.setRadarChart(N[a.value]),c=V(oe,a.value)):n.value==2?(l.value.setRadarChart(q[a.value]),c=V(T,a.value)):n.value==3&&(l.value.setRadarChart(G[a.value]),c=V(le,a.value)),console.log(c),_.value=Object.keys(c),re(_.value[0]),u.value=_.value[0],r.value=c[u.value],p.value.setRadarChart(i[a.value]),y.value.setRadarChart(N[a.value]),b.value.setRadarChart(q[a.value]),D.value.setRadarChart(G[a.value]),S.value.setHotChart([a.value]),U.value.setValueSpacesData([{model_name:a.value}])},n=o(0),Le=t=>{n.value=t,n.value==0?(l.value.setRadarChart(i[a.value],1),c=V(E,a.value)):n.value==1?(l.value.setRadarChart(N[a.value],2),c=V(oe,a.value)):n.value==2?(l.value.setRadarChart(q[a.value],3),c=V(T,a.value)):n.value==3&&(l.value.setRadarChart(G[a.value],4),c=V(le,a.value)),_.value=Object.keys(c),re(_.value[0]),u.value=_.value[0],r.value=c[u.value]},ve=o(!0),me=t=>{ve.value=t};Ue(()=>{});let he=!0;const te=qe();Be(()=>{console.log("首页传过来的modelName："+te.query.modelName);const t=te.query.modelName;t&&(B.value=t,a.value=t),he?he=!1:t&&(console.log("首页传过来的modelName："+te.query.modelName),ce())}),ke(()=>{const t=te.query.modelName;t&&(B.value=t,a.value=t),Te(),document.addEventListener("click",Me)});const Me=t=>{const v=document.getElementById("popoverId2");ne.value&&v&&!v.contains(t.target)&&(ae.value=!1)},W=t=>{u.value=t,r.value=c[u.value]},K=o(!1),Ee=async()=>{console.log("downloadAll"),!K.value&&(K.value=!0,await Ae(),K.value=!1)};o(null),o(null),o(null),o(null);const Ae=async t=>{const v=[[{name:"Schwartz Theory of Basic Values",chart:p.value.$refs.chartDom},{name:"Moral Foundation Theory",chart:y.value.$refs.chartDom},{name:"Safety Taxonomy",chart:b.value.$refs.chartDom},{name:"LLMs' Unique Value System",chart:D.value.$refs.chartDom}]],j=a.value+"_"+Ke(),C=[{model_name:a.value,model_info:R.value}];await Qe(v,C,j)};return(t,v)=>{const j=xe,C=Ve,H=oa,Q=la,J=je,ie=He,ue=Ie,Fe=Pe,Ne=$e;return m(),w("div",fa,[e("div",ga,[e("div",ya,[e("div",ba,[h(C,{effect:"customized",content:"Switch model",placement:"top"},{default:P(()=>[Ge((m(),w("div",{class:"model-type model-flex",onClick:v[0]||(v[0]=We(s=>ae.value=!0,["stop"]))},[I(g(a.value)+" ",1),h(j,{class:"down-arrow",name:"down-arrow"})])),[[Ne,ne.value]])]),_:1}),h(J,{ref_key:"popoverRef",ref:ne,visible:ae.value,placement:"bottom-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:P(()=>[e("div",xa,[h(Q,{modelValue:B.value,"onUpdate:modelValue":v[1]||(v[1]=s=>B.value=s),onChange:Re},{default:P(()=>[(m(!0),w(z,null,Z(ee.value,s=>(m(),se(H,{key:s,value:s},{default:P(()=>[I(g(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[e("button",{onClick:ce},"Submit")])])]),_:1},8,["visible"])]),e("div",wa,[R.value?(m(),w("div",Ca,[e("div",Sa,[ka,e("span",Da,g(R.value.affiliation),1)]),e("div",Ta,[Ra,e("span",La,[e("a",{href:ge(ye)(R.value.website),target:"_blank"},g(R.value.website),9,Ma)])]),e("div",Ea,[Aa,e("span",Fa,[e("a",{href:ge(ye)(R.value.report),target:"_blank"},g(R.value.report),9,Na)])]),e("div",Va,[ja,e("span",Ha,g(R.value.type)+"-Source",1)]),e("div",$a,[za,e("span",Pa,g(R.value["release date"].split(" ")[0]),1)]),Ia])):de("",!0),e("div",Oa,[h(ie,{style:{"font-size":"0.875em"},plain:"",color:"#004f8f",onClick:Ee,disabled:K.value,loading:K.value},{default:P(()=>[I(" Download All ")]),_:1},8,["disabled","loading"])])])])]),e("div",null,[h(Fe,{modelValue:d.value,"onUpdate:modelValue":v[2]||(v[2]=s=>d.value=s),onTabClick:F},{default:P(()=>[(m(),w(z,null,Z(k,s=>h(ue,{key:s.index,label:"         "+s.name+"         ",name:s.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),e("div",{class:L(["download-box",{show:d.value==2}])},[h(ta,{ref_key:"ValueSpaceComponentProps",ref:U},null,512)],2),e("div",{class:L(["download-box",{show:d.value==1}])},[h(sa,{ref_key:"CulturalAlignmentComponentProps",ref:S},null,512)],2),e("div",{class:L(["chart-box download-box",{show:d.value==0}])},[e("div",Ua,[e("ul",null,[(m(),w(z,null,Z(M,s=>e("li",{class:L({active:n.value==s.index}),onClick:$=>Le(s.index),key:s.index},g(s.name),11,qa)),64))])]),e("div",Ba,[e("div",{class:L(["chart-main-chart",ve.value?"":"close"])},[e("div",{class:"case-btn case-open-btn",onClick:v[3]||(v[3]=s=>me(!0))},[h(j,{name:"hide-case"}),Ga]),e("div",Wa,[e("div",Ka,[h(Y,{class:"chart",onSetCurrentCaseData:W,ref_key:"chartDom0",ref:l,type:n.value+1},null,8,["type"])])]),e("div",Qa,[e("div",{class:"case-btn case-close-btn",onClick:v[4]||(v[4]=s=>me(!1))},[h(j,{name:"hide-case"}),Ja]),e("div",Xa,[e("ul",null,[(m(!0),w(z,null,Z(_.value,s=>(m(),w("li",{key:s,onClick:$=>re(s),class:L({active:u.value==s})},[n.value==0?(m(),w(z,{key:0},[I(g(s.indexOf("-")>-1?s.split("-").map($=>$[0].toUpperCase()).join(""):s.substring(0,3)),1)],64)):n.value==1?(m(),w("span",{key:1,style:{"margin-right":"1em"},innerHTML:s.split("/").map($=>$.charAt(0).toUpperCase()+$.slice(1)).join("/<br>")},null,8,Za)):n.value==2?(m(),w(z,{key:2},[I(g(s.split(" ").map($=>$.charAt(0).toUpperCase()).join("")),1)],64)):n.value==3?(m(),w(z,{key:3},[I(g(s),1)],64)):de("",!0)],10,Ya))),128))])]),e("div",et,[r.value.length!=0?(m(),se(_a,{key:0,data:r.value},null,8,["data"])):de("",!0)])])],2),e("p",at,g(M[n.value].name)+" Evaluation Results and cases ",1)]),e("div",tt,[h(Y,{class:L(["chart",{show:n.value==0}]),hasHightlight:!1,onSetCurrentCaseData:W,ref_key:"chartDom1",ref:p,type:1},null,8,["class"]),h(Y,{class:L(["chart",{show:n.value==1}]),hasHightlight:!1,onSetCurrentCaseData:W,ref_key:"chartDom2",ref:y,type:2},null,8,["class"]),h(Y,{class:L(["chart",{show:n.value==2}]),hasHightlight:!1,onSetCurrentCaseData:W,ref_key:"chartDom3",ref:b,type:3},null,8,["class"]),h(Y,{class:L(["chart",{show:n.value==3}]),hasHightlight:!1,onSetCurrentCaseData:W,ref_key:"chartDom4",ref:D,type:4},null,8,["class"])])],2)])}}},pt=be(st,[["__scopeId","data-v-4dc55598"]]);export{pt as default};
