import"./jspdf.es.min-Du8G7NUW.js";import{a as Re,b as Te,c as Le,d as Me}from"./el-radio-BTGYjWxf.js";import{_ as pe,r as l,B as je,g as ue,a as _,N as te,w as O,c as b,f as X,e,M,t as m,F as H,p as _e,j as me,o as se,n as fe,ay as Fe,az as $e,K as Ae,h as k,u as de,P as ve,G as N,L as Ee,U as Ne,i as He}from"./index-CHQiihKe.js";import{e as q,g as G,h as Oe,i as Ve,j as he}from"./common-C5h6GdtN.js";import{i as ze}from"./index-UsLizYbu.js";import{S as Ie,a as Ue,P as Pe,N as Be,A as qe,b as Ge}from"./pagination-B2j9Lp4I.js";import{E as Ke,a as Qe}from"./index-BQYYx0TF.js";const We={components:{Swiper:Ie,SwiperSlide:Ue},props:{data:{type:Array,required:!0}},mounted(){console.log("接收到的消息:",this.data)},setup(f){const c=l(null),j=i=>{console.log(i),c.value=i},x=()=>{console.log("slide change")},w=l(f.data);return je(()=>f.data,(i,R)=>{w.value=i,c.value&&c.value.slideTo(0),console.log(w.value)}),{onSwiper:j,onSlideChange:x,modules:[Pe,Be,qe,Ge],caseData:w}}},oe=f=>(_e("data-v-7ab5f089"),f=f(),me(),f),Je={class:"swiper-main",tabindex:"0"},Xe={class:"title"},Ye=oe(()=>e("span",null,"Score：",-1)),Ze={class:"title"},ea={style:{"font-style":"normal"}},aa={class:"chart-content-desc"},ta=oe(()=>e("span",{class:"span"},"Q",-1)),sa={class:"chart-content-desc"},oa=oe(()=>e("span",{class:"span"},"A",-1)),la=["innerHTML"];function na(f,c,j,x,w,i){const R=ue("swiper-slide"),h=ue("swiper",!0);return _(),te(h,{modules:x.modules,navigation:!0,pagination:{clickable:!0},onSwiper:x.onSwiper},{default:O(()=>[(_(!0),b(H,null,X(x.caseData,(v,S)=>(_(),te(R,{class:"swiper-slide",key:v.model+S},{default:O(()=>[e("div",Je,[e("p",Xe,[Ye,M(m(v.score.toFixed(4)),1)]),e("p",Ze,[M(m("Case"+(S+1)+" - "),1),e("i",ea,m(v.label),1),M(" Score")]),e("div",aa,[ta,e("p",null,m(v.prompt),1)]),e("div",sa,[oa,e("p",{class:"highlight",innerHTML:v.highlight},null,8,la)])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])}const ra=pe(We,[["render",na],["__scopeId","data-v-7ab5f089"]]),K={__name:"EchartComponent",props:{hasHightlight:{type:Boolean,required:!1,default:!0}},emits:["setCurrentCaseData"],setup(f,{expose:c,emit:j}){const x=f,w=l(null);let i=null,R=0,h=100;c({setRadarChart:g=>{const n=Object.values(g);R=Math.ceil(Math.max(...n)*1)/1,h=Math.floor(Math.min(...n)*1)/1-10;const D=Object.keys(g).map((s,F)=>({name:s,color:x.hasHightlight&&F==0?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:F==0},min:h,max:R})),p=Object.values(g);i.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(s){return s.split("&").join(`&
`)}},axisLabel:{formatter:function(s){return s.toFixed(0)}},triggerEvent:!0,indicator:D},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#1093FF"},data:[{value:p,areaStyle:{opacity:.3,color:"#1093FF"},lineStyle:{width:2,color:"#1093FF"}}]}]})},setRadarHighlight:(g,n)=>{const D=Object.keys(g).map((p,s)=>({name:p,color:n==p?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:s==0},min:h,max:R}));i.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(p){return p.split("&").join(`&
`)}},triggerEvent:!0,indicator:D}})}}),se(async()=>{await fe(),i=ze(w.value);const g={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"rgba(16, 147, 255, 1)"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};i.setOption(g),i.on("click",function(n){if(n.componentType==="radar"&&n.targetType=="axisName"){const p=i.getOption().radar[0].indicator.map(s=>(n.name=n.name.replace(/[\r\n]/g,""),s.name!=n.name&&s.color=="rgba(16, 147, 255, 1)"&&delete s.color,s.name==n.name&&s.color!=="rgba(16, 147, 255, 1)"&&(s.color="rgba(16, 147, 255, 1)",u("setCurrentCaseData",s.name)),s));i.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:p}})}}),i.on("mouseout",function(n){if(n.componentType==="radar"&&n.targetType=="axisName"){const p=i.getOption().radar[0].indicator.map(s=>(s.name==n.name&&s.color!=="rgba(16, 147, 255, 1)"&&delete s.color,s));i.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:p}})}})});const u=j;return(g,n)=>(_(),b("div",{style:{width:"100%",height:"100%"},ref_key:"chartDom",ref:w},null,512))}},V=f=>(_e("data-v-94905e66"),f=f(),me(),f),ca={class:"bg main-container"},ia={class:""},ua={class:"title-content"},da={class:"model"},va={id:"popoverId2"},ha={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"flex-start","margin-top":"1.5em"}},pa={key:0,class:"model-props"},_a={class:"model-prop"},ma=V(()=>e("span",{class:"prop-name"},"Developer: ",-1)),fa={class:"prop-content"},ga={class:"model-prop"},ba=V(()=>e("span",{class:"prop-name"},"Website/GitHub: ",-1)),ya={class:"prop-content"},xa=["href"],wa={class:"model-prop"},Ca=V(()=>e("span",{class:"prop-name"},"Paper/Report: ",-1)),ka={class:"prop-content"},Sa=["href"],Da={class:"model-prop"},Ra=V(()=>e("span",{class:"prop-name"},"Type: ",-1)),Ta={class:"prop-content"},La={class:"model-prop"},Ma=V(()=>e("span",{class:"prop-name"},"Publish Date: ",-1)),ja={class:"prop-content"},Fa=V(()=>e("div",{class:"model-prop"},[e("span",{class:"prop-name"},"Measurement Date: "),e("span",{class:"prop-content"},"2025/2")],-1)),$a={style:{width:"9em"}},Aa={class:"chart-box"},Ea={class:"chart-tab"},Na=V(()=>e("div",{class:"chart-tab-title"},"Evaluation Results",-1)),Ha=["onClick"],Oa={class:"chart-main"},Va={class:"chart-container"},za={class:"charts-box"},Ia={class:"chart-text-main"},Ua={class:"chart-menu"},Pa=["onClick"],Ba=["innerHTML"],qa={class:"chart-content"},Ga={class:"chart-title"},Ka={class:"download-charts-box"},Qa={__name:"Analysis",setup(f){const c=l(null),j=l(null),x=l(null),w=l(null),i=l(null),R=[{name:"Schwartz Theory of Basic Values",index:0,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Moral Foundation Theory",index:1,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Safety Taxonomy",index:2},{name:"LLMs' Unique Value System",index:3}],h=l([]),v=l(""),S=l([]);var u=null,g=null,n=null,D=null,p=null,s=null,F=null,Y=null,I=null,Z=null;const Q=l([]),ee=l(),W=l(!1),z=l("GPT-4-Turbo"),a=l("GPT-4-Turbo"),C=l(null),T=t=>q.get(t),ge=async()=>{try{q.all([T("./data/models_info.json"),T("./data/Schwartz_scores.json"),T("./data/Schwartz_cases.json")]).then(q.spread(function(t,d,$){g=G(t.data.data),n=G(d.data.data),D=$.data.data,Q.value=Object.keys(g),!z.value&&!a.value&&(z.value=Q.value[0],a.value=Q.value[0]),C.value=g[a.value],c.value.setRadarChart(n[a.value]),u=L(D,a.value),h.value=Object.keys(u).sort(),J(h.value[0]),v.value=h.value[0],S.value=u[v.value],j.value.setRadarChart(n[a.value]),x.value.setRadarChart(F[a.value]),w.value.setRadarChart(p[a.value]),i.value.setRadarChart(I[a.value])}))}catch(t){console.error("Fetch error:",t)}},be=async()=>{try{q.all([T("./data/Risk_scores.json"),T("./data/Risk_cases.json"),T("./data/MFT_scores.json"),T("./data/MFT_cases.json"),T("./data/FULVa_scores.json"),T("./data/FULVa_cases.json")]).then(q.spread(function(t,d,$,y,A,B){p=G(t.data.data),s=d.data.data,F=G($.data.data),Y=y.data.data,I=G(A.data.data),Z=B.data.data}))}catch(t){console.error("Fetch error:",t)}};ge(),be();function L(t,d){return t.filter(y=>y.model==d).reduce((y,A)=>{y[A.value]||(y[A.value]=[]);const{model:B,...ae}=A;return y[A.value].push({model:B,...ae}),y},{})}se(async()=>{await fe()});const ye=t=>{console.log(t)},J=t=>{v.value=t,S.value=u[v.value],o.value==0?c.value.setRadarHighlight(n[a.value],t):o.value==1?c.value.setRadarHighlight(F[a.value],t):o.value==2?c.value.setRadarHighlight(p[a.value],t):o.value==3&&c.value.setRadarHighlight(I[a.value],t)},le=()=>{a.value=z.value,W.value=!1,C.value=g[a.value],console.log(o.value),console.log(a.value),o.value==0?(c.value.setRadarChart(n[a.value]),u=L(D,a.value)):o.value==1?(c.value.setRadarChart(F[a.value]),u=L(Y,a.value)):o.value==2?(c.value.setRadarChart(p[a.value]),u=L(s,a.value)):o.value==3&&(c.value.setRadarChart(I[a.value]),u=L(Z,a.value)),console.log(u),h.value=Object.keys(u).sort(),J(h.value[0]),v.value=h.value[0],S.value=u[v.value]},o=l(0),xe=t=>{o.value=t,o.value==0?(c.value.setRadarChart(n[a.value]),u=L(D,a.value)):o.value==1?(c.value.setRadarChart(F[a.value]),u=L(Y,a.value)):o.value==2?(c.value.setRadarChart(p[a.value]),u=L(s,a.value)):o.value==3&&(c.value.setRadarChart(I[a.value]),u=L(Z,a.value)),h.value=Object.keys(u).sort(),J(h.value[0]),v.value=h.value[0],S.value=u[v.value]},ne=l(!0),re=t=>{ne.value=t};Fe(()=>{});let ce=!0;const ie=$e();Ae(()=>{console.log("首页传过来的modelName："+ie.query.modelName);const t=ie.query.modelName;t&&(z.value=t,a.value=t,ce?ce=!1:le())}),se(()=>{document.addEventListener("click",we)});const we=t=>{const d=document.getElementById("popoverId2");ee.value&&d&&!d.contains(t.target)&&(W.value=!1)},U=t=>{v.value=t,S.value=u[v.value]},P=l(!1),Ce=async()=>{console.log("downloadAll"),!P.value&&(P.value=!0,await ke(),P.value=!1)};l(null),l(null),l(null),l(null);const ke=async t=>{const d=[[{name:"Schwartz Theory of Basic Values",chart:j.value.$refs.chartDom},{name:"Moral Foundation Theory",chart:x.value.$refs.chartDom},{name:"Safety Taxonomy",chart:w.value.$refs.chartDom},{name:"LLMs' Unique Value System",chart:i.value.$refs.chartDom}]],$=a.value+"_"+Oe(),y=[{model_name:a.value,model_info:C.value}];await Ve(d,y,$)};return(t,d)=>{const $=He,y=Re,A=Ke,B=Qe,ae=Te,Se=Le,De=Me;return _(),b("div",ca,[e("div",ia,[e("div",ua,[e("div",da,[k(y,{effect:"customized",content:"Switch model",placement:"top"},{default:O(()=>[Ee((_(),b("div",{class:"model-type model-flex",onClick:d[0]||(d[0]=Ne(r=>W.value=!0,["stop"]))},[M(m(a.value)+" ",1),k($,{class:"down-arrow",name:"down-arrow"})])),[[De,ee.value]])]),_:1}),k(ae,{ref_key:"popoverRef",ref:ee,visible:W.value,placement:"bottom-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:O(()=>[e("div",va,[k(B,{modelValue:z.value,"onUpdate:modelValue":d[1]||(d[1]=r=>z.value=r),onChange:ye},{default:O(()=>[(_(!0),b(H,null,X(Q.value,r=>(_(),te(A,{key:r,value:r},{default:O(()=>[M(m(r),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[e("button",{onClick:le},"Submit")])])]),_:1},8,["visible"])]),e("div",ha,[C.value?(_(),b("div",pa,[e("div",_a,[ma,e("span",fa,m(C.value.affiliation),1)]),e("div",ga,[ba,e("span",ya,[e("a",{href:de(he)(C.value.website),target:"_blank"},m(C.value.website),9,xa)])]),e("div",wa,[Ca,e("span",ka,[e("a",{href:de(he)(C.value.report),target:"_blank"},m(C.value.report),9,Sa)])]),e("div",Da,[Ra,e("span",Ta,m(C.value.type)+"-Source",1)]),e("div",La,[Ma,e("span",ja,m(C.value["release date"].split(" ")[0]),1)]),Fa])):ve("",!0),e("div",$a,[k(Se,{style:{"font-size":"0.875em"},plain:"",color:"#004f8f",onClick:Ce,disabled:P.value,loading:P.value},{default:O(()=>[M(" Download All ")]),_:1},8,["disabled","loading"])])])])]),e("div",Aa,[e("div",Ea,[Na,e("ul",null,[(_(),b(H,null,X(R,r=>e("li",{class:N({active:o.value==r.index}),onClick:E=>xe(r.index),key:r.index},m(r.name),11,Ha)),64))])]),e("div",Oa,[e("div",{class:N(["chart-main-chart",ne.value?"":"close"])},[e("span",{class:"case-open-btn",onClick:d[2]||(d[2]=r=>re(!0))},"Cases"),e("div",Va,[e("div",za,[k(K,{class:"chart",onSetCurrentCaseData:U,ref_key:"chartDom0",ref:c},null,512)])]),e("div",Ia,[e("div",Ua,[e("ul",null,[(_(!0),b(H,null,X(h.value,r=>(_(),b("li",{key:r,onClick:E=>J(r),class:N({active:v.value==r})},[o.value==0?(_(),b(H,{key:0},[M(m(r.indexOf("-")>-1?r.split("-").map(E=>E[0].toUpperCase()).join(""):r.substring(0,3)),1)],64)):o.value==1?(_(),b("span",{key:1,style:{"margin-right":"1em"},innerHTML:r.split("/").map(E=>E.charAt(0).toUpperCase()+E.slice(1)).join("/<br>")},null,8,Ba)):o.value==2?(_(),b(H,{key:2},[M(m(r.split(" ").map(E=>E.charAt(0).toUpperCase()).join("")),1)],64)):o.value==3?(_(),b(H,{key:3},[M(m(r),1)],64)):ve("",!0)],10,Pa))),128))])]),e("div",qa,[e("span",{class:"case-close-btn",onClick:d[3]||(d[3]=r=>re(!1))}),k(ra,{data:S.value},null,8,["data"])])])],2),e("p",Ga,m(R[o.value].name)+" Evaluation Results and cases ",1)]),e("div",Ka,[k(K,{class:N(["chart",{show:o.value==0}]),hasHightlight:!1,onSetCurrentCaseData:U,ref_key:"chartDom1",ref:j},null,8,["class"]),k(K,{class:N(["chart",{show:o.value==1}]),hasHightlight:!1,onSetCurrentCaseData:U,ref_key:"chartDom2",ref:x},null,8,["class"]),k(K,{class:N(["chart",{show:o.value==2}]),hasHightlight:!1,onSetCurrentCaseData:U,ref_key:"chartDom3",ref:w},null,8,["class"]),k(K,{class:N(["chart",{show:o.value==3}]),hasHightlight:!1,onSetCurrentCaseData:U,ref_key:"chartDom4",ref:i},null,8,["class"])])])])}}},tt=pe(Qa,[["__scopeId","data-v-94905e66"]]);export{tt as default};
