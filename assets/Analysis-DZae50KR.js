import"./jspdf.es.min-BeaJb40c.js";import{a as Re,b as Te,c as Le,d as Fe}from"./el-radio-YUAnTkH2.js";import{_ as pe,r as o,B as Me,g as ie,a as _,N as te,w as V,c as x,f as ee,e,t as m,M as z,F as O,p as he,j as _e,o as se,n as me,ay as je,az as Ae,K as Ee,h as R,u as ue,P as de,G as H,L as Ne,U as $e,i as ze}from"./index-CMi1OwVl.js";import{e as Q,g as J,h as He,i as Oe,j as ve}from"./common-CbYIocs-.js";import{i as Ve}from"./index-UsLizYbu.js";import{S as Ie,a as Ue,P as Pe,N as Be,A as qe,b as Ge}from"./pagination-DZxUExSw.js";import{E as We,a as Ke}from"./index-DYU3w0tp.js";const Qe={components:{Swiper:Ie,SwiperSlide:Ue},props:{data:{type:Array,required:!0}},mounted(){console.log("接收到的消息:",this.data)},setup(g){const c=o(null),M=y=>{console.log(y),c.value=y},w=()=>{console.log("slide change")},h=o(g.data);return Me(()=>g.data,(y,j)=>{h.value=y,c.value&&c.value.slideTo(0),console.log(h.value)}),{onSwiper:M,onSlideChange:w,modules:[Pe,Be,qe,Ge],caseData:h}}},fe=g=>(he("data-v-ed6f5ddc"),g=g(),_e(),g),Je={class:"swiper-main swiper-no-swiping",tabindex:"0"},Xe={class:"title"},Ye={style:{"text-transform":"capitalize"}},Ze={class:"chart-content-desc"},ea=fe(()=>e("span",{class:"span"},"Q",-1)),aa={class:"chart-content-desc"},ta=fe(()=>e("span",{class:"span"},"A",-1)),sa=["innerHTML"];function oa(g,c,M,w,h,y){const j=ie("swiper-slide"),l=ie("swiper",!0);return _(),te(l,{modules:w.modules,navigation:!0,pagination:{clickable:!0},onSwiper:w.onSwiper},{default:V(()=>[(_(!0),x(O,null,ee(w.caseData,(i,b)=>(_(),te(j,{class:"swiper-slide",key:i.model+b},{default:V(()=>[e("div",Je,[e("p",Xe,[e("span",null,m("Case"+(b+1))+" Score：",1),z(m(i.score.toFixed(4))+"  (",1),e("text",Ye,m(i.label),1),z(" Score) ")]),e("div",Ze,[ea,e("p",null,m(i.prompt),1)]),e("div",aa,[ta,e("p",{class:"highlight",innerHTML:i.highlight},null,8,sa)])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])}const la=pe(Qe,[["render",oa],["__scopeId","data-v-ed6f5ddc"]]),X={__name:"EchartComponent",props:{hasHightlight:{type:Boolean,required:!1,default:!0},type:{type:Number,required:!0}},emits:["setCurrentCaseData"],setup(g,{expose:c,emit:M}){const w=g;let h=14;const y=document.body.clientWidth;y>1800?h=14:y>1650?h=13:y>1500?h=12:y>1400?h=11:h=10;const j=o(null);let l=null,i=0,b=100;c({setRadarChart:(f,r)=>{const T=Object.values(f);i=Math.ceil(Math.max(...T)*1)/1;let p=2;(r||w.type)==1&&(p=5),b=Math.floor(Math.min(...T)*1)/1-p;const S=Object.keys(f).map((k,U)=>({name:k+" ("+f[k].toFixed(2)+")",color:w.hasHightlight&&U==0?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:U==0},min:b,max:i})),q=Object.values(f);l.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(k){return k.split("&").join(`&
`)}},axisLabel:{formatter:function(k){return k.toFixed(0)}},triggerEvent:!0,indicator:S},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#1093FF"},data:[{value:q,areaStyle:{opacity:.3,color:"#1093FF"},lineStyle:{width:2,color:"#1093FF"}}]}]})},setRadarHighlight:(f,r)=>{const T=Object.keys(f).map((p,u)=>({name:p+" ("+f[p].toFixed(2)+")",color:r==p?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:u==0},min:b,max:i}));l.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:h,color:"black",formatter:function(p){return p.split("&").join(`&
`)}},triggerEvent:!0,indicator:T}})}}),se(async()=>{await me(),l=Ve(j.value);const f={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"rgba(16, 147, 255, 1)"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};l.setOption(f),l.on("click",function(r){if(r.componentType==="radar"&&r.targetType=="axisName"){const p=l.getOption().radar[0].indicator.map(u=>{if(r.name=r.name.replace(/[\r\n]/g,""),u.name!=r.name&&u.color=="rgba(16, 147, 255, 1)"&&delete u.color,u.name==r.name&&u.color!=="rgba(16, 147, 255, 1)"){u.color="rgba(16, 147, 255, 1)";let S=u.name;S=S.split(" (")[0],A("setCurrentCaseData",S)}return u});l.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:h,color:"black"},triggerEvent:!0,indicator:p}})}}),l.on("mouseout",function(r){if(r.componentType==="radar"&&r.targetType=="axisName"){const p=l.getOption().radar[0].indicator.map(u=>(u.name==r.name&&u.color!=="rgba(16, 147, 255, 1)"&&delete u.color,u));l.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:h,color:"black"},triggerEvent:!0,indicator:p}})}})});const A=M;return(f,r)=>(_(),x("div",{style:{width:"100%",height:"100%"},ref_key:"chartDom",ref:j},null,512))}},I=g=>(he("data-v-407fe7c0"),g=g(),_e(),g),na={class:"bg main-container"},ra={class:""},ca={class:"title-content"},ia={class:"model"},ua={id:"popoverId2"},da={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"flex-start","margin-top":"1.5em"}},va={key:0,class:"model-props"},pa={class:"model-prop"},ha=I(()=>e("span",{class:"prop-name"},"Developer: ",-1)),_a={class:"prop-content"},ma={class:"model-prop"},fa=I(()=>e("span",{class:"prop-name"},"Website/GitHub: ",-1)),ga={class:"prop-content"},ya=["href"],ba={class:"model-prop"},xa=I(()=>e("span",{class:"prop-name"},"Paper/Report: ",-1)),wa={class:"prop-content"},Ca=["href"],Sa={class:"model-prop"},ka=I(()=>e("span",{class:"prop-name"},"Type: ",-1)),Da={class:"prop-content"},Ra={class:"model-prop"},Ta=I(()=>e("span",{class:"prop-name"},"Publish Date: ",-1)),La={class:"prop-content"},Fa=I(()=>e("div",{class:"model-prop"},[e("span",{class:"prop-name"},"Measurement Date: "),e("span",{class:"prop-content"},"2025/2")],-1)),Ma={style:{width:"9em"}},ja={class:"chart-box"},Aa={class:"chart-tab"},Ea=I(()=>e("div",{class:"chart-tab-title"},"Evaluation Results",-1)),Na=["onClick"],$a={class:"chart-main"},za={class:"chart-container"},Ha={class:"charts-box"},Oa={class:"chart-text-main"},Va={class:"chart-menu"},Ia=["onClick"],Ua=["innerHTML"],Pa={class:"chart-content"},Ba={class:"chart-title"},qa={class:"download-charts-box"},Ga={__name:"Analysis",setup(g){const c=o(null),M=o(null),w=o(null),h=o(null),y=o(null),j=[{name:"Schwartz Theory of Basic Values",index:0,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Moral Foundation Theory",index:1,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Safety Taxonomy",index:2},{name:"LLMs' Unique Value System",index:3}],l=o([]),i=o(""),b=o([]);var d=null,B=null,A=null,f=null,r=null,T=null,p=null,u=null,S=null,q=null;const k=o([]),U=o(),Y=o(!1),P=o("GPT-4-Turbo"),a=o("GPT-4-Turbo"),D=o(null),L=t=>Q.get(t),ge=async()=>{try{Q.all([L("./data/models_info.json"),L("./data/Schwartz_scores.json"),L("./data/Schwartz_cases.json")]).then(Q.spread(function(t,v,E){B=J(t.data.data),A=J(v.data.data),f=E.data.data,k.value=Object.keys(B),!P.value&&!a.value&&(P.value=k.value[0],a.value=k.value[0]),D.value=B[a.value],c.value.setRadarChart(A[a.value]),d=F(f,a.value),l.value=Object.keys(d).sort(),Z(l.value[0]),i.value=l.value[0],b.value=d[i.value],M.value.setRadarChart(A[a.value]),w.value.setRadarChart(p[a.value]),h.value.setRadarChart(r[a.value]),y.value.setRadarChart(S[a.value])}))}catch(t){console.error("Fetch error:",t)}},ye=async()=>{try{Q.all([L("./data/Risk_scores.json"),L("./data/Risk_cases.json"),L("./data/MFT_scores.json"),L("./data/MFT_cases.json"),L("./data/FULVa_scores.json"),L("./data/FULVa_cases.json")]).then(Q.spread(function(t,v,E,C,N,K){r=J(t.data.data),T=v.data.data,p=J(E.data.data),u=C.data.data,S=J(N.data.data),q=K.data.data}))}catch(t){console.error("Fetch error:",t)}};ge(),ye();function F(t,v){return t.filter(C=>C.model==v).reduce((C,N)=>{C[N.value]||(C[N.value]=[]);const{model:K,...ae}=N;return C[N.value].push({model:K,...ae}),C},{})}se(async()=>{await me()});const be=t=>{console.log(t)},Z=t=>{i.value=t,b.value=d[i.value],s.value==0?c.value.setRadarHighlight(A[a.value],t):s.value==1?c.value.setRadarHighlight(p[a.value],t):s.value==2?c.value.setRadarHighlight(r[a.value],t):s.value==3&&c.value.setRadarHighlight(S[a.value],t)},oe=()=>{a.value=P.value,Y.value=!1,D.value=B[a.value],console.log(s.value),console.log(a.value),s.value==0?(c.value.setRadarChart(A[a.value]),d=F(f,a.value)):s.value==1?(c.value.setRadarChart(p[a.value]),d=F(u,a.value)):s.value==2?(c.value.setRadarChart(r[a.value]),d=F(T,a.value)):s.value==3&&(c.value.setRadarChart(S[a.value]),d=F(q,a.value)),console.log(d),l.value=Object.keys(d).sort(),Z(l.value[0]),i.value=l.value[0],b.value=d[i.value]},s=o(0),xe=t=>{s.value=t,s.value==0?(c.value.setRadarChart(A[a.value],1),d=F(f,a.value)):s.value==1?(c.value.setRadarChart(p[a.value],2),d=F(u,a.value)):s.value==2?(c.value.setRadarChart(r[a.value],3),d=F(T,a.value)):s.value==3&&(c.value.setRadarChart(S[a.value],4),d=F(q,a.value)),l.value=Object.keys(d).sort(),Z(l.value[0]),i.value=l.value[0],b.value=d[i.value]},le=o(!0),ne=t=>{le.value=t};je(()=>{});let re=!0;const ce=Ae();Ee(()=>{console.log("首页传过来的modelName："+ce.query.modelName);const t=ce.query.modelName;t&&(P.value=t,a.value=t,re?re=!1:oe())}),se(()=>{document.addEventListener("click",we)});const we=t=>{const v=document.getElementById("popoverId2");U.value&&v&&!v.contains(t.target)&&(Y.value=!1)},G=t=>{i.value=t,b.value=d[i.value]},W=o(!1),Ce=async()=>{console.log("downloadAll"),!W.value&&(W.value=!0,await Se(),W.value=!1)};o(null),o(null),o(null),o(null);const Se=async t=>{const v=[[{name:"Schwartz Theory of Basic Values",chart:M.value.$refs.chartDom},{name:"Moral Foundation Theory",chart:w.value.$refs.chartDom},{name:"Safety Taxonomy",chart:h.value.$refs.chartDom},{name:"LLMs' Unique Value System",chart:y.value.$refs.chartDom}]],E=a.value+"_"+He(),C=[{model_name:a.value,model_info:D.value}];await Oe(v,C,E)};return(t,v)=>{const E=ze,C=Re,N=We,K=Ke,ae=Te,ke=Le,De=Fe;return _(),x("div",na,[e("div",ra,[e("div",ca,[e("div",ia,[R(C,{effect:"customized",content:"Switch model",placement:"top"},{default:V(()=>[Ne((_(),x("div",{class:"model-type model-flex",onClick:v[0]||(v[0]=$e(n=>Y.value=!0,["stop"]))},[z(m(a.value)+" ",1),R(E,{class:"down-arrow",name:"down-arrow"})])),[[De,U.value]])]),_:1}),R(ae,{ref_key:"popoverRef",ref:U,visible:Y.value,placement:"bottom-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:V(()=>[e("div",ua,[R(K,{modelValue:P.value,"onUpdate:modelValue":v[1]||(v[1]=n=>P.value=n),onChange:be},{default:V(()=>[(_(!0),x(O,null,ee(k.value,n=>(_(),te(N,{key:n,value:n},{default:V(()=>[z(m(n),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[e("button",{onClick:oe},"Submit")])])]),_:1},8,["visible"])]),e("div",da,[D.value?(_(),x("div",va,[e("div",pa,[ha,e("span",_a,m(D.value.affiliation),1)]),e("div",ma,[fa,e("span",ga,[e("a",{href:ue(ve)(D.value.website),target:"_blank"},m(D.value.website),9,ya)])]),e("div",ba,[xa,e("span",wa,[e("a",{href:ue(ve)(D.value.report),target:"_blank"},m(D.value.report),9,Ca)])]),e("div",Sa,[ka,e("span",Da,m(D.value.type)+"-Source",1)]),e("div",Ra,[Ta,e("span",La,m(D.value["release date"].split(" ")[0]),1)]),Fa])):de("",!0),e("div",Ma,[R(ke,{style:{"font-size":"0.875em"},plain:"",color:"#004f8f",onClick:Ce,disabled:W.value,loading:W.value},{default:V(()=>[z(" Download All ")]),_:1},8,["disabled","loading"])])])])]),e("div",ja,[e("div",Aa,[Ea,e("ul",null,[(_(),x(O,null,ee(j,n=>e("li",{class:H({active:s.value==n.index}),onClick:$=>xe(n.index),key:n.index},m(n.name),11,Na)),64))])]),e("div",$a,[e("div",{class:H(["chart-main-chart",le.value?"":"close"])},[e("span",{class:"case-open-btn",onClick:v[2]||(v[2]=n=>ne(!0))},"Cases"),e("div",za,[e("div",Ha,[R(X,{class:"chart",onSetCurrentCaseData:G,ref_key:"chartDom0",ref:c,type:s.value+1},null,8,["type"])])]),e("div",Oa,[e("div",Va,[e("ul",null,[(_(!0),x(O,null,ee(l.value,n=>(_(),x("li",{key:n,onClick:$=>Z(n),class:H({active:i.value==n})},[s.value==0?(_(),x(O,{key:0},[z(m(n.indexOf("-")>-1?n.split("-").map($=>$[0].toUpperCase()).join(""):n.substring(0,3)),1)],64)):s.value==1?(_(),x("span",{key:1,style:{"margin-right":"1em"},innerHTML:n.split("/").map($=>$.charAt(0).toUpperCase()+$.slice(1)).join("/<br>")},null,8,Ua)):s.value==2?(_(),x(O,{key:2},[z(m(n.split(" ").map($=>$.charAt(0).toUpperCase()).join("")),1)],64)):s.value==3?(_(),x(O,{key:3},[z(m(n),1)],64)):de("",!0)],10,Ia))),128))])]),e("div",Pa,[e("span",{class:"case-close-btn",onClick:v[3]||(v[3]=n=>ne(!1))}),R(la,{data:b.value},null,8,["data"])])])],2),e("p",Ba,m(j[s.value].name)+" Evaluation Results and cases ",1)]),e("div",qa,[R(X,{class:H(["chart",{show:s.value==0}]),hasHightlight:!1,onSetCurrentCaseData:G,ref_key:"chartDom1",ref:M,type:1},null,8,["class"]),R(X,{class:H(["chart",{show:s.value==1}]),hasHightlight:!1,onSetCurrentCaseData:G,ref_key:"chartDom2",ref:w,type:2},null,8,["class"]),R(X,{class:H(["chart",{show:s.value==2}]),hasHightlight:!1,onSetCurrentCaseData:G,ref_key:"chartDom3",ref:h,type:3},null,8,["class"]),R(X,{class:H(["chart",{show:s.value==3}]),hasHightlight:!1,onSetCurrentCaseData:G,ref_key:"chartDom4",ref:y,type:4},null,8,["class"])])])])}}},et=pe(Ga,[["__scopeId","data-v-407fe7c0"]]);export{et as default};
