import"./jspdf.es.min-CM4Mwc1O.js";import{a as Re,b as Te,c as Le,d as Fe}from"./el-radio-CJZo5cSh.js";import{_ as he,r as l,B as Me,g as ie,a as _,N as te,w as O,c as x,f as Y,e,t as m,M as $,F as H,p as pe,j as _e,o as se,n as me,ay as je,az as Ae,K as Ee,h as D,u as ue,P as de,G as z,L as Ne,U as $e,i as ze}from"./index-Caeaii1f.js";import{e as G,g as W,h as He,i as Oe,j as ve}from"./common-DE-cPEhc.js";import{i as Ve}from"./index-UsLizYbu.js";import{S as Ie,a as Ue,P as Pe,N as Be,A as qe,b as Ge}from"./pagination-DP7ZE1L0.js";import{E as We,a as Ke}from"./index-CA4upNwu.js";const Qe={components:{Swiper:Ie,SwiperSlide:Ue},props:{data:{type:Array,required:!0}},mounted(){console.log("接收到的消息:",this.data)},setup(g){const i=l(null),F=b=>{console.log(b),i.value=b},S=()=>{console.log("slide change")},h=l(g.data);return Me(()=>g.data,(b,M)=>{h.value=b,i.value&&i.value.slideTo(0),console.log(h.value)}),{onSwiper:F,onSlideChange:S,modules:[Pe,Be,qe,Ge],caseData:h}}},fe=g=>(pe("data-v-ed6f5ddc"),g=g(),_e(),g),Je={class:"swiper-main swiper-no-swiping",tabindex:"0"},Xe={class:"title"},Ye={style:{"text-transform":"capitalize"}},Ze={class:"chart-content-desc"},ea=fe(()=>e("span",{class:"span"},"Q",-1)),aa={class:"chart-content-desc"},ta=fe(()=>e("span",{class:"span"},"A",-1)),sa=["innerHTML"];function oa(g,i,F,S,h,b){const M=ie("swiper-slide"),n=ie("swiper",!0);return _(),te(n,{modules:S.modules,navigation:!0,pagination:{clickable:!0},onSwiper:S.onSwiper},{default:O(()=>[(_(!0),x(H,null,Y(S.caseData,(u,y)=>(_(),te(M,{class:"swiper-slide",key:u.model+y},{default:O(()=>[e("div",Je,[e("p",Xe,[e("span",null,m("Case"+(y+1))+" Score：",1),$(m(u.score.toFixed(4))+"  (",1),e("text",Ye,m(u.label),1),$(" Score) ")]),e("div",Ze,[ea,e("p",null,m(u.prompt),1)]),e("div",aa,[ta,e("p",{class:"highlight",innerHTML:u.highlight},null,8,sa)])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])}const la=he(Qe,[["render",oa],["__scopeId","data-v-ed6f5ddc"]]),K={__name:"EchartComponent",props:{hasHightlight:{type:Boolean,required:!1,default:!0}},emits:["setCurrentCaseData"],setup(g,{expose:i,emit:F}){const S=g;let h=14;const b=document.body.clientWidth;b>1800?h=14:b>1650?h=13:b>1500?h=12:b>1400?h=11:h=10;const M=l(null);let n=null,u=0,y=100;i({setRadarChart:f=>{const c=Object.values(f);u=Math.ceil(Math.max(...c)*1)/1,y=Math.floor(Math.min(...c)*1)/1-10;const R=Object.keys(f).map((s,w)=>({name:s+" ("+f[s].toFixed(2)+")",color:S.hasHightlight&&w==0?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:w==0},min:y,max:u})),p=Object.values(f);n.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(s){return s.split("&").join(`&
`)}},axisLabel:{formatter:function(s){return s.toFixed(0)}},triggerEvent:!0,indicator:R},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#1093FF"},data:[{value:p,areaStyle:{opacity:.3,color:"#1093FF"},lineStyle:{width:2,color:"#1093FF"}}]}]})},setRadarHighlight:(f,c)=>{const R=Object.keys(f).map((p,s)=>({name:p+" ("+f[p].toFixed(2)+")",color:c==p?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:s==0},min:y,max:u}));n.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:h,color:"black",formatter:function(p){return p.split("&").join(`&
`)}},triggerEvent:!0,indicator:R}})}}),se(async()=>{await me(),n=Ve(M.value);const f={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"rgba(16, 147, 255, 1)"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};n.setOption(f),n.on("click",function(c){if(c.componentType==="radar"&&c.targetType=="axisName"){const p=n.getOption().radar[0].indicator.map(s=>{if(c.name=c.name.replace(/[\r\n]/g,""),s.name!=c.name&&s.color=="rgba(16, 147, 255, 1)"&&delete s.color,s.name==c.name&&s.color!=="rgba(16, 147, 255, 1)"){s.color="rgba(16, 147, 255, 1)";let w=s.name;w=w.split(" (")[0],j("setCurrentCaseData",w)}return s});n.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:h,color:"black"},triggerEvent:!0,indicator:p}})}}),n.on("mouseout",function(c){if(c.componentType==="radar"&&c.targetType=="axisName"){const p=n.getOption().radar[0].indicator.map(s=>(s.name==c.name&&s.color!=="rgba(16, 147, 255, 1)"&&delete s.color,s));n.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:h,color:"black"},triggerEvent:!0,indicator:p}})}})});const j=F;return(f,c)=>(_(),x("div",{style:{width:"100%",height:"100%"},ref_key:"chartDom",ref:M},null,512))}},V=g=>(pe("data-v-a388297e"),g=g(),_e(),g),na={class:"bg main-container"},ra={class:""},ca={class:"title-content"},ia={class:"model"},ua={id:"popoverId2"},da={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"flex-start","margin-top":"1.5em"}},va={key:0,class:"model-props"},ha={class:"model-prop"},pa=V(()=>e("span",{class:"prop-name"},"Developer: ",-1)),_a={class:"prop-content"},ma={class:"model-prop"},fa=V(()=>e("span",{class:"prop-name"},"Website/GitHub: ",-1)),ga={class:"prop-content"},ba=["href"],ya={class:"model-prop"},xa=V(()=>e("span",{class:"prop-name"},"Paper/Report: ",-1)),wa={class:"prop-content"},Ca=["href"],Sa={class:"model-prop"},ka=V(()=>e("span",{class:"prop-name"},"Type: ",-1)),Da={class:"prop-content"},Ra={class:"model-prop"},Ta=V(()=>e("span",{class:"prop-name"},"Publish Date: ",-1)),La={class:"prop-content"},Fa=V(()=>e("div",{class:"model-prop"},[e("span",{class:"prop-name"},"Measurement Date: "),e("span",{class:"prop-content"},"2025/2")],-1)),Ma={style:{width:"9em"}},ja={class:"chart-box"},Aa={class:"chart-tab"},Ea=V(()=>e("div",{class:"chart-tab-title"},"Evaluation Results",-1)),Na=["onClick"],$a={class:"chart-main"},za={class:"chart-container"},Ha={class:"charts-box"},Oa={class:"chart-text-main"},Va={class:"chart-menu"},Ia=["onClick"],Ua=["innerHTML"],Pa={class:"chart-content"},Ba={class:"chart-title"},qa={class:"download-charts-box"},Ga={__name:"Analysis",setup(g){const i=l(null),F=l(null),S=l(null),h=l(null),b=l(null),M=[{name:"Schwartz Theory of Basic Values",index:0,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Moral Foundation Theory",index:1,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Safety Taxonomy",index:2},{name:"LLMs' Unique Value System",index:3}],n=l([]),u=l(""),y=l([]);var d=null,U=null,j=null,f=null,c=null,R=null,p=null,s=null,w=null,Z=null;const Q=l([]),ee=l(),J=l(!1),I=l("GPT-4-Turbo"),a=l("GPT-4-Turbo"),k=l(null),T=t=>G.get(t),ge=async()=>{try{G.all([T("./data/models_info.json"),T("./data/Schwartz_scores.json"),T("./data/Schwartz_cases.json")]).then(G.spread(function(t,v,A){U=W(t.data.data),j=W(v.data.data),f=A.data.data,Q.value=Object.keys(U),!I.value&&!a.value&&(I.value=Q.value[0],a.value=Q.value[0]),k.value=U[a.value],i.value.setRadarChart(j[a.value]),d=L(f,a.value),n.value=Object.keys(d).sort(),X(n.value[0]),u.value=n.value[0],y.value=d[u.value],F.value.setRadarChart(j[a.value]),S.value.setRadarChart(p[a.value]),h.value.setRadarChart(c[a.value]),b.value.setRadarChart(w[a.value])}))}catch(t){console.error("Fetch error:",t)}},be=async()=>{try{G.all([T("./data/Risk_scores.json"),T("./data/Risk_cases.json"),T("./data/MFT_scores.json"),T("./data/MFT_cases.json"),T("./data/FULVa_scores.json"),T("./data/FULVa_cases.json")]).then(G.spread(function(t,v,A,C,E,q){c=W(t.data.data),R=v.data.data,p=W(A.data.data),s=C.data.data,w=W(E.data.data),Z=q.data.data}))}catch(t){console.error("Fetch error:",t)}};ge(),be();function L(t,v){return t.filter(C=>C.model==v).reduce((C,E)=>{C[E.value]||(C[E.value]=[]);const{model:q,...ae}=E;return C[E.value].push({model:q,...ae}),C},{})}se(async()=>{await me()});const ye=t=>{console.log(t)},X=t=>{u.value=t,y.value=d[u.value],o.value==0?i.value.setRadarHighlight(j[a.value],t):o.value==1?i.value.setRadarHighlight(p[a.value],t):o.value==2?i.value.setRadarHighlight(c[a.value],t):o.value==3&&i.value.setRadarHighlight(w[a.value],t)},oe=()=>{a.value=I.value,J.value=!1,k.value=U[a.value],console.log(o.value),console.log(a.value),o.value==0?(i.value.setRadarChart(j[a.value]),d=L(f,a.value)):o.value==1?(i.value.setRadarChart(p[a.value]),d=L(s,a.value)):o.value==2?(i.value.setRadarChart(c[a.value]),d=L(R,a.value)):o.value==3&&(i.value.setRadarChart(w[a.value]),d=L(Z,a.value)),console.log(d),n.value=Object.keys(d).sort(),X(n.value[0]),u.value=n.value[0],y.value=d[u.value]},o=l(0),xe=t=>{o.value=t,o.value==0?(i.value.setRadarChart(j[a.value]),d=L(f,a.value)):o.value==1?(i.value.setRadarChart(p[a.value]),d=L(s,a.value)):o.value==2?(i.value.setRadarChart(c[a.value]),d=L(R,a.value)):o.value==3&&(i.value.setRadarChart(w[a.value]),d=L(Z,a.value)),n.value=Object.keys(d).sort(),X(n.value[0]),u.value=n.value[0],y.value=d[u.value]},le=l(!0),ne=t=>{le.value=t};je(()=>{});let re=!0;const ce=Ae();Ee(()=>{console.log("首页传过来的modelName："+ce.query.modelName);const t=ce.query.modelName;t&&(I.value=t,a.value=t,re?re=!1:oe())}),se(()=>{document.addEventListener("click",we)});const we=t=>{const v=document.getElementById("popoverId2");ee.value&&v&&!v.contains(t.target)&&(J.value=!1)},P=t=>{u.value=t,y.value=d[u.value]},B=l(!1),Ce=async()=>{console.log("downloadAll"),!B.value&&(B.value=!0,await Se(),B.value=!1)};l(null),l(null),l(null),l(null);const Se=async t=>{const v=[[{name:"Schwartz Theory of Basic Values",chart:F.value.$refs.chartDom},{name:"Moral Foundation Theory",chart:S.value.$refs.chartDom},{name:"Safety Taxonomy",chart:h.value.$refs.chartDom},{name:"LLMs' Unique Value System",chart:b.value.$refs.chartDom}]],A=a.value+"_"+He(),C=[{model_name:a.value,model_info:k.value}];await Oe(v,C,A)};return(t,v)=>{const A=ze,C=Re,E=We,q=Ke,ae=Te,ke=Le,De=Fe;return _(),x("div",na,[e("div",ra,[e("div",ca,[e("div",ia,[D(C,{effect:"customized",content:"Switch model",placement:"top"},{default:O(()=>[Ne((_(),x("div",{class:"model-type model-flex",onClick:v[0]||(v[0]=$e(r=>J.value=!0,["stop"]))},[$(m(a.value)+" ",1),D(A,{class:"down-arrow",name:"down-arrow"})])),[[De,ee.value]])]),_:1}),D(ae,{ref_key:"popoverRef",ref:ee,visible:J.value,placement:"bottom-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:O(()=>[e("div",ua,[D(q,{modelValue:I.value,"onUpdate:modelValue":v[1]||(v[1]=r=>I.value=r),onChange:ye},{default:O(()=>[(_(!0),x(H,null,Y(Q.value,r=>(_(),te(E,{key:r,value:r},{default:O(()=>[$(m(r),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[e("button",{onClick:oe},"Submit")])])]),_:1},8,["visible"])]),e("div",da,[k.value?(_(),x("div",va,[e("div",ha,[pa,e("span",_a,m(k.value.affiliation),1)]),e("div",ma,[fa,e("span",ga,[e("a",{href:ue(ve)(k.value.website),target:"_blank"},m(k.value.website),9,ba)])]),e("div",ya,[xa,e("span",wa,[e("a",{href:ue(ve)(k.value.report),target:"_blank"},m(k.value.report),9,Ca)])]),e("div",Sa,[ka,e("span",Da,m(k.value.type)+"-Source",1)]),e("div",Ra,[Ta,e("span",La,m(k.value["release date"].split(" ")[0]),1)]),Fa])):de("",!0),e("div",Ma,[D(ke,{style:{"font-size":"0.875em"},plain:"",color:"#004f8f",onClick:Ce,disabled:B.value,loading:B.value},{default:O(()=>[$(" Download All ")]),_:1},8,["disabled","loading"])])])])]),e("div",ja,[e("div",Aa,[Ea,e("ul",null,[(_(),x(H,null,Y(M,r=>e("li",{class:z({active:o.value==r.index}),onClick:N=>xe(r.index),key:r.index},m(r.name),11,Na)),64))])]),e("div",$a,[e("div",{class:z(["chart-main-chart",le.value?"":"close"])},[e("span",{class:"case-open-btn",onClick:v[2]||(v[2]=r=>ne(!0))},"Cases"),e("div",za,[e("div",Ha,[D(K,{class:"chart",onSetCurrentCaseData:P,ref_key:"chartDom0",ref:i},null,512)])]),e("div",Oa,[e("div",Va,[e("ul",null,[(_(!0),x(H,null,Y(n.value,r=>(_(),x("li",{key:r,onClick:N=>X(r),class:z({active:u.value==r})},[o.value==0?(_(),x(H,{key:0},[$(m(r.indexOf("-")>-1?r.split("-").map(N=>N[0].toUpperCase()).join(""):r.substring(0,3)),1)],64)):o.value==1?(_(),x("span",{key:1,style:{"margin-right":"1em"},innerHTML:r.split("/").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join("/<br>")},null,8,Ua)):o.value==2?(_(),x(H,{key:2},[$(m(r.split(" ").map(N=>N.charAt(0).toUpperCase()).join("")),1)],64)):o.value==3?(_(),x(H,{key:3},[$(m(r),1)],64)):de("",!0)],10,Ia))),128))])]),e("div",Pa,[e("span",{class:"case-close-btn",onClick:v[3]||(v[3]=r=>ne(!1))}),D(la,{data:y.value},null,8,["data"])])])],2),e("p",Ba,m(M[o.value].name)+" Evaluation Results and cases ",1)]),e("div",qa,[D(K,{class:z(["chart",{show:o.value==0}]),hasHightlight:!1,onSetCurrentCaseData:P,ref_key:"chartDom1",ref:F},null,8,["class"]),D(K,{class:z(["chart",{show:o.value==1}]),hasHightlight:!1,onSetCurrentCaseData:P,ref_key:"chartDom2",ref:S},null,8,["class"]),D(K,{class:z(["chart",{show:o.value==2}]),hasHightlight:!1,onSetCurrentCaseData:P,ref_key:"chartDom3",ref:h},null,8,["class"]),D(K,{class:z(["chart",{show:o.value==3}]),hasHightlight:!1,onSetCurrentCaseData:P,ref_key:"chartDom4",ref:b},null,8,["class"])])])])}}},et=he(Ga,[["__scopeId","data-v-a388297e"]]);export{et as default};
