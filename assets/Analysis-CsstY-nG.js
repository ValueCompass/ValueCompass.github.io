import"./jspdf.es.min-CYM8RZcc.js";import{c as Ne,d as Ae,E as Be,a as $e,b as He,e as ze}from"./el-radio-Dg7tTxzG.js";import{i as Oe,E as Ie,a as Ue}from"./linesGL-tBBIPC-b.js";import{_ as ve,r as s,B as ke,g as be,a as p,N as te,w as G,c as f,f as W,e,h as k,t as x,M as U,F,T as xe,i as Se,n as me,p as De,j as Re,o as he,z as Ge,G as j,U as Pe,V as qe,K as We,P as se,u as Ce,L as Ke,W as Qe}from"./index-UroNu7IN.js";import{a as pe,b as ee,g as Ye,d as Je,e as Xe,f as we}from"./common-O76Ud4k6.js";import{S as Ze,a as ea,P as aa,N as ta,A as oa,b as sa}from"./pagination-CpQUI0jZ.js";import{V as la,_ as na}from"./CulturalAlignment-BsgOUXSK.js";const ra={components:{Swiper:Ze,SwiperSlide:ea},props:{data:{type:Array,required:!0}},mounted(){console.log("接收到的消息:",this.data)},setup(C){const L=s(null),R=n=>{console.log(n),L.value=n},S=()=>{console.log("slide change")},h=s(C.data);return ke(()=>C.data,(n,d)=>{h.value=n,L.value&&me(()=>{const g=L.value;g.loopDestroy(),g.slideTo(0,0),g.loopCreate()}),console.log(h.value)}),{onSwiper:R,onSlideChange:S,modules:[aa,ta,oa,sa],caseData:h,copyCase:n=>{const d=n.target.closest(".swiper-main"),g=d.querySelector(".q-des"),_=d.querySelector(".a-des"),T=document.createRange(),M=window.getSelection(),y=document.createElement("div");y.style.position="absolute",y.style.opacity="0",y.innerHTML=g.outerHTML+_.outerHTML,document.body.appendChild(y),T.selectNodeContents(y),M.removeAllRanges(),M.addRange(T);try{document.execCommand("copy"),xe.warning("文本已复制！")}catch{xe.warning("复制失败")}M.removeAllRanges(),document.body.removeChild(y)}}}},Te=C=>(De("data-v-b9d330d3"),C=C(),Re(),C),ca={class:"swiper-main swiper-no-swiping",tabindex:"0"},ia={class:"title"},ua={style:{"text-transform":"capitalize"}},da={class:"chart-content-desc q-des"},pa=Te(()=>e("span",{class:"span"},"Q:",-1)),va={class:"chart-content-desc a-des"},ma=Te(()=>e("span",{class:"span"},"A:",-1)),ha=["innerHTML"];function _a(C,L,R,S,h,N){const n=Se,d=be("swiper-slide"),g=be("swiper",!0);return p(),te(g,{modules:S.modules,navigation:!0,pagination:{clickable:!0},onSwiper:S.onSwiper,loop:!0,style:{height:"100%","padding-bottom":"1.7em","box-sizing":"border-box"}},{default:G(()=>[(p(!0),f(F,null,W(S.caseData,(_,T)=>(p(),te(d,{class:"swiper-slide",key:_.model+T},{default:G(()=>[e("div",ca,[k(n,{class:"copy-icon",name:"copy-icon",onClick:L[0]||(L[0]=M=>S.copyCase(M))}),e("p",ia,[e("span",null,x("Case"+(T+1))+" Score：",1),U(x(_.score.toFixed(4))+"  (",1),e("text",ua,x(_.label),1),U(" Score) ")]),e("div",da,[pa,e("p",null,x(_.prompt),1)]),e("div",va,[ma,e("p",{class:"highlight",innerHTML:_.highlight},null,8,ha)])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])}const fa=ve(ra,[["render",_a],["__scopeId","data-v-b9d330d3"]]),ae={__name:"EchartComponent",props:{hasHightlight:{type:Boolean,required:!1,default:!0},type:{type:Number,required:!0}},emits:["setCurrentCaseData"],setup(C,{expose:L,emit:R}){const S=C;let h=14;const N=document.body.clientWidth;N>1800?h=14:N>1650?h=13:N>1500?h=12:N>1400?h=11:h=10;const n=s(null);let d=null,g=0,_=100;L({setRadarChart:(v,c)=>{const i=Object.values(v);g=Math.ceil(Math.max(...i)*1)/1;let l=2;(c||S.type)==1&&(l=5),_=Math.floor(Math.min(...i)*1)/1-l;const b=Object.keys(v).map((r,D)=>({name:r+" ("+v[r].toFixed(2)+")",color:S.hasHightlight&&D==0?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:D==0},min:_,max:g})),V=Object.values(v);d.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:14,color:"black",formatter:function(r){return r.split("&").join(`&
`)}},axisLabel:{formatter:function(r){return r.toFixed(0)}},triggerEvent:!0,indicator:b},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#1093FF"},data:[{value:V,areaStyle:{opacity:.3,color:"#1093FF"},lineStyle:{width:2,color:"#1093FF"}}]}]})},setRadarHighlight:(v,c)=>{const i=Object.keys(v).map((l,a)=>({name:l+" ("+v[l].toFixed(2)+")",color:c==l?"rgba(16, 147, 255, 1)":"black",axisLabel:{show:a==0},min:_,max:g}));d.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:h,color:"black",formatter:function(l){return l.split("&").join(`&
`)}},triggerEvent:!0,indicator:i}})}}),he(async()=>{await me(),d=Oe(n.value);const v={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"black"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"rgba(16, 147, 255, 1)"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};d.setOption(v),d.on("click",function(c){if(c.componentType==="radar"&&c.targetType=="axisName"){const l=d.getOption().radar[0].indicator.map(a=>{if(c.name=c.name.replace(/[\r\n]/g,""),a.name!=c.name&&a.color=="rgba(16, 147, 255, 1)"&&delete a.color,a.name==c.name&&a.color!=="rgba(16, 147, 255, 1)"){a.color="rgba(16, 147, 255, 1)";let b=a.name;b=b.split(" (")[0],y("setCurrentCaseData",b)}return a});d.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:h,color:"black"},triggerEvent:!0,indicator:l}})}}),d.on("mouseout",function(c){if(c.componentType==="radar"&&c.targetType=="axisName"){const l=d.getOption().radar[0].indicator.map(a=>(a.name==c.name&&a.color!=="rgba(16, 147, 255, 1)"&&delete a.color,a));d.setOption({radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisName:{fontSize:h,color:"black"},triggerEvent:!0,indicator:l}})}})});const y=R;return(v,c)=>(p(),f("div",{style:{width:"100%",height:"100%"},ref_key:"chartDom",ref:n},null,512))}},ga=["onClick"],ya={class:"provider_models"},ba={__name:"ModelListRadio",props:{modelGropsByDeveloper:{type:Object,required:!0,default:()=>{}},modelValue:{type:String,required:!0}},emits:["updateCheckboxValue"],setup(C,{emit:L}){const R=C,S=s([]);ke(()=>R.modelValue,(l,a)=>{console.log("[子组件] modelValue 变化了:",a,"→",l),S.value=l},{deep:!0,immediate:!0});const h=()=>{N("updateCheckboxValue",S.value)},N=L,n=Ge(()=>{if(!R.modelGropsByDeveloper)return[];const l=Object.values(R.modelGropsByDeveloper).map(a=>a[0].model[0].toUpperCase());return[...new Set(l)].sort()}),d=s(null),g=s(null),_=s({}),T=s(null),M=s(!1),y=l=>a=>{a&&(_.value[l]=a)},v=l=>{M.value=!0,T.value=l;for(let a in R.modelGropsByDeveloper)if(R.modelGropsByDeveloper[a][0].model[0].toUpperCase()===l.toUpperCase()){const r=_.value[a];r&&(console.log(r),r.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{M.value=!1},500));break}},c=l=>{var b;const a=(b=g.value)==null?void 0:b.querySelector(".scroll-inner");a&&(a.scrollTop+=l.deltaY,l.preventDefault())},i=()=>{if(M.value)return;d.value.scrollTop;const l=d.value.getBoundingClientRect().top;let a=null,b=1/0;for(const V in _.value){const r=_.value[V];if(r){const D=r.getBoundingClientRect(),A=Math.abs(D.top-l);A<b&&(b=A,a=R.modelGropsByDeveloper[V][0].model[0].toUpperCase())}}a&&(T.value=a)};return he(async()=>{await me(),i()}),(l,a)=>{const b=Ne,V=Ae;return p(),f("div",{style:{position:"relative"},ref_key:"scrollBox",ref:g},[e("div",{class:"button-column",onWheel:c},[(p(!0),f(F,null,W(n.value,r=>(p(),f("span",{key:r,onClick:D=>v(r),class:j({on:T.value===r})},x(r),11,ga))),128))],32),e("div",{class:"scroll-inner",ref_key:"contentRef",ref:d,onScroll:i},[k(V,{modelValue:S.value,"onUpdate:modelValue":a[0]||(a[0]=r=>S.value=r)},{default:G(()=>[(p(!0),f(F,null,W(C.modelGropsByDeveloper,(r,D)=>(p(),f(F,{key:D},[e("p",{style:{"font-size":"12px",height:"12px","line-height":"16px",opacity:"0"},ref_for:!0,ref:y(D)},x(D),513),e("div",ya,[(p(!0),f(F,null,W(r,A=>(p(),te(b,{key:A.model,value:A.model},{default:G(()=>[U(x(A.model),1)]),_:2},1032,["value"]))),128))])],64))),128))]),_:1},8,["modelValue"])],544),e("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"10px"}},[e("button",{onClick:h},"Submit")])],512)}}},xa=ve(ba,[["__scopeId","data-v-42d0d399"]]),P=C=>(De("data-v-25eaf13c"),C=C(),Re(),C),Ca={class:"bg main-container"},wa={class:""},ka={class:"title-content"},Sa={class:"model"},Da={id:"popoverId2"},Ra={style:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"flex-start","margin-top":"1.5em"}},Ta={key:0,class:"model-props"},La={class:"model-prop"},Ma=P(()=>e("span",{class:"prop-name"},"Developer: ",-1)),Va={class:"prop-content"},Ea={class:"model-prop"},ja=P(()=>e("span",{class:"prop-name"},"Website/GitHub: ",-1)),Fa={class:"prop-content"},Na=["href"],Aa={class:"model-prop"},Ba=P(()=>e("span",{class:"prop-name"},"Paper/Report: ",-1)),$a={class:"prop-content"},Ha=["href"],za={class:"model-prop"},Oa=P(()=>e("span",{class:"prop-name"},"Type: ",-1)),Ia={class:"prop-content"},Ua={class:"model-prop"},Ga=P(()=>e("span",{class:"prop-name"},"Publish Date: ",-1)),Pa={class:"prop-content"},qa=P(()=>e("div",{class:"model-prop"},[e("span",{class:"prop-name"},"Measurement Date: "),e("span",{class:"prop-content"},"2025/2")],-1)),Wa={style:{width:"9em"}},Ka={class:"chart-tab"},Qa=["onClick"],Ya={class:"chart-main"},Ja=P(()=>e("span",null,"Show Cases",-1)),Xa={class:"chart-container"},Za={class:"charts-box"},et={class:"chart-text-main"},at=P(()=>e("span",null,"Hide Cases",-1)),tt={class:"chart-menu"},ot=["onClick"],st=["innerHTML"],lt={class:"chart-content"},nt={class:"chart-title"},rt={class:"download-charts-box"},ct={__name:"Analysis",setup(C){const L=s(null),R=s(null),S=[{name:"Evaluation Results",index:0},{name:"culture heatmap",index:1},{name:"Value Space",index:2}],h=s(0),N=t=>{h.value=t.index},n=s(null),d=s(null),g=s(null),_=s(null),T=s(null),M=[{name:"Schwartz Theory of Basic Values",index:0,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Moral Foundation Theory",index:1,children:[{name:"Evaluation Results and cases",index:0},{name:"Distance between national values",index:1}]},{name:"Safety Taxonomy",index:2},{name:"LLMs' Unique Value System",index:3}],y=s([]),v=s(""),c=s([]);var i=null,l=null,a=null,b=null,V=null,r=null,D=null,A=null,K=null,le=null;const ne=s([]),re=s(),Q=s(!1),q=s("GPT-4-Turbo"),o=s("GPT-4-Turbo"),B=s(null),_e=s(),$=t=>pe.get(t),Le=async()=>{try{pe.all([$("./data/models_info.json"),$("./data/Schwartz_scores.json"),$("./data/Schwartz_cases.json"),$("./data/Risk_scores.json"),$("./data/Risk_cases.json"),$("./data/MFT_scores.json"),$("./data/MFT_cases.json"),$("./data/FULVa_scores.json"),$("./data/FULVa_cases.json")]).then(pe.spread(function(t,w,z,E,O,X,Z,ue,de){l=ee(t.data.data),a=ee(w.data.data),b=z.data.data,V=ee(E.data.data),r=O.data.data,D=ee(X.data.data),A=Z.data.data,K=ee(ue.data.data),le=de.data.data,ne.value=Object.keys(l),_e.value=Ye(t.data.data),!q.value&&!o.value&&(q.value=ne.value[0],o.value=ne.value[0]),ie()}))}catch(t){console.error("Fetch error:",t)}};function H(t,w){return t.filter(E=>E.model==w).reduce((E,O)=>{E[O.value]||(E[O.value]=[]);const{model:X,...Z}=O;return E[O.value].push({model:X,...Z}),E},{})}const ce=t=>{v.value=t,c.value=i[v.value],u.value==0?n.value.setRadarHighlight(a[o.value],t):u.value==1?n.value.setRadarHighlight(D[o.value],t):u.value==2?n.value.setRadarHighlight(V[o.value],t):u.value==3&&n.value.setRadarHighlight(K[o.value],t)},Me=t=>{q.value=t,ie()},ie=()=>{o.value=q.value,Q.value=!1,B.value=l[o.value],console.log(u.value),console.log(o.value),u.value==0?(n.value.setRadarChart(a[o.value]),i=H(b,o.value)):u.value==1?(n.value.setRadarChart(D[o.value]),i=H(A,o.value)):u.value==2?(n.value.setRadarChart(V[o.value]),i=H(r,o.value)):u.value==3&&(n.value.setRadarChart(K[o.value]),i=H(le,o.value)),console.log(i),y.value=Object.keys(i),ce(y.value[0]),v.value=y.value[0],c.value=i[v.value],d.value.setRadarChart(a[o.value]),g.value.setRadarChart(D[o.value]),_.value.setRadarChart(V[o.value]),T.value.setRadarChart(K[o.value]),L.value.setHotChart([o.value]),R.value.setValueSpacesData([{model_name:o.value}])},u=s(0),Ve=t=>{u.value=t,u.value==0?(n.value.setRadarChart(a[o.value],1),i=H(b,o.value)):u.value==1?(n.value.setRadarChart(D[o.value],2),i=H(A,o.value)):u.value==2?(n.value.setRadarChart(V[o.value],3),i=H(r,o.value)):u.value==3&&(n.value.setRadarChart(K[o.value],4),i=H(le,o.value)),y.value=Object.keys(i),ce(y.value[0]),v.value=y.value[0],c.value=i[v.value]},fe=s(!0),ge=t=>{fe.value=t};Pe(()=>{});let ye=!0;const oe=qe();We(()=>{console.log("首页传过来的modelName："+oe.query.modelName);const t=oe.query.modelName;t&&(q.value=t,o.value=t),ye?ye=!1:t&&(console.log("首页传过来的modelName："+oe.query.modelName),ie())}),he(()=>{const t=oe.query.modelName;t&&(q.value=t,o.value=t),Le(),document.addEventListener("click",Ee)});const Ee=t=>{const w=document.getElementById("popoverId2");re.value&&w&&!w.contains(t.target)&&(Q.value=!1)},Y=t=>{v.value=t,c.value=i[v.value]},J=s(!1),je=async()=>{console.log("downloadAll"),!J.value&&(J.value=!0,await Fe(),J.value=!1)};s(null),s(null),s(null),s(null);const Fe=async t=>{const w=[[{name:"Schwartz Theory of Basic Values",chart:d.value.$refs.chartDom},{name:"Moral Foundation Theory",chart:g.value.$refs.chartDom},{name:"Safety Taxonomy",chart:_.value.$refs.chartDom},{name:"LLMs' Unique Value System",chart:T.value.$refs.chartDom}]],z=o.value+"_"+Je(),E=[{model_name:o.value,model_info:B.value}];await Xe(w,E,z)};return(t,w)=>{const z=Se,E=Be,O=$e,X=He,Z=Ue,ue=Ie,de=ze;return p(),f("div",Ca,[e("div",wa,[e("div",ka,[e("div",Sa,[k(E,{effect:"customized",content:"Switch model",placement:"top"},{default:G(()=>[Ke((p(),f("div",{class:"model-type model-flex",onClick:w[0]||(w[0]=Qe(m=>Q.value=!0,["stop"]))},[U(x(o.value)+" ",1),k(z,{class:"down-arrow",name:"down-arrow"})])),[[de,re.value]])]),_:1}),Q.value?(p(),te(O,{key:0,ref_key:"popoverRef",ref:re,visible:Q.value,placement:"right",width:630,trigger:"click","virtual-triggering":"",persistent:""},{default:G(()=>[e("div",Da,[k(xa,{modelGropsByDeveloper:_e.value,modelValue:q.value,onUpdateCheckboxValue:Me},null,8,["modelGropsByDeveloper","modelValue"])])]),_:1},8,["visible"])):se("",!0)]),e("div",Ra,[B.value?(p(),f("div",Ta,[e("div",La,[Ma,e("span",Va,x(B.value.affiliation),1)]),e("div",Ea,[ja,e("span",Fa,[e("a",{href:Ce(we)(B.value.website),target:"_blank"},x(B.value.website),9,Na)])]),e("div",Aa,[Ba,e("span",$a,[e("a",{href:Ce(we)(B.value.report),target:"_blank"},x(B.value.report),9,Ha)])]),e("div",za,[Oa,e("span",Ia,x(B.value.type)+"-Source",1)]),e("div",Ua,[Ga,e("span",Pa,x(B.value["release date"].split(" ")[0]),1)]),qa])):se("",!0),e("div",Wa,[k(X,{style:{"font-size":"0.875em"},plain:"",color:"#004f8f",onClick:je,disabled:J.value,loading:J.value},{default:G(()=>[U(" Download All ")]),_:1},8,["disabled","loading"])])])])]),e("div",null,[k(ue,{modelValue:h.value,"onUpdate:modelValue":w[1]||(w[1]=m=>h.value=m),onTabClick:N},{default:G(()=>[(p(),f(F,null,W(S,m=>k(Z,{key:m.index,label:"         "+m.name+"         ",name:m.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),e("div",{class:j(["download-box",{show:h.value==2}])},[k(la,{ref_key:"ValueSpaceComponentProps",ref:R},null,512)],2),e("div",{class:j(["download-box",{show:h.value==1}])},[k(na,{ref_key:"CulturalAlignmentComponentProps",ref:L},null,512)],2),e("div",{class:j(["chart-box download-box",{show:h.value==0}])},[e("div",Ka,[e("ul",null,[(p(),f(F,null,W(M,m=>e("li",{class:j({active:u.value==m.index}),onClick:I=>Ve(m.index),key:m.index},x(m.name),11,Qa)),64))])]),e("div",Ya,[e("div",{class:j(["chart-main-chart",fe.value?"":"close"])},[e("div",{class:"case-btn case-open-btn",onClick:w[2]||(w[2]=m=>ge(!0))},[k(z,{name:"hide-case"}),Ja]),e("div",Xa,[e("div",Za,[k(ae,{class:"chart",onSetCurrentCaseData:Y,ref_key:"chartDom0",ref:n,type:u.value+1},null,8,["type"])])]),e("div",et,[e("div",{class:"case-btn case-close-btn",onClick:w[3]||(w[3]=m=>ge(!1))},[k(z,{name:"hide-case"}),at]),e("div",tt,[e("ul",null,[(p(!0),f(F,null,W(y.value,m=>(p(),f("li",{key:m,onClick:I=>ce(m),class:j({active:v.value==m})},[u.value==0?(p(),f(F,{key:0},[U(x(m.indexOf("-")>-1?m.split("-").map(I=>I[0].toUpperCase()).join(""):m.substring(0,3)),1)],64)):u.value==1?(p(),f("span",{key:1,style:{"margin-right":"1em"},innerHTML:m.split("/").map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join("/<br>")},null,8,st)):u.value==2?(p(),f(F,{key:2},[U(x(m.split(" ").map(I=>I.charAt(0).toUpperCase()).join("")),1)],64)):u.value==3?(p(),f(F,{key:3},[U(x(m),1)],64)):se("",!0)],10,ot))),128))])]),e("div",lt,[c.value.length!=0?(p(),te(fa,{key:0,data:c.value},null,8,["data"])):se("",!0)])])],2),e("p",nt,x(M[u.value].name)+" Evaluation Results and cases ",1)]),e("div",rt,[k(ae,{class:j(["chart",{show:u.value==0}]),hasHightlight:!1,onSetCurrentCaseData:Y,ref_key:"chartDom1",ref:d,type:1},null,8,["class"]),k(ae,{class:j(["chart",{show:u.value==1}]),hasHightlight:!1,onSetCurrentCaseData:Y,ref_key:"chartDom2",ref:g,type:2},null,8,["class"]),k(ae,{class:j(["chart",{show:u.value==2}]),hasHightlight:!1,onSetCurrentCaseData:Y,ref_key:"chartDom3",ref:_,type:3},null,8,["class"]),k(ae,{class:j(["chart",{show:u.value==3}]),hasHightlight:!1,onSetCurrentCaseData:Y,ref_key:"chartDom4",ref:T,type:4},null,8,["class"])])],2)])}}},_t=ve(ct,[["__scopeId","data-v-25eaf13c"]]);export{_t as default};
