import"./jspdf.es.min-Y5ppame2.js";import{E as He,M as Oe,S as qe,G as Ge,a as Ke}from"./selectedPoints-D-CyKJ3G.js";import{b as Ze,a as Je,E as Qe}from"./el-radio-Y3PvQ3WO.js";import{i as We,E as Xe,a as Ye}from"./linesGL-C_ZBgXp_.js";import{r as o,o as Fe,n as ea,a as u,c as i,e as a,_ as Re,G as k,h as r,p as ze,j as Le,U as aa,V as la,K as oa,w as S,F as T,f as O,P as q,N as te,M as Ce,t as ve,L as ta,S as sa,H as na}from"./index-D0qidSqa.js";import{a as fe,b as se,m as ra,c as $,g as ua,d as ca,e as da}from"./common-CQwEJmn7.js";import{V as ia,_ as va}from"./CulturalAlignment-blbQ0I6S.js";import"./homepageSwiper-BF3bEwvU.js";import"./pagination-5fbtSRci.js";import"./el-input-CxiSSvZX.js";import"./Schwartz_image-hQPpC2TV.js";const De="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",ma={class:""},me={__name:"echart",props:{type:{type:Number,required:!0}},setup(y,{expose:g}){const V=y,L=o(null);let j=null;return g({setRadarChart:(c,x,Y)=>{console.log(c);let m=[],h=[],C=[];if(c.length>0){const I=c.flatMap(v=>Object.entries(v[x]).filter(([M,D])=>M!=="model_name"&&M!=="Score").map(([M,D])=>D)),N=Math.ceil(Math.max(...I)*1)/1;let ee=2;V.type==1&&(ee=5);const U=Math.floor(Math.min(...I)*1)/1-ee;let ae=[];Y?ae=Y:ae=Object.keys(c[0][x]),C=ae.filter(v=>v!="model_name"&&v!="Score").map((v,M)=>({name:v,color:(M==0,"#000"),axisLabel:{show:M==0},min:U,max:N}));for(let v=0;v<c.length;v++){let M=[];for(let D=0;D<C.length;D++)M.push(c[v][x][C[D].name]);m.push({name:c[v].model_name,value:M,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:c[v].color},itemStyle:{color:c[v].color}}),h.push(c[v].model_name)}}j.setOption({legend:{data:h,textStyle:{fontSize:14,color:"black"}},radar:{center:["50%","56%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(I){return I.split("&").join(`&
`)}},axisLabel:{formatter:function(I){return I.toFixed(0)}},triggerEvent:!0,indicator:C},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:m}]})}}),Fe(async()=>{await ea(),j=We(L.value);const c={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};j.setOption(c)}),(c,x)=>(u(),i("div",null,[a("div",ma,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:L,style:{width:"1200px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},_e=y=>(ze("data-v-546dcc91"),y=y(),Le(),y),_a={class:""},ha={class:"echart-list"},pa=_e(()=>a("p",null,"Schwartz Theory of Basic Values",-1)),fa=_e(()=>a("p",null,"Moral Foundation Theory",-1)),ba=_e(()=>a("p",null,"Safety Taxonomy",-1)),ya=_e(()=>a("p",null,"LLMs' Unique Value System",-1)),xa={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(y,{expose:g}){const V=y,L=o(null),j=o(null),X=o(null),c=o(null),x=o(null);return g({setRadarChart:(m,h)=>{x.value=m,L.value.setRadarChart(m,"Schwartz_data",h?h.Schwartz_data:null),j.value.setRadarChart(m,"MFT_data",h?h.MFT_data:null),X.value.setRadarChart(m,"Risk_data",h?h.Risk_data:null),c.value.setRadarChart(m,"FULVa_data",h?h.FULVa_data:null)}}),(m,h)=>(u(),i("div",null,[a("div",_a,[a("div",ha,[a("div",{class:k(["download-box",{show:V.DimensionMeasurementTabIndex==0}])},[pa,r(me,{ref_key:"chartDom1",ref:L,type:1},null,512)],2),a("div",{class:k(["download-box",{show:V.DimensionMeasurementTabIndex==1}])},[fa,r(me,{ref_key:"chartDom2",ref:j,type:2},null,512)],2),a("div",{class:k(["download-box",{show:V.DimensionMeasurementTabIndex==2}])},[ba,r(me,{ref_key:"chartDom3",ref:X,type:3},null,512)],2),a("div",{class:k(["download-box",{show:V.DimensionMeasurementTabIndex==3}])},[ya,r(me,{ref_key:"chartDom4",ref:c,type:4},null,512)],2)])])]))}},wa=Re(xa,[["__scopeId","data-v-546dcc91"]]),b=y=>(ze("data-v-a4f1fe0f"),y=y(),Le(),y),Sa={class:"bg comparison-template main-container"},ka={class:"title-content"},ga=b(()=>a("h2",null,"Compare Pool",-1)),Ma={class:"compare-model-list",style:{position:"relative"}},Ta=["onClick"],Va={class:"name"},Ca={class:"top-item-content"},Fa=b(()=>a("span",{class:"type-icon"},null,-1)),Ra={class:"dev"},za={class:"date"},La=["onClick"],Da=b(()=>a("img",{src:De,alt:"add-model"},null,-1)),$a=b(()=>a("p",null,"Add",-1)),ja=[Da,$a],Ia=b(()=>a("img",{src:De,alt:"add-model"},null,-1)),Pa=b(()=>a("p",null,"Add",-1)),Aa=[Ia,Pa],Na={id:"popoverId",style:{position:"relative"}},Ua={class:"max-num-tip",style:{}},Ba={class:"chart-box"},Ea={class:"chart-tab"},Ha={class:"chart-main",style:{}},Oa=b(()=>a("h4",null,"Schwartz Theory of Basic Values",-1)),qa=b(()=>a("span",null,"Average",-1)),Ga=b(()=>a("h4",null,"Moral Foundations Theory",-1)),Ka=b(()=>a("span",null,"Average",-1)),Za=b(()=>a("h4",null,"Safety Taxonomy",-1)),Ja=b(()=>a("span",null,"Average",-1)),Qa=b(()=>a("h4",null,"LLMs' Unique Value System",-1)),Wa=b(()=>a("span",null,"Average",-1)),Xa={__name:"Comparison",setup(y){const g=o(null),V=o(null),L=o(null);o(null);const j=Ge.colorList,X=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}],c=o(null);var x=null,Y=null,m=null,h=null,C=null,I=null,N=null,ee=null;const U=o(),ae=o([]),v=o(null),M=o(!1),D=o(),G=o([]),s=o([]),d=o([]),P=t=>fe.get(t),$e=async()=>{try{fe.all([P("./data/models_info.json"),P("./data/Schwartz_scores.json"),P("./data/Schwartz_cases.json"),P("./data/Risk_scores.json"),P("./data/Risk_cases.json"),P("./data/MFT_scores.json"),P("./data/MFT_cases.json"),P("./data/FULVa_scores.json")]).then(fe.spread(function(t,e,_,w,n,z,pe,p){ee=t.data.data,U.value=se(t.data.data),x=se(e.data.data),Y=_.data.data,m=se(w.data.data),h=n.data.data,C=se(z.data.data),I=pe.data.data,N=se(p.data.data),R=ra(x,m,C,N);for(let l in U.value){const f=$(l,[],R);U.value[l].points=(f*1).toFixed(2)}if(D.value=ua(ee),G.value=Object.keys(U.value),be.value=Object.keys(x[G.value[0]]),K.value=be.value,xe.value=Object.keys(m[G.value[0]]),J.value=xe.value,ye.value=Object.keys(C[G.value[0]]),Z.value=ye.value,we.value=Object.keys(N[G.value[0]]),Q.value=we.value,W)s.value=W;else{const l=G.value.slice(0,2);s.value=l}ne(),c.value.hancelTypeIndexChange(0)}))}catch(t){console.error("Fetch error:",t)}},A=(t,e)=>e.label=="model_name"?t[e.label]:(t[e.label]*1).toFixed(2),F=o(0),je=t=>{console.log(t),F.value=t.index},Ie=t=>{s.value=t,ne()},ne=()=>{M.value=!1,H.value=null,console.log(s.value),s.value.length>5&&E.value,Ae(),ae.value=""},Pe=(t,e)=>{s.value.splice(e,1),ne()},be=o([]),ye=o([]),xe=o([]),we=o([]),K=o([]),Z=o([]),J=o([]),Q=o([]),re=o([]),ue=o([]),ce=o([]),de=o([]),Ae=()=>{d.value=[],s.value.length>5&&E.value;var t=[];for(let e=0;e<s.value.length;e++){console.log(d.value);let _=!1;d.value.forEach(n=>{console.log("item",n,s.value[e]),n.model_name==s.value[e]&&(_=!0),t.push(n.color)});let w=j.filter(n=>t.every(z=>z!=n));if(!_){let n={};n.color=w[0],n.model_name=s.value[e],n.model_info=U.value[s.value[e]],n.Schwartz_data=x[s.value[e]],n.Risk_data=m[s.value[e]],n.MFT_data=C[s.value[e]],n.FULVa_data=N[s.value[e]],d.value.push(n)}}console.log("checkedModelDetailList.value",d.value),re.value=[],ue.value=[],ce.value=[],de.value=[];for(let e=0;e<d.value.length;e++){let _={};_=x[s.value[e]],_.model_name=s.value[e],_.Score=$(s.value[e],K.value,R),re.value.push(_);let w={};w=m[s.value[e]],w.model_name=s.value[e],w.Score=$(s.value[e],J.value,R),ce.value.push(w);let n={};n=C[s.value[e]],n.model_name=s.value[e],n.Score=$(s.value[e],Z.value,R),ue.value.push(n);let z={};z=N[s.value[e]],z.model_name=s.value[e],z.Score=$(s.value[e],Q.value,R),de.value.push(z)}console.log("sssss",d.value),g.value.setRadarChart(d.value),L.value.setValueSpacesData(d.value),console.log("ssssaaas",d.value),V.value.setHotChart(s.value),console.log("checkedModelDetailList.value",d.value)};aa(()=>{});let W=null;const he=la();let Se=!0;Fe(()=>{W=he.query.modelName,$e(),document.addEventListener("click",Ee)}),oa(()=>{F.value=0,B.value=0,Se?Se=!1:(W=he.query.modelName,W&&(console.log("首页传过来的modelName："+he.query.modelName),s.value=W,ne()))});let R=null;const Ne=t=>{console.log("!!!filerData",t),B.value=t.index,t.index==0&&(K.value=t.checkPoints.map(e=>e)),t.index==1&&(Z.value=t.checkPoints.map(e=>e)),t.index==2&&(J.value=t.checkPoints.map(e=>e)),t.index==3&&(Q.value=t.checkPoints.map(e=>e));for(let e=0;e<d.value.length;e++)re.value[e].Score=$(s.value[e],K.value,R),ce.value[e].Score=$(s.value[e],J.value,R),ue.value[e].Score=$(s.value[e],Z.value,R),de.value[e].Score=$(s.value[e],Q.value,R);g.value.setRadarChart(d.value,{Schwartz_data:K.value,MFT_data:Z.value,Risk_data:J.value,FULVa_data:Q.value})},B=o(0),le=o(!1),Ue=async()=>{console.log("downloadAll"),!le.value&&(le.value=!0,await Be(),le.value=!1)},ke=o(null),ge=o(null),Me=o(null),Te=o(null),Be=async t=>{const e=[[{name:"Schwartz Theory of Basic Values",chart:ke.value.$el},{name:"Moral Foundation Theory",chart:ge.value.$el},{name:"Safety Taxonomy",chart:Me.value.$el},{name:"LLMs' Unique Value System",chart:Te.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:g.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:g.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:g.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:g.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:V.value.$refs.chartDom},{name:"Value Space",chart:L.value.$refs.chartDom}]],_="Comparison_"+ca();await da(e,d.value,_)},E=o(!0),ie=o([]),H=o(null),Ve=t=>{H.value=H.value===t?null:t},Ee=t=>{const e=document.getElementById("popoverId"),_=ie.value.some(n=>n==null?void 0:n.contains(t.target)),w=e==null?void 0:e.contains(t.target);!_&&!w&&(H.value=null)};return(t,e)=>{const _=Ze,w=Qe,n=Je,z=Ye,pe=Xe,p=Ke,oe=He;return u(),i("div",Sa,[a("div",null,[a("div",ka,[ga,a("div",Ma,[r(_,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Ue,disabled:le.value,loading:le.value},{default:S(()=>[Ce(" Download All ")]),_:1},8,["disabled","loading"]),a("ul",null,[(u(!0),i(T,null,O(d.value,(l,f)=>(u(),i("li",{class:"model-li",key:l,style:na({"border-color":l.color})},[a("span",{class:"close",onClick:Ya=>Pe(l.model_name,f)},null,8,Ta),a("p",Va,ve(l.model_name),1),a("div",Ca,[r(w,{effect:"customized",content:"Proprietary",placement:"top"},{default:S(()=>[Fa]),_:1}),a("span",Ra,ve(l.model_info.developer),1),a("span",za,ve(l.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),d.value.length<=5?(u(!0),i(T,{key:0},O(5-d.value.length,l=>(u(),i("li",{key:l,class:"model-li add-model",ref_for:!0,ref:f=>ie.value[l]=f,onClick:f=>Ve(l)},ja,8,La))),128)):q("",!0),!E.value&&d.value.length>=5?(u(),i("li",{key:1,class:"model-li add-model",ref:l=>ie.value[0]=l,onClick:e[0]||(e[0]=l=>Ve(0))},Aa,512)):q("",!0),H.value!==null?(u(),te(n,{key:2,ref_key:"popoverRef",ref:v,width:630,visible:!0,"virtual-ref":ie.value[H.value],"virtual-triggering":"",placement:"right",trigger:"click",onAfterLeave:e[1]||(e[1]=l=>H.value=null)},{default:S(()=>[a("div",Na,[r(Oe,{modelGropsByDeveloper:D.value,modelValue:s.value,isSetModelNumMax:E.value,onUpdateCheckboxValue:Ie},null,8,["modelGropsByDeveloper","modelValue","isSetModelNumMax"])])]),_:1},8,["virtual-ref"])):q("",!0)]),a("p",Ua,[Ce(" The maximum number of comparisons supported is "),a("span",{onDblclick:e[2]||(e[2]=l=>E.value=!E.value)},ve(E.value?5:100),33)])])])]),a("div",Ba,[a("div",Ea,[r(pe,{modelValue:F.value,"onUpdate:modelValue":e[3]||(e[3]=l=>F.value=l),onTabClick:je},{default:S(()=>[(u(),i(T,null,O(X,l=>r(z,{key:l.index,label:"         "+l.name+"         ",name:l.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",Ha,[ta(r(qe,{ref_key:"SelectedPointsRef",ref:c,type:1,onApplyChange:Ne},null,512),[[sa,F.value==0||F.value==1]]),a("div",{class:k(["table-box download-box",{show:F.value==0}])},[a("div",{class:k(["download-box",{show:B.value==0}])},[Oa,r(oe,{data:re.value,ref_key:"SchwartzTableRef",ref:ke,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:S(()=>[r(p,{prop:"model_name",label:"Model",width:"210"}),r(p,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:S(()=>[qa]),_:1}),(u(!0),i(T,null,O(K.value,(l,f)=>(u(),i(T,{key:f},[l!="model_name"?(u(),te(p,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):q("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:k(["download-box",{show:B.value==1}])},[Ga,r(oe,{data:ue.value,ref_key:"MFTTableRef",ref:ge,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:S(()=>[r(p,{prop:"model_name",label:"Model",width:"210"}),r(p,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:S(()=>[Ka]),_:1}),(u(!0),i(T,null,O(Z.value,(l,f)=>(u(),i(T,{key:f},[l!="model_name"?(u(),te(p,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):q("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:k(["download-box",{show:B.value==2}])},[Za,r(oe,{data:ce.value,ref_key:"RiskTableRef",ref:Me,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:S(()=>[r(p,{prop:"model_name",label:"Model",width:"210"}),r(p,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:S(()=>[Ja]),_:1}),(u(!0),i(T,null,O(J.value,(l,f)=>(u(),i(T,{key:f},[l!="model_name"?(u(),te(p,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):q("",!0)],64))),128))]),_:1},8,["data"])],2),a("div",{class:k(["download-box",{show:B.value==3}])},[Qa,r(oe,{data:de.value,ref_key:"FULVaTableRef",ref:Te,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:S(()=>[r(p,{prop:"model_name",label:"Model",width:"210"}),r(p,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:S(()=>[Wa]),_:1}),(u(!0),i(T,null,O(Q.value,(l,f)=>(u(),i(T,{key:f},[l!="model_name"?(u(),te(p,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):q("",!0)],64))),128))]),_:1},8,["data"])],2)],2),a("div",{class:k(["download-box",{show:F.value==1}])},[r(wa,{ref_key:"VisualizationComponentProps",ref:g,DimensionMeasurementTabIndex:B.value},null,8,["DimensionMeasurementTabIndex"])],2),a("div",{class:k(["download-box",{show:F.value==3}])},[r(ia,{ref_key:"ValueSpaceComponentProps",ref:L},null,512)],2),a("div",{class:k(["download-box",{show:F.value==2}])},[r(va,{ref_key:"CulturalAlignmentComponentProps",ref:V},null,512)],2)])])])}}},il=Re(Xa,[["__scopeId","data-v-a4f1fe0f"]]);export{il as default};
