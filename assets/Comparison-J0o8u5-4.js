import{u as Pe,d as Ne,n as Ue,S as Ke,r as ue,i as Ge,c as te,e as $e,a as ce,g as ne,m as Ze,b as qe}from"./common-BT-Elnwx.js";import{u as Je,d as Ye,z as Qe,E as We,a as Xe,b as ea}from"./el-radio-group-D9ZCMOoo.js";import{E as aa,a as la}from"./el-popover-VmPnMg3T.js";import{u as ta,l as oa,f as sa,k as ze,d as na,E as ra,a as ca,b as ia,c as ua,g as da,h as va,e as ma}from"./el-select-CTwkP2vA.js";import{c as pa,E as _a,a as fa}from"./linesGL-CwYVztqy.js";import{r as d,C as R,f as I,I as Te,J as ha,s as ba,a as Me,K as ga,L as ya,M as xa,A as oe,w as z,e as T,d as V,v as j,T as Ca,h as Z,N as Le,O as Ie,P as ka,Q as Sa,y as ve,o as y,c as A,b as l,_ as me,p as ke,l as Se,F,g as B,i as K,t as M,n as wa,j as G,E as Va,G as Aa,k as se,R as Ea}from"./index-mQvV3hV4.js";import{i as we}from"./index-DNSscJ2R.js";import"./el-input-Bjq8wFyj.js";const Re=Symbol(),de=d();function Be(a,e=void 0){return Te()?ha(Re,de):de}function $a(a,e){const s=Be(),t=Pe(a,R(()=>{var o;return((o=s.value)==null?void 0:o.namespace)||Ne})),c=ta(R(()=>{var o;return(o=s.value)==null?void 0:o.locale})),n=Je(R(()=>{var o;return((o=s.value)==null?void 0:o.zIndex)||Ye})),u=R(()=>{var o;return I(e)||((o=s.value)==null?void 0:o.size)||""});return za(R(()=>I(s)||{})),{ns:t,locale:c,zIndex:n,size:u}}const za=(a,e,s=!1)=>{var t;const c=!!Te(),n=c?Be():void 0,u=(t=void 0)!=null?t:c?ba:void 0;if(!u)return;const o=R(()=>{const b=I(a);return n!=null&&n.value?Da(n.value,b):b});return u(Re,o),u(oa,R(()=>o.value.locale)),u(Ue,R(()=>o.value.namespace)),u(Qe,R(()=>o.value.zIndex)),u(Ke,{size:R(()=>o.value.size||"")}),u(sa,R(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(s||!de.value)&&(de.value=o.value),o},Da=(a,e)=>{const s=[...new Set([...ze(a),...ze(e)])],t={};for(const c of s)t[c]=e[c]!==void 0?e[c]:a[c];return t};function Fa(a){let e;const s=d(!1),t=Me({...a,originalPosition:"",originalOverflow:"",visible:!1});function c(r){t.text=r}function n(){const r=t.parent,_=v.ns;if(!r.vLoadingAddClassList){let f=r.getAttribute("loading-number");f=Number.parseInt(f)-1,f?r.setAttribute("loading-number",f.toString()):(ue(r,_.bm("parent","relative")),r.removeAttribute("loading-number")),ue(r,_.bm("parent","hidden"))}u(),p.unmount()}function u(){var r,_;(_=(r=v.$el)==null?void 0:r.parentNode)==null||_.removeChild(v.$el)}function o(){var r;a.beforeClose&&!a.beforeClose()||(s.value=!0,clearTimeout(e),e=window.setTimeout(b,400),t.visible=!1,(r=a.closed)==null||r.call(a))}function b(){if(!s.value)return;const r=t.parent;s.value=!1,r.vLoadingAddClassList=void 0,n()}const i=xa({name:"ElLoading",setup(r,{expose:_}){const{ns:f,zIndex:x}=$a("loading");return _({ns:f,zIndex:x}),()=>{const k=t.spinner||t.svg,D=oe("svg",{class:"circular",viewBox:t.svgViewBox?t.svgViewBox:"0 0 50 50",...k?{innerHTML:k}:{}},[oe("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),h=t.text?oe("p",{class:f.b("text")},[t.text]):void 0;return oe(Ca,{name:f.b("fade"),onAfterLeave:b},{default:z(()=>[T(V("div",{style:{backgroundColor:t.background||""},class:[f.b("mask"),t.customClass,t.fullscreen?"is-fullscreen":""]},[oe("div",{class:f.b("spinner")},[D,h])]),[[j,t.visible]])])})}}}),p=ga(i),v=p.mount(document.createElement("div"));return{...ya(t),setText:c,removeElLoadingChild:u,close:o,handleAfterLeave:b,vm:v,get $el(){return v.$el}}}let re;const Ta=function(a={}){if(!Ge)return;const e=Ma(a);if(e.fullscreen&&re)return re;const s=Fa({...e,closed:()=>{var c;(c=e.closed)==null||c.call(e),e.fullscreen&&(re=void 0)}});La(e,e.parent,s),De(e,e.parent,s),e.parent.vLoadingAddClassList=()=>De(e,e.parent,s);let t=e.parent.getAttribute("loading-number");return t?t=`${Number.parseInt(t)+1}`:t="1",e.parent.setAttribute("loading-number",t),e.parent.appendChild(s.$el),Z(()=>s.visible.value=e.visible),e.fullscreen&&(re=s),s},Ma=a=>{var e,s,t,c;let n;return Le(a.target)?n=(e=document.querySelector(a.target))!=null?e:document.body:n=a.target||document.body,{parent:n===document.body||a.body?document.body:n,background:a.background||"",svg:a.svg||"",svgViewBox:a.svgViewBox||"",spinner:a.spinner||!1,text:a.text||"",fullscreen:n===document.body&&((s=a.fullscreen)!=null?s:!0),lock:(t=a.lock)!=null?t:!1,customClass:a.customClass||"",visible:(c=a.visible)!=null?c:!0,beforeClose:a.beforeClose,closed:a.closed,target:n}},La=async(a,e,s)=>{const{nextZIndex:t}=s.vm.zIndex||s.vm._.exposed.zIndex,c={};if(a.fullscreen)s.originalPosition.value=te(document.body,"position"),s.originalOverflow.value=te(document.body,"overflow"),c.zIndex=t();else if(a.parent===document.body){s.originalPosition.value=te(document.body,"position"),await Z();for(const n of["top","left"]){const u=n==="top"?"scrollTop":"scrollLeft";c[n]=`${a.target.getBoundingClientRect()[n]+document.body[u]+document.documentElement[u]-Number.parseInt(te(document.body,`margin-${n}`),10)}px`}for(const n of["height","width"])c[n]=`${a.target.getBoundingClientRect()[n]}px`}else s.originalPosition.value=te(e,"position");for(const[n,u]of Object.entries(c))s.$el.style[n]=u},De=(a,e,s)=>{const t=s.vm.ns||s.vm._.exposed.ns;["absolute","fixed","sticky"].includes(s.originalPosition.value)?ue(e,t.bm("parent","relative")):$e(e,t.bm("parent","relative")),a.fullscreen&&a.lock?$e(e,t.bm("parent","hidden")):ue(e,t.bm("parent","hidden"))},ie=Symbol("ElLoading"),Fe=(a,e)=>{var s,t,c,n;const u=e.instance,o=r=>Ie(e.value)?e.value[r]:void 0,b=r=>{const _=Le(r)&&(u==null?void 0:u[r])||r;return _&&d(_)},i=r=>b(o(r)||a.getAttribute(`element-loading-${Sa(r)}`)),p=(s=o("fullscreen"))!=null?s:e.modifiers.fullscreen,v={text:i("text"),svg:i("svg"),svgViewBox:i("svgViewBox"),spinner:i("spinner"),background:i("background"),customClass:i("customClass"),fullscreen:p,target:(t=o("target"))!=null?t:p?void 0:a,body:(c=o("body"))!=null?c:e.modifiers.body,lock:(n=o("lock"))!=null?n:e.modifiers.lock};a[ie]={options:v,instance:Ta(v)}},Ia=(a,e)=>{for(const s of Object.keys(e))ka(e[s])&&(e[s].value=a[s])},Ra={mounted(a,e){e.value&&Fe(a,e)},updated(a,e){const s=a[ie];e.oldValue!==e.value&&(e.value&&!e.oldValue?Fe(a,e):e.value&&e.oldValue?Ie(e.value)&&Ia(e.value,s.options):s==null||s.instance.close())},unmounted(a){var e;(e=a[ie])==null||e.instance.close(),a[ie]=null}},Ba="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",ja={class:""},Ce={__name:"echart",setup(a,{expose:e}){const s=d(null);let t=null;return e({setRadarChart:(n,u,o)=>{let b=[];o?b=o:b=Object.keys(n[0][u]);let i=b.filter(r=>r!="model_name").map((r,_)=>({name:r,color:(_==0,"#000"),axisLabel:{show:_==0},min:-1,max:1})),p=[],v=[];for(let r=0;r<n.length;r++){let _=[];for(let f=0;f<i.length;f++)_.push(n[r][u][i[f].name]);p.push({name:n[r].model_name,value:_,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:n[r].color},itemStyle:{color:n[r].color}}),v.push(n[r].model_name)}t.setOption({legend:{data:v,textStyle:{fontSize:16,color:"black"}},radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(r){return r.split("&").join(`&
`)}},triggerEvent:!0,indicator:i},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:p}]})}}),ve(async()=>{await Z(),t=we(s.value);const n={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};t.setOption(n)}),(n,u)=>(y(),A("div",null,[l("div",ja,[l("div",null,[l("div",null,[l("div",{class:"chart",ref_key:"chartDom",ref:s,style:{width:"1000px",height:"850px",margin:"0 auto"}},null,512)])])])]))}},Ve=a=>(ke("data-v-44ea58fc"),a=a(),Se(),a),Ha={class:""},Oa={class:"echart-list"},Pa=Ve(()=>l("p",null,"Schwartz Theory of Basic Values",-1)),Na=Ve(()=>l("p",null,"Moral Foundation Theory",-1)),Ua=Ve(()=>l("p",null,"Diverse Safety Risks",-1)),Ka={__name:"Visualization",setup(a,{expose:e}){const s=d(null),t=d(null),c=d(null);d(null);const n=d(null);return e({setRadarChart:(o,b)=>{n.value=o,s.value.setRadarChart(o,"Schwartz_data",b?b.Schwartz_data:null),t.value.setRadarChart(o,"MFT_data",b?b.MFT_data:null),c.value.setRadarChart(o,"Risk_data",b?b.Risk_data:null)}}),(o,b)=>(y(),A("div",null,[l("div",Ha,[l("div",Oa,[l("div",null,[Pa,V(Ce,{ref_key:"chartDom1",ref:s},null,512)]),l("div",null,[Na,V(Ce,{ref_key:"chartDom2",ref:t},null,512)]),l("div",null,[Ua,V(Ce,{ref_key:"chartDom3",ref:c},null,512)])])])]))}},Ga=me(Ka,[["__scopeId","data-v-44ea58fc"]]),Za={class:"chart-box"},qa={class:"result-main"},Ja={class:"chart-main"},Ya={class:"card-item","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0)"},Qa={__name:"ValueSpace",setup(a,{expose:e}){const s=d(!1);var t=null,c=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function n(i){console.log(i),o!=null&&o.dispose&&o.dispose(),o=we(u.value);const p="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",v=[{type:"scatter3D",data:i.model,symbolSize:24,symbol:p,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];i.model.forEach((f,x)=>{const k=i.node.slice(x*30,x*30+30);v.push({name:f.name,type:"scatter3D",data:k,symbolSize:8,symbol:p,label:{show:!1,formatter:""},itemStyle:{color:c[x],opacity:1}})}),v.push({name:"Geocultural sphere",type:"scatter3D",data:i.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),t=Object.assign([],v);const r={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(f){return f.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${f.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:2,autoRotateAfterStill:1,distance:130},top:"6%"},series:v};o.setOption(r);var _=!1;o.on("click",function(f){const x=o.getOption().series;f.data.type=="model"&&(_=!0,x.forEach(k=>{k.name&&k.name!=f.name&&(k.itemStyle={opacity:.1}),k.name||k.data.forEach(D=>{D.name!=f.name&&(D.itemStyle={opacity:.1})})}),o.setOption({series:x}))}),o.on("mousemove",function(f){_&&(o.setOption({series:t}),_=!1)})}const u=d(null);let o=null;return e({setValueSpacesData:async i=>{const p=i.map(function(v){return v.model_name});console.log(p),s.value=!0,pa({input:p}).then(v=>{console.log(v);let _=v.data;const f={culture:[],model:[],node:[]};f.culture=_.tsne_cultures.map((x,k)=>({name:_.tsne_culture_caption[k],value:x})),f.model=_.tsne_models.map((x,k)=>({name:_.tsne_model_caption[k],value:x,type:"model",itemStyle:{color:c[k],opacity:1}})),n(f)}).catch(v=>{console.log("err")}).finally(()=>{s.value=!1})}}),ve(async()=>{await Z()}),(i,p)=>{const v=Ra;return y(),A("div",null,[l("div",Za,[l("div",qa,[l("div",Ja,[T((y(),A("div",Ya,[l("div",{class:"chart",style:{width:"1180px",height:"850px"},ref_key:"chartDom",ref:u},null,512)])),[[v,s.value]])])])])])}}},Wa=me(Qa,[["__scopeId","data-v-f1e71240"]]),Xa={class:""},el={__name:"CulturalAlignment",setup(a,{expose:e}){const s=d(null);let t=null;const c=d(),n=d();let u=[];const o=async()=>ce.get("./data/value_sim_heatmap.json").then(i=>{c.value=i.data;const p={};for(let v=0;v<i.data.models.length;v++)p[i.data.models[v]]=i.data.cosine_sim_matrix[v];n.value=p}),b=i=>{let p=[];if(i){let x=[];for(var v=0;v<i.length;v++)x.push(n.value[i[v]]);p={cosine_sim_matrix:x,models:i,countries:u}}else p={cosine_sim_matrix:[c.value.cosine_sim_matrix[0]],models:[c.value.models[0]],countries:u};console.log("modelNameList",i,p);var r=[];for(let x=0;x<p.cosine_sim_matrix.length;x++)for(let k=0;k<p.countries.length;k++)r.push([x,k,p.cosine_sim_matrix[x][k]]);const _=p.models,f=r.map(function(x){return[x[1],x[0],(x[2]*100).toFixed(3)||"-"]});t.setOption({yAxis:{type:"category",data:_,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:f,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return e({setHotChart:b}),ve(async()=>{await Z(),await o(),u=c.value.countries;const i=c.value.models;t=we(s.value);const p={tooltip:{position:"top"},grid:{height:"50%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:u,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:i,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"15%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};t.setOption(p),b()}),(i,p)=>(y(),A("div",null,[l("div",Xa,[l("div",null,[l("div",null,[l("div",{class:"chart",ref_key:"chartDom",ref:s,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},Y=a=>(ke("data-v-3a2279b2"),a=a(),Se(),a),al={class:"content-filter"},ll={class:"panel-content"},tl=Y(()=>l("div",{class:"title"},"Applied filters",-1)),ol={class:"panel-row"},sl=Y(()=>l("div",{class:"filter-name"},"Measurement Date",-1)),nl={class:"panel-tags"},rl={class:"title"},cl={class:"panel-row"},il=Y(()=>l("div",{class:"filter-name"},"Schwartz Value Theory",-1)),ul={class:"panel-tags"},dl={class:"panel-row"},vl=Y(()=>l("div",{class:"filter-name"},"Moral Foundation Theory",-1)),ml={class:"panel-tags"},pl={class:"panel-row"},_l=Y(()=>l("div",{class:"filter-name"},"Diverse Safety Risks",-1)),fl={class:"panel-tags"},hl={class:"panel-row"},bl=Y(()=>l("div",{class:"filter-name"},"LLMs' Unique Values",-1)),gl={class:"panel-tags"},yl={__name:"selectBox",emits:["fitterChange"],setup(a,{emit:e}){d();const s={multiple:!0},t=d([]),c=d(!1),n=d(null),u=d(0);let o=Me({});const b=[{value:0,label:"Universal"},{value:1,label:"Schwartz Value Theory",children:[{value:0,label:"Achievement"},{value:1,label:"Benevolence"},{value:2,label:"Conformity"},{value:3,label:"Hedonism"},{value:4,label:"Power"},{value:5,label:"Security"},{value:6,label:"Self-direction"},{value:7,label:"Stimulation"},{value:8,label:"Tradition"},{value:9,label:"Universalism"}]},{value:2,label:"Moral Foundation Theory",children:[{value:0,label:"Authority/Subversion"},{value:1,label:"Care/Harm"},{value:2,label:"Fairness/Cheating"},{value:3,label:"Loyalty/Betrayal"},{value:4,label:"Sanctity/Degradation"}]},{value:3,label:"Diverse Safety Risks",children:[{value:0,label:"Misinformation Harms"},{value:1,label:"Representation & Toxicity Harms"},{value:2,label:"Socioeconomic Harms"},{value:3,label:"Human Autonomy & Integrity Harms"},{value:4,label:"Malicious Use"},{value:5,label:"Information & Safety Harms"}]},{value:4,label:"LLMs' Unique Values",children:[{value:0,label:"User-Oriented"},{value:1,label:"Self-Competent"},{value:2,label:"Idealistic"},{value:3,label:"Social"},{value:4,label:"Ethical"},{value:5,label:"Professional"}]}],i=d("2024/7"),p=[{value:"2024/7",label:"2024/7"}],v=h=>{t.value=t.value.filter(S=>S[0]!==h.parent||S[1]!==h.key),f(t.value)},r=h=>{Z(()=>{D()})},_=e,f=h=>{console.log("handleChange",h),u.value=h.length,o={};const S=[];h.length>0&&h.forEach(E=>{o[E[0]]=o[E[0]]||[],(E[1]||E[1]==0)&&(o[E[0]].push({name:b[E[0]].children[E[1]].label,key:E[1],parent:E[0]}),S.push(b[E[0]].children[E[1]].label))}),_("fitterChange",o),Z(()=>{D()})},x=()=>{t.value=[],f(t.value),Z(()=>{D()})},k=()=>{c.value=!c.value,n.value.style.maxHeight?n.value.style.maxHeight=null:n.value.style.maxHeight=n.value.scrollHeight+"px"},D=()=>{c.value&&(n.value.style.maxHeight=n.value.scrollHeight+"px")};return(h,S)=>{const E=We,pe=na,Q=Xe,L=ra,_e=ca,O=ia;return y(),A("div",null,[l("div",al,[V(L,{modelValue:i.value,"onUpdate:modelValue":S[1]||(S[1]=C=>i.value=C),placeholder:"Measurement Date",onChange:r,style:{width:"200px"},"aria-label":"Measurement Date"},{default:z(()=>[V(Q,{modelValue:i.value,"onUpdate:modelValue":S[0]||(S[0]=C=>i.value=C),style:{width:"100%"}},{default:z(()=>[(y(),A(F,null,B(p,C=>V(pe,{key:C.value,label:C.label,value:C.value},{default:z(()=>[V(E,{value:C.value},{default:z(()=>[K(M(C.label),1)]),_:2},1032,["value"])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),V(_e,{class:"select",modelValue:t.value,"onUpdate:modelValue":S[2]||(S[2]=C=>t.value=C),options:b,props:s,style:{width:"240px","margin-left":"20px"},"show-all-levels":!1,"collapse-tags":!0,onChange:f,placeholder:"Measurement Dimension"},null,8,["modelValue"]),l("span",{class:"filter-btn",onClick:x},"Reset Filter"),l("span",{class:wa(["show-filter",{"is-show":c.value}]),onClick:k},null,2)]),l("div",{class:"panel-box",ref_key:"panel",ref:n},[l("div",ll,[tl,T(l("div",ol,[sl,l("div",nl,[V(O,{type:"info"},{default:z(()=>[K(M(i.value),1)]),_:1})])],512),[[j,i.value]]),l("div",rl,"Measurement Dimension("+M(u.value)+")",1),T(l("div",cl,[il,l("div",ul,[(y(!0),A(F,null,B(I(o)[1],C=>(y(),G(O,{key:C.key,closable:"",type:"info",onClose:q=>v(C)},{default:z(()=>[K(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[j,I(o)[1]]]),T(l("div",dl,[vl,l("div",ml,[(y(!0),A(F,null,B(I(o)[2],C=>(y(),G(O,{key:C.key,closable:"",type:"info",onClose:q=>v(C)},{default:z(()=>[K(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[j,I(o)[2]]]),T(l("div",pl,[_l,l("div",fl,[(y(!0),A(F,null,B(I(o)[3],C=>(y(),G(O,{key:C.key,closable:"",type:"info",onClose:q=>v(C)},{default:z(()=>[K(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[j,I(o)[3]]]),T(l("div",hl,[bl,l("div",gl,[(y(!0),A(F,null,B(I(o)[4],C=>(y(),G(O,{key:C.key,closable:"",type:"info",onClose:q=>v(C)},{default:z(()=>[K(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[j,I(o)[4]]])])],512)])}}},xl=me(yl,[["__scopeId","data-v-3a2279b2"]]),U=a=>(ke("data-v-0a9da850"),a=a(),Se(),a),Cl={class:"bg comparison-template main-container"},kl={class:"title-content"},Sl=U(()=>l("h2",null,"Compare Pool",-1)),wl={class:"compare-model-list"},Vl=["onClick"],Al={class:"name"},El={class:"point-num"},$l=U(()=>l("span",{class:"point"},"points",-1)),zl={class:"top-item-content"},Dl=U(()=>l("span",{class:"type-icon"},null,-1)),Fl={class:"dev"},Tl={class:"date"},Ml={key:0,class:"max-num-tip"},Ll=U(()=>l("p",{style:{}},"The maximum number of comparisons supported is 5",-1)),Il=[Ll],Rl=U(()=>l("img",{src:Ba,alt:"add-model"},null,-1)),Bl=U(()=>l("p",null,"Add",-1)),jl=[Rl,Bl],Hl={class:"chart-box"},Ol={class:"chart-tab"},Pl={class:"chart-main",style:{}},Nl={class:"table-box"},Ul=U(()=>l("h4",null,"Schwartz Theory of Basic Values",-1)),Kl=U(()=>l("h4",null,"Moral Foundations Theory",-1)),Gl=U(()=>l("h4",null,"Diverse Safety Risks",-1)),Zl={__name:"Comparison",setup(a){const e=d(null),s=d(null),t=d(null);d(null);const c=["rgba(16, 147, 255, 1)","rgba(172, 210, 145, 1)","rgba(113, 134, 201, 1)","rgba(162, 123, 187, 1)","rgba(225, 149, 208, 1)"],n=[{name:"Table",index:0},{name:"Visualization",index:1},{name:"Cultural Alignment",index:2},{name:"Value Space",index:3}];var u=null,o=null,b=null,i=null,p=null,v=null,r=null;const _=d(),f=d([]),x=d(),k=d(!1),D=d([]),h=d([]),S=d([]),E=w=>ce.get(w),pe=async()=>{try{ce.all([E("./data/models_info.json"),E("./data/Schwartz_scores.json"),E("./data/Schwartz_cases.json"),E("./data/Risk_scores.json"),E("./data/Risk_cases.json"),E("./data/MFT_scores.json"),E("./data/MFT_cases.json")]).then(ce.spread(function(w,m,H,P,$,ae,xe){r=w.data.data,_.value=ne(w.data.data),u=ne(m.data.data),o=H.data.data,b=ne(P.data.data),i=$.data.data,p=ne(ae.data.data),v=xe.data.data,Ae=Ze(u,b,p);for(let N in _.value){const le=qe(N,[],Ae);_.value[N].points=(le*100).toFixed(3)}D.value=Object.keys(_.value),q.value=Object.keys(u[D.value[0]]),W.value=q.value,he.value=Object.keys(b[D.value[0]]),ee.value=he.value,fe.value=Object.keys(p[D.value[0]]),X.value=fe.value,h.value.push(D.value[0]),O()}))}catch(w){console.error("Fetch error:",w)}},Q=(w,m)=>m.label=="model_name"?w[m.label]:(w[m.label]*100).toFixed(3),L=d(0),_e=w=>{console.log(w),L.value=w.index},O=()=>{k.value=!1,console.log(h.value),h.value.length>5&&alert("最多可添加5个model"),je(),f.value=""},C=(w,m)=>{h.value.length<=1||(h.value.splice(m,1),O())},q=d([]),fe=d([]),he=d([]),W=d([]),X=d([]),ee=d([]),be=d([]),ge=d([]),ye=d([]),je=()=>{S.value=[],h.value.length>5&&alert("最多可添加5个model");var w=[];for(let m=0;m<h.value.length&&!(m>=5);m++){console.log(S.value);let H=!1;S.value.forEach($=>{console.log("item",$,h.value[m]),$.model_name==h.value[m]&&(H=!0),w.push($.color)});let P=c.filter($=>w.every(ae=>ae!=$));if(!H){let $={};$.color=P[0],$.model_name=h.value[m],$.model_info=_.value[h.value[m]],$.Schwartz_data=u[h.value[m]],$.Risk_data=b[h.value[m]],$.MFT_data=p[h.value[m]],S.value.push($)}}console.log("checkedModelDetailList.value",S.value),be.value=[],ge.value=[],ye.value=[];for(let m=0;m<S.value.length;m++){let H={};H=u[h.value[m]],H.model_name=h.value[m],be.value.push(H);let P={};P=b[h.value[m]],P.model_name=h.value[m],ye.value.push(P);let $={};$=p[h.value[m]],$.model_name=h.value[m],ge.value.push($)}e.value.setRadarChart(S.value),t.value.setValueSpacesData(S.value),s.value.setHotChart(h.value),console.log("checkedModelDetailList.value",S.value)};Va(()=>{}),Aa(),ve(()=>{pe()});let Ae=null;const He=w=>{console.log("filerData",w),w[1]?W.value=w[1].map(m=>m.name):W.value=q.value,w[2]?X.value=w[2].map(m=>m.name):X.value=fe.value,w[3]?ee.value=w[3].map(m=>m.name):ee.value=he.value,e.value.setRadarChart(S.value,{Schwartz_data:W.value,MFT_data:X.value,Risk_data:ee.value})};return(w,m)=>{const H=ea,P=da,$=va,ae=aa,xe=fa,Ee=_a,N=ma,le=ua,Oe=la;return y(),A("div",Cl,[l("div",null,[l("div",kl,[Sl,l("div",wl,[l("ul",null,[(y(!0),A(F,null,B(S.value,(g,J)=>(y(),A("li",{class:"model-li",key:g,style:Ea({"border-color":g.color})},[l("span",{class:"close-comparison",onClick:ql=>C(g.model_name,J)},null,8,Vl),l("p",Al,M(g.model_name),1),l("p",El,[K(M(g.model_info.points),1),$l]),l("div",zl,[V(H,{effect:"customized",content:"Proprietary",placement:"top"},{default:z(()=>[Dl]),_:1}),l("span",Fl,M(g.model_info.developer),1),l("span",Tl,M(g.model_info["release date"].split(" ")[0]),1)])],4))),128)),S.value.length>=5?(y(),A("li",Ml,Il)):se("",!0),S.value.length<5?T((y(),A("li",{key:1,class:"add-model",onClick:m[0]||(m[0]=g=>k.value=!0)},jl)),[[Oe,x.value]]):se("",!0),V(ae,{ref_key:"popoverRef",ref:x,visible:k.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:z(()=>[l("div",null,[V($,{modelValue:h.value,"onUpdate:modelValue":m[1]||(m[1]=g=>h.value=g),max:5},{default:z(()=>[(y(!0),A(F,null,B(D.value,g=>(y(),G(P,{key:g,value:g},{default:z(()=>[K(M(g),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[l("button",{onClick:O},"Submit")])])]),_:1},8,["visible"])])])])]),l("div",Hl,[l("div",Ol,[V(Ee,{modelValue:L.value,"onUpdate:modelValue":m[2]||(m[2]=g=>L.value=g),onTabClick:_e},{default:z(()=>[(y(),A(F,null,B(n,g=>V(xe,{key:g.index,label:"   "+g.name+"   ",name:g.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),l("div",Pl,[T(V(xl,{onFitterChange:He},null,512),[[j,L.value==0||L.value==1]]),T(l("div",Nl,[Ul,V(le,{data:be.value,border:"",style:{width:"100%"}},{default:z(()=>[V(N,{prop:"model_name",label:"Model"}),(y(!0),A(F,null,B(W.value,(g,J)=>(y(),A(F,{key:J},[g!="model_name"?(y(),G(N,{key:0,prop:g,label:g,formatter:Q},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"]),Kl,V(le,{data:ge.value,border:"",style:{width:"100%"}},{default:z(()=>[V(N,{prop:"model_name",label:"Model"}),(y(!0),A(F,null,B(X.value,(g,J)=>(y(),A(F,{key:J},[g!="model_name"?(y(),G(N,{key:0,prop:g,label:g,formatter:Q},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"]),Gl,V(le,{data:ye.value,border:"",style:{width:"100%"}},{default:z(()=>[V(N,{prop:"model_name",label:"Model"}),(y(!0),A(F,null,B(ee.value,(g,J)=>(y(),A(F,{key:J},[g!="model_name"?(y(),G(N,{key:0,prop:g,label:g,formatter:Q},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],512),[[j,L.value==0]]),T(l("div",null,[V(Ga,{ref_key:"VisualizationComponentProps",ref:e},null,512)],512),[[j,L.value==1]]),T(l("div",null,[V(Wa,{ref_key:"ValueSpaceComponentProps",ref:t},null,512)],512),[[j,L.value==3]]),T(l("div",null,[V(el,{ref_key:"CulturalAlignmentComponentProps",ref:s},null,512)],512),[[j,L.value==2]])])])])}}},tt=me(Zl,[["__scopeId","data-v-0a9da850"]]);export{tt as default};
