import"./base-DfsTFnIn.js";import{b as aa,a as ta,E as la,c as oa}from"./el-button-Bkb0VCjM.js";import{b as sa,G as na,E as ra,a as ca,c as ia}from"./common-data-ATnyF9dj.js";import{c as ua,E as da,a as ma}from"./el-input-C4UrVCMi.js";import{r as u,a9 as va,ae as pa,aa as _a,d as ha,af as fa,ag as Y,w as L,L as ue,h as w,a2 as Pe,ah as ba,ai as de,aj as ga,n as te,T as Ne,ak as X,al as Ie,am as Oe,a7 as ya,an as xa,o as me,a as C,c as T,e as t,_ as ve,G as z,p as He,j as Ue,F as $,f as O,t as ae,Y as qe,i as wa,ac as Sa,ad as Ca,K as ka,M as Re,H as Ta,N as J,P as se}from"./index-D3YUFbfH.js";import{e as ce,g as Q,m as Da,f as ee}from"./common-DA1_xBej.js";import{i as ke,h as Ma}from"./html2canvas.esm-XTtUG6aq.js";import{E as Va}from"./jspdf.es.min-4aO3Z-pi.js";import{_ as La}from"./homepageSwiper-BSKUBwau.js";import"./pagination-CxoZXVPf.js";import"./vnode-BmLRWYGU.js";import"./Schwartz_image-hQPpC2TV.js";function Aa(a){let e;const l=u(!1),o=va({...a,originalPosition:"",originalOverflow:"",visible:!1});function b(i){o.text=i}function c(){const i=o.parent,S=v.ns;if(!i.vLoadingAddClassList){let p=i.getAttribute("loading-number");p=Number.parseInt(p)-1,p?i.setAttribute("loading-number",p.toString()):(de(i,S.bm("parent","relative")),i.removeAttribute("loading-number")),de(i,S.bm("parent","hidden"))}f(),s.unmount()}function f(){var i,S;(S=(i=v.$el)==null?void 0:i.parentNode)==null||S.removeChild(v.$el)}function x(){var i;a.beforeClose&&!a.beforeClose()||(l.value=!0,clearTimeout(e),e=window.setTimeout(k,400),o.visible=!1,(i=a.closed)==null||i.call(a))}function k(){if(!l.value)return;const i=o.parent;l.value=!1,i.vLoadingAddClassList=void 0,c()}const d=ha({name:"ElLoading",setup(i,{expose:S}){const{ns:p,zIndex:n}=fa("loading");return S({ns:p,zIndex:n}),()=>{const _=o.spinner||o.svg,V=Y("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",..._?{innerHTML:_}:{}},[Y("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),P=o.text?Y("p",{class:p.b("text")},[o.text]):void 0;return Y(ba,{name:p.b("fade"),onAfterLeave:k},{default:L(()=>[ue(w("div",{style:{backgroundColor:o.background||""},class:[p.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[Y("div",{class:p.b("spinner")},[V,P])]),[[Pe,o.visible]])])})}}}),s=pa(d),v=s.mount(document.createElement("div"));return{..._a(o),setText:b,removeElLoadingChild:f,close:x,handleAfterLeave:k,vm:v,get $el(){return v.$el}}}let ne;const Fa=function(a={}){if(!ga)return;const e=$a(a);if(e.fullscreen&&ne)return ne;const l=Aa({...e,closed:()=>{var b;(b=e.closed)==null||b.call(e),e.fullscreen&&(ne=void 0)}});za(e,e.parent,l),Be(e,e.parent,l),e.parent.vLoadingAddClassList=()=>Be(e,e.parent,l);let o=e.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",e.parent.setAttribute("loading-number",o),e.parent.appendChild(l.$el),te(()=>l.visible.value=e.visible),e.fullscreen&&(ne=l),l},$a=a=>{var e,l,o,b;let c;return Ne(a.target)?c=(e=document.querySelector(a.target))!=null?e:document.body:c=a.target||document.body,{parent:c===document.body||a.body?document.body:c,background:a.background||"",svg:a.svg||"",svgViewBox:a.svgViewBox||"",spinner:a.spinner||!1,text:a.text||"",fullscreen:c===document.body&&((l=a.fullscreen)!=null?l:!0),lock:(o=a.lock)!=null?o:!1,customClass:a.customClass||"",visible:(b=a.visible)!=null?b:!0,beforeClose:a.beforeClose,closed:a.closed,target:c}},za=async(a,e,l)=>{const{nextZIndex:o}=l.vm.zIndex||l.vm._.exposed.zIndex,b={};if(a.fullscreen)l.originalPosition.value=X(document.body,"position"),l.originalOverflow.value=X(document.body,"overflow"),b.zIndex=o();else if(a.parent===document.body){l.originalPosition.value=X(document.body,"position"),await te();for(const c of["top","left"]){const f=c==="top"?"scrollTop":"scrollLeft";b[c]=`${a.target.getBoundingClientRect()[c]+document.body[f]+document.documentElement[f]-Number.parseInt(X(document.body,`margin-${c}`),10)}px`}for(const c of["height","width"])b[c]=`${a.target.getBoundingClientRect()[c]}px`}else l.originalPosition.value=X(e,"position");for(const[c,f]of Object.entries(b))l.$el.style[c]=f},Be=(a,e,l)=>{const o=l.vm.ns||l.vm._.exposed.ns;["absolute","fixed","sticky"].includes(l.originalPosition.value)?de(e,o.bm("parent","relative")):Ie(e,o.bm("parent","relative")),a.fullscreen&&a.lock?Ie(e,o.bm("parent","hidden")):de(e,o.bm("parent","hidden"))},ie=Symbol("ElLoading"),je=(a,e)=>{var l,o,b,c;const f=e.instance,x=i=>Oe(e.value)?e.value[i]:void 0,k=i=>{const S=Ne(i)&&(f==null?void 0:f[i])||i;return S&&u(S)},d=i=>k(x(i)||a.getAttribute(`element-loading-${xa(i)}`)),s=(l=x("fullscreen"))!=null?l:e.modifiers.fullscreen,v={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:s,target:(o=x("target"))!=null?o:s?void 0:a,body:(b=x("body"))!=null?b:e.modifiers.body,lock:(c=x("lock"))!=null?c:e.modifiers.lock};a[ie]={options:v,instance:Fa(v)}},Ea=(a,e)=>{for(const l of Object.keys(e))ya(e[l])&&(e[l].value=a[l])},Ia={mounted(a,e){e.value&&je(a,e)},updated(a,e){const l=a[ie];e.oldValue!==e.value&&(e.value&&!e.oldValue?je(a,e):e.value&&e.oldValue?Oe(e.value)&&Ea(e.value,l.options):l==null||l.instance.close())},unmounted(a){var e;(e=a[ie])==null||e.instance.close(),a[ie]=null}},Ra="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",Ba={class:""},re={__name:"echart",setup(a,{expose:e}){const l=u(null);let o=null;return e({setRadarChart:(c,f,x)=>{const k=c.flatMap(n=>Object.entries(n[f]).filter(([_,V])=>_!=="model_name"&&_!=="Score").map(([_,V])=>V)),d=Math.ceil(Math.max(...k)*1)/1,s=Math.floor(Math.min(...k)*1)/1-10;let v=[];x?v=x:v=Object.keys(c[0][f]);let i=v.filter(n=>n!="model_name"&&n!="Score").map((n,_)=>({name:n,color:(_==0,"#000"),axisLabel:{show:_==0},min:s,max:d})),S=[],p=[];for(let n=0;n<c.length;n++){let _=[];for(let V=0;V<i.length;V++)_.push(c[n][f][i[V].name]);S.push({name:c[n].model_name,value:_,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:c[n].color},itemStyle:{color:c[n].color}}),p.push(c[n].model_name)}o.setOption({legend:{data:p,textStyle:{fontSize:16,color:"black"}},radar:{center:["50%","50%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(n){return n.split("&").join(`&
`)}},axisLabel:{formatter:function(n){return n.toFixed(0)}},triggerEvent:!0,indicator:i},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:S}]})}}),me(async()=>{await te(),o=ke(l.value);const c={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};o.setOption(c)}),(c,f)=>(C(),T("div",null,[t("div",Ba,[t("div",null,[t("div",null,[t("div",{class:"chart",ref_key:"chartDom",ref:l,style:{width:"1100px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},pe=a=>(He("data-v-e73ded7a"),a=a(),Ue(),a),ja={class:""},Pa={class:"echart-list"},Na=pe(()=>t("p",null,"Schwartz Theory of Basic Values",-1)),Oa=pe(()=>t("p",null,"Moral Foundation Theory",-1)),Ha=pe(()=>t("p",null,"Safety Taxonomy",-1)),Ua=pe(()=>t("p",null,"LLMs' Unique Value System",-1)),qa={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(a,{expose:e}){const l=a,o=u(null),b=u(null),c=u(null),f=u(null),x=u(null);return e({setRadarChart:(d,s)=>{x.value=d,o.value.setRadarChart(d,"Schwartz_data",s?s.Schwartz_data:null),b.value.setRadarChart(d,"MFT_data",s?s.MFT_data:null),c.value.setRadarChart(d,"Risk_data",s?s.Risk_data:null),f.value.setRadarChart(d,"FULVa_data",s?s.FULVa_data:null)}}),(d,s)=>(C(),T("div",null,[t("div",ja,[t("div",Pa,[t("div",{class:z(["download-box",{show:l.DimensionMeasurementTabIndex==0}])},[Na,w(re,{ref_key:"chartDom1",ref:o},null,512)],2),t("div",{class:z(["download-box",{show:l.DimensionMeasurementTabIndex==1}])},[Oa,w(re,{ref_key:"chartDom2",ref:b},null,512)],2),t("div",{class:z(["download-box",{show:l.DimensionMeasurementTabIndex==2}])},[Ha,w(re,{ref_key:"chartDom3",ref:c},null,512)],2),t("div",{class:z(["download-box",{show:l.DimensionMeasurementTabIndex==3}])},[Ua,w(re,{ref_key:"chartDom4",ref:f},null,512)],2)])])]))}},Ga=ve(qa,[["__scopeId","data-v-e73ded7a"]]),Wa={class:"chart-box"},Ka={class:"result-main"},Za={class:"chart-main"},Ya={class:"card-item","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0)"},Xa={__name:"ValueSpace",setup(a,{expose:e}){const l=u(!1);var o=null,b=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function c(d){console.log(d),x!=null&&x.dispose&&x.dispose(),x=ke(f.value);const s="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",v=[{type:"scatter3D",data:d.model,symbolSize:24,symbol:s,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];d.model.forEach((p,n)=>{const _=d.node.slice(n*30,n*30+30);v.push({name:p.name,type:"scatter3D",data:_,symbolSize:8,symbol:s,label:{show:!1,formatter:""},itemStyle:{color:b[n],opacity:1}})}),v.push({name:"Geocultural sphere",type:"scatter3D",data:d.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),o=Object.assign([],v);const i={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(p){return p.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${p.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:2,autoRotateAfterStill:1,distance:130},top:"6%"},series:v};x.setOption(i);var S=!1;x.on("click",function(p){const n=x.getOption().series;p.data.type=="model"&&(S=!0,n.forEach(_=>{_.name&&_.name!=p.name&&(_.itemStyle={opacity:.1}),_.name||_.data.forEach(V=>{V.name!=p.name&&(V.itemStyle={opacity:.1})})}),x.setOption({series:n}))}),x.on("mousemove",function(p){S&&(x.setOption({series:o}),S=!1)})}const f=u(null);let x=null;return e({setValueSpacesData:async d=>{const s=d.map(function(v){return v.model_name});console.log(s),l.value=!0,ua({input:s}).then(v=>{console.log(v);let S=v.data;const p={culture:[],model:[],node:[]};p.culture=S.tsne_cultures.map((n,_)=>({name:S.tsne_culture_caption[_],value:n})),p.model=S.tsne_models.map((n,_)=>({name:S.tsne_model_caption[_],value:n,type:"model",itemStyle:{color:b[_],opacity:1}})),c(p)}).catch(v=>{console.log("err")}).finally(()=>{l.value=!1})}}),me(async()=>{await te()}),(d,s)=>{const v=Ia;return C(),T("div",null,[t("div",Wa,[t("div",Ka,[t("div",Za,[ue((C(),T("div",Ya,[t("div",{class:"chart",style:{width:"1180px",height:"700px","background-color":"#121f37",padding:"2em 0","border-radius":".5em"},ref_key:"chartDom",ref:f},null,512)])),[[v,l.value]])])])])])}}},Ja=ve(Xa,[["__scopeId","data-v-4d1a33b2"]]),Qa={class:""},et={__name:"CulturalAlignment",setup(a,{expose:e}){const l=u(null);let o=null;const b=u(),c=u();let f=[];const x=async()=>ce.get("./data/value_sim_heatmap.json").then(d=>{b.value=d.data;const s={};for(let v=0;v<d.data.models.length;v++)s[d.data.models[v]]=d.data.cosine_sim_matrix[v];c.value=s}),k=d=>{let s=[];if(d){let n=[];for(var v=0;v<d.length;v++)n.push(c.value[d[v]]);s={cosine_sim_matrix:n,models:d,countries:f}}else s={cosine_sim_matrix:[b.value.cosine_sim_matrix[0]],models:[b.value.models[0]],countries:f};console.log("modelNameList",d,s);var i=[];for(let n=0;n<s.cosine_sim_matrix.length;n++)if(s.cosine_sim_matrix[n])for(let _=0;_<s.countries.length;_++)i.push([n,_,s.cosine_sim_matrix[n][_]]);const S=s.models,p=i.map(function(n){return[n[1],n[0],(n[2]*100).toFixed(3)||"-"]});o.setOption({yAxis:{type:"category",data:S,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:p,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return e({setHotChart:k}),me(async()=>{await te(),await x(),f=b.value.countries;const d=b.value.models;o=ke(l.value);const s={tooltip:{position:"top"},grid:{height:"50%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:f,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:d,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"15%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};o.setOption(s),k()}),(d,s)=>(C(),T("div",null,[t("div",Qa,[t("div",null,[t("div",null,[t("div",{class:"chart",ref_key:"chartDom",ref:l,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},at={class:"dimension-measurement-tabs"},tt={class:"label"},lt=["onClick"],ot={__name:"DimensionMeasurementTabs",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},emits:["handleDimensionMeasurementTabsChange"],setup(a,{expose:e,emit:l}){const o=a,b=u(!1),c=[{value:1,label:"Schwartz Theory of Basic Values"},{value:2,label:"Moral Foundation Theory"},{value:3,label:"Safety Taxonomy"},{value:4,label:"LLMs' Unique Value System"}],f=l,x=s=>{o.DimensionMeasurementTabIndex=s,f("handleDimensionMeasurementTabsChange",s)},k=u(null),d=s=>{k.value&&k.value.showIntro(s)};return e({hancelTypeIndexChange:x,tablePointDetailShow:b}),(s,v)=>{const i=wa,S=La;return C(),T("div",at,[t("ul",tt,[(C(),T($,null,O(c,(p,n)=>t("li",{class:z(o.DimensionMeasurementTabIndex==n?"on":""),key:n,onClick:_=>x(n)},[w(i,{class:"point-type-icon",name:"point-type-icon"}),t("span",null,ae(p.label),1),w(i,{class:"info",name:"info",onClick:qe(_=>d(n),["stop"])},null,8,["onClick"])],10,lt)),64))]),w(S,{ref_key:"homepageSwiperRef",ref:k},null,512)])}}},st=ve(ot,[["__scopeId","data-v-f4658b01"]]),E=a=>(He("data-v-e04b21f8"),a=a(),Ue(),a),nt={class:"bg comparison-template main-container"},rt={class:"title-content"},ct=E(()=>t("h2",null,"Compare Pool",-1)),it={class:"compare-model-list",style:{position:"relative"}},ut=["onClick"],dt={class:"name"},mt={class:"top-item-content"},vt=E(()=>t("span",{class:"type-icon"},null,-1)),pt={class:"dev"},_t={class:"date"},ht=E(()=>t("img",{src:Ra,alt:"add-model"},null,-1)),ft=E(()=>t("p",null,"Add",-1)),bt=[ht,ft],gt={id:"popoverId"},yt=E(()=>t("p",{class:"max-num-tip",style:{}}," The maximum number of comparisons supported is 5 ",-1)),xt={class:"chart-box"},wt={class:"chart-tab"},St={class:"chart-main",style:{}},Ct=E(()=>t("h4",null,"Schwartz Theory of Basic Values",-1)),kt=E(()=>t("span",null,"Average",-1)),Tt=E(()=>t("h4",null,"Moral Foundations Theory",-1)),Dt=E(()=>t("span",null,"Average",-1)),Mt=E(()=>t("h4",null,"Safety Taxonomy",-1)),Vt=E(()=>t("span",null,"Average",-1)),Lt=E(()=>t("h4",null,"LLMs' Unique Value System",-1)),At=E(()=>t("span",null,"Average",-1)),Ft={__name:"Comparison",setup(a){const e=u(null),l=u(null),o=u(null);u(null);const b=na.colorList,c=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}];var f=null,x=null,k=null,d=null,s=null,v=null,i=null,S=null;const p=u(),n=u([]),_=u(null),V=u(!1),P=u([]),g=u([]),R=u([]),H=h=>ce.get(h),Ge=async()=>{try{ce.all([H("./data/models_info.json"),H("./data/Schwartz_scores.json"),H("./data/Schwartz_cases.json"),H("./data/Risk_scores.json"),H("./data/Risk_cases.json"),H("./data/MFT_scores.json"),H("./data/MFT_cases.json"),H("./data/FULVa_scores.json")]).then(ce.spread(function(h,r,A,I,y,M,j,G){S=h.data.data,p.value=Q(h.data.data),f=Q(r.data.data),x=A.data.data,k=Q(I.data.data),d=y.data.data,s=Q(M.data.data),v=j.data.data,i=Q(G.data.data),K=Da(f,k,s,i);for(let D in p.value){const N=ee(D,[],K);p.value[D].points=(N*1).toFixed(2)}if(P.value=Object.keys(p.value),Te.value=Object.keys(f[P.value[0]]),_e.value=Te.value,Me.value=Object.keys(k[P.value[0]]),fe.value=Me.value,De.value=Object.keys(s[P.value[0]]),he.value=De.value,Ve.value=Object.keys(i[P.value[0]]),be.value=Ve.value,W)g.value=W;else{const D=P.value.slice(0,2);g.value=D}le()}))}catch(h){console.error("Fetch error:",h)}},U=(h,r)=>r.label=="model_name"?h[r.label]:(h[r.label]*1).toFixed(2),B=u(0),We=h=>{console.log(h),B.value=h.index},le=()=>{V.value=!1,console.log(g.value),g.value.length>5&&alert("最多可添加5个model"),Ze(),n.value=""},Ke=(h,r)=>{g.value.length<=1||(g.value.splice(r,1),le())},Te=u([]),De=u([]),Me=u([]),Ve=u([]),_e=u([]),he=u([]),fe=u([]),be=u([]),ge=u([]),ye=u([]),xe=u([]),we=u([]),Ze=()=>{R.value=[],g.value.length>5&&alert("最多可添加5个model");var h=[];for(let r=0;r<g.value.length&&!(r>=5);r++){console.log(R.value);let A=!1;R.value.forEach(y=>{console.log("item",y,g.value[r]),y.model_name==g.value[r]&&(A=!0),h.push(y.color)});let I=b.filter(y=>h.every(M=>M!=y));if(!A){let y={};y.color=I[0],y.model_name=g.value[r],y.model_info=p.value[g.value[r]],y.Schwartz_data=f[g.value[r]],y.Risk_data=k[g.value[r]],y.MFT_data=s[g.value[r]],y.FULVa_data=i[g.value[r]],R.value.push(y)}}console.log("checkedModelDetailList.value",R.value),ge.value=[],ye.value=[],xe.value=[],we.value=[];for(let r=0;r<R.value.length;r++){let A={};A=f[g.value[r]],A.model_name=g.value[r],A.Score=ee(g.value[r],_e.value,K),ge.value.push(A);let I={};I=k[g.value[r]],I.model_name=g.value[r],I.Score=ee(g.value[r],fe.value,K),xe.value.push(I);let y={};y=s[g.value[r]],y.model_name=g.value[r],y.Score=ee(g.value[r],he.value,K),ye.value.push(y);let M={};M=i[g.value[r]],M.model_name=g.value[r],M.Score=ee(g.value[r],be.value,K),we.value.push(M)}e.value.setRadarChart(R.value),o.value.setValueSpacesData(R.value),l.value.setHotChart(g.value),console.log("checkedModelDetailList.value",R.value)};Sa(()=>{});let W=null;const Se=Ca();let Le=!0;me(()=>{W=Se.query.modelName,Ge(),document.addEventListener("click",Ye)});const Ye=h=>{const r=document.getElementById("popoverId");_.value&&r&&!r.contains(h.target)&&(V.value=!1)};ka(()=>{B.value=0,q.value=0,Le?Le=!1:(W=Se.query.modelName,W&&(console.log("首页传过来的modelName："+Se.query.modelName),g.value=W,le()))});let K=null;const q=u(0),Xe=h=>{q.value=h},Z=u(!1),Je=async()=>{console.log("downloadAll"),!Z.value&&(Z.value=!0,await Qe(null),Z.value=!1)},Ae=u(null),Fe=u(null),$e=u(null),ze=u(null),Qe=async h=>{const r=[[{name:"Schwartz Theory of Basic Values",chart:Ae.value.$el},{name:"Moral Foundation Theory",chart:Fe.value.$el},{name:"Safety Taxonomy",chart:$e.value.$el},{name:"LLMs' Unique Value System",chart:ze.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:e.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:e.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:e.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:e.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:l.value.$refs.chartDom},{name:"Value Space",chart:o.value.$refs.chartDom}]];console.log(h),h||(h=new Va("p","mm","a4"));const A=h.internal.pageSize.getWidth(),I=h.internal.pageSize.getHeight(),y=10;let M=y;for(let j=0;j<r.length;j++){j>0&&(h.addPage(),M=y);for(let G=0;G<r[j].length;G++){const D=(await Ma(r[j][G].chart)).toDataURL("image/png"),N=h.getImageProperties(D),oe=A-2*y,m=N.height*oe/N.width;M+m>I-y&&(h.addPage(),M=y);const F=r[j][G].name,Ee=h.getTextWidth(F),ea=(A-Ee)/2;h.text(F,ea,M),M+=8,h.addImage(D,"PNG",y,M,oe,m),M+=m+y+5}}h.save("charts.pdf")};return(h,r)=>{const A=aa,I=la,y=ra,M=ca,j=ta,G=ma,Ce=da,D=ia,N=sa,oe=oa;return C(),T("div",nt,[t("div",null,[t("div",rt,[ct,t("div",it,[w(A,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Je,disabled:Z.value,loading:Z.value},{default:L(()=>[Re(" Download All ")]),_:1},8,["disabled","loading"]),t("ul",null,[(C(!0),T($,null,O(R.value,(m,F)=>(C(),T("li",{class:"model-li",key:m,style:Ta({"border-color":m.color})},[t("span",{class:"close",onClick:Ee=>Ke(m.model_name,F)},null,8,ut),t("p",dt,ae(m.model_name),1),t("div",mt,[w(I,{effect:"customized",content:"Proprietary",placement:"top"},{default:L(()=>[vt]),_:1}),t("span",pt,ae(m.model_info.developer),1),t("span",_t,ae(m.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),(C(!0),T($,null,O(5-R.value.length,m=>ue((C(),T("li",{key:m,class:"model-li add-model",onClick:r[0]||(r[0]=qe(F=>V.value=!0,["stop"])),ref_for:!0,ref:"listItem"},bt)),[[oe,_.value]])),128)),w(j,{ref_key:"popoverRef",ref:_,visible:V.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:"",reference:h.currentLi},{default:L(()=>[t("div",gt,[w(M,{modelValue:g.value,"onUpdate:modelValue":r[1]||(r[1]=m=>g.value=m),max:5},{default:L(()=>[(C(!0),T($,null,O(P.value,m=>(C(),J(y,{key:m,value:m},{default:L(()=>[Re(ae(m),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[t("button",{onClick:le},"Submit")])])]),_:1},8,["visible","reference"])]),yt])])]),t("div",xt,[t("div",wt,[w(Ce,{modelValue:B.value,"onUpdate:modelValue":r[2]||(r[2]=m=>B.value=m),onTabClick:We},{default:L(()=>[(C(),T($,null,O(c,m=>w(G,{key:m.index,label:"         "+m.name+"         ",name:m.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),t("div",St,[ue(w(st,{style:{margin:"0.5em 0 2.5em"},DimensionMeasurementTabIndex:q.value,onHandleDimensionMeasurementTabsChange:Xe},null,8,["DimensionMeasurementTabIndex","onHandleDimensionMeasurementTabsChange"]),[[Pe,B.value==0||B.value==1]]),t("div",{class:z(["table-box download-box",{show:B.value==0}])},[t("div",{class:z(["download-box",{show:q.value==0}])},[Ct,w(N,{data:ge.value,ref_key:"SchwartzTableRef",ref:Ae,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[kt]),_:1}),(C(!0),T($,null,O(_e.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==1}])},[Tt,w(N,{data:ye.value,ref_key:"MFTTableRef",ref:Fe,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[Dt]),_:1}),(C(!0),T($,null,O(he.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==2}])},[Mt,w(N,{data:xe.value,ref_key:"RiskTableRef",ref:$e,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[Vt]),_:1}),(C(!0),T($,null,O(fe.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2),t("div",{class:z(["download-box",{show:q.value==3}])},[Lt,w(N,{data:we.value,ref_key:"FULVaTableRef",ref:ze,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:L(()=>[w(D,{prop:"model_name",label:"Model",width:"210"}),w(D,{prop:"Score",label:"Score",sortable:"",formatter:U},{header:L(()=>[At]),_:1}),(C(!0),T($,null,O(be.value,(m,F)=>(C(),T($,{key:F},[m!="model_name"?(C(),J(D,{key:0,prop:m,label:m,formatter:U},null,8,["prop","label"])):se("",!0)],64))),128))]),_:1},8,["data"])],2)],2),t("div",{class:z(["download-box",{show:B.value==1}])},[w(Ga,{ref_key:"VisualizationComponentProps",ref:e,DimensionMeasurementTabIndex:q.value},null,8,["DimensionMeasurementTabIndex"])],2),t("div",{class:z(["download-box",{show:B.value==3}])},[w(Ja,{ref_key:"ValueSpaceComponentProps",ref:o},null,512)],2),t("div",{class:z(["download-box",{show:B.value==2}])},[w(et,{ref_key:"CulturalAlignmentComponentProps",ref:l},null,512)],2)])])])}}},qt=ve(Ft,[["__scopeId","data-v-e04b21f8"]]);export{qt as default};
