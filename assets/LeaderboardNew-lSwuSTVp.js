import"./jspdf.es.min-CoYEwh5I.js";import{M as me,G as ve,E as _e,S as he,a as fe}from"./selectedPoints-DxNyQqr3.js";import{E as de,a as ge,b as be}from"./el-radio-DZD5X5gq.js";import{_ as te,r,o as ye,D as we,a as s,c as d,e as n,M as V,t as D,h as l,H as ee,F as O,f as oe,w as p,N as X,P as E,i as ie,p as le,j as ae,R as ke,L as Ce,S as xe,n as De}from"./index-BiYGBuyn.js";import{a as T,g as Ne,b as z,m as Ie,c as Ae}from"./common-CULL_N82.js";import{E as Se}from"./homepageSwiper-oSLrDdu8.js";import"./el-input-O_3wgvH4.js";import"./pagination-D9vFj8tL.js";import"./Schwartz_image-hQPpC2TV.js";const Le=""+new URL("silver-medal-BT5qtGY6.png",import.meta.url).href,Pe=""+new URL("gold-medal-D39iuvis.png",import.meta.url).href,$e=""+new URL("bronze-medal-DK1-n0yY.png",import.meta.url).href,se=_=>(le("data-v-a3fe62a4"),_=_(),ae(),_),Me={class:"title-content"},Ee={key:0,class:"compare-model-list"},Re=["onClick"],je={class:"name"},Be={class:"top-item-content"},Te=se(()=>n("span",{class:"type-icon"},null,-1)),Ve={class:"dev ellipsis"},Ue={class:"date"},ze=["onClick"],Oe=se(()=>n("p",null,"Add",-1)),He={id:"popoverId3"},Ge={class:"btn-box"},qe=se(()=>n("p",{class:"max-num-tip"}," The maximum number of comparisons supported is 5 ",-1)),Fe={__name:"ComparePool",props:{compareArr:Array},emits:["comparisonPoolSubmit","removeAll","compareNow","closeModel","hideComparePool"],setup(_,{emit:R}){const h=_,H=r(null),g=r(!1),x=r([]),w=r({}),b=r([]);r([]);const N=r(!0),L=i=>{P("closeModel",i)},ne=()=>{P("removeAll")},G=()=>{P("compareNow")},K=()=>{N.value=!N.value},P=R,W=r(ve.colorList),q=i=>T.get(i);ye(()=>{u(),document.addEventListener("click",Q)}),we(()=>{console.log("newValue",h.compareArr),b.value=h.compareArr.map(i=>i.modelName)});const F=i=>{b.value=i,Y()},Y=()=>{g.value=!1,k.value=null,P("comparisonPoolSubmit",b.value)},u=async()=>{try{T.all([q("./data/models_info.json")]).then(T.spread(function(i){const C=i.data.data.map(I=>I.model);x.value=C,w.value=Ne(i.data.data)}))}catch(i){console.error("Fetch error:",i)}},m=r([]),k=r(null),J=i=>{k.value=k.value===i?null:i},Q=i=>{const C=document.getElementById("popoverId3"),I=m.value.some($=>$==null?void 0:$.contains(i.target)),j=C==null?void 0:C.contains(i.target);!I&&!j&&(k.value=null)};return(i,C)=>{const I=ie,j=de,$=ge,A=be;return s(),d("div",Me,[n("h2",null,[V(" Compare Pool ("+D(h.compareArr.length)+") ",1),l(I,{onClick:K,class:"compare-hide-icon",name:"compare-hide-icon",style:ee({transform:N.value?"":"rotate(180deg)"})},null,8,["style"])]),N.value?(s(),d("div",Ee,[n("ul",null,[(s(!0),d(O,null,oe(h.compareArr,(f,S)=>(s(),d("li",{class:"model-li",key:S,style:ee({"border-color":W.value[S]})},[n("span",{class:"close",onClick:Z=>L(f)},null,8,Re),n("p",je,D(f.modelName),1),n("div",Be,[l(j,{effect:"customized",content:"Proprietary",placement:"top"},{default:p(()=>[Te]),_:1}),n("span",Ve,D(f.developer),1),n("span",Ue,D(f.releaseDate.split(" ")[0].substring(0,7)),1)])],4))),128)),(s(!0),d(O,null,oe(5-h.compareArr.length,f=>(s(),d("li",{class:"model-li add-model",key:f,style:ee({"border-color":f.color}),ref_for:!0,ref:S=>m.value[f]=S,onClick:S=>J(f)},[l(I,{class:"add-model-svg",name:"add-model"}),Oe],12,ze))),128)),k.value!==null?(s(),X($,{key:0,ref_key:"popoverRef",ref:H,width:630,visible:!0,"virtual-ref":m.value[k.value],"virtual-triggering":"",placement:"right-start",trigger:"click",onAfterLeave:C[0]||(C[0]=f=>k.value=null)},{default:p(()=>[n("div",He,[l(me,{modelGropsByDeveloper:w.value,modelValue:b.value,onUpdateCheckboxValue:F},null,8,["modelGropsByDeveloper","modelValue"])])]),_:1},8,["virtual-ref"])):E("",!0),n("li",Ge,[l(A,{color:h.compareArr.length<2?"#C2C2C2":"var(--theme-color)",onClick:G,disabled:h.compareArr.length<2,class:"compare-btn"},{default:p(()=>[V("compare now")]),_:1},8,["color","disabled"]),n("span",{onClick:ne,class:"remove-all-btn"},"remove all")])]),qe])):E("",!0)])}}},Xe=te(Fe,[["__scopeId","data-v-a3fe62a4"]]),Ke=_=>(le("data-v-6a2cbb9d"),_=_(),ae(),_),We={class:"score-intro-template"},Ye=Ke(()=>n("div",null,[n("p",{class:"title"},"How It Works â€“ Understanding the Evaluation Process"),n("p",null,` This score is the average across value dimensions from the "selected point" above, which can be adjusted based on the user's needs. `),n("p",null,[V(" More details on datasets and evaluation methods can be found in "),n("a",{href:"https://arxiv.org/pdf/2501.07071",target:"_blank"},"[Value Compass Leaderboard]"),V(". ")])],-1)),Je={__name:"scoreIntro",setup(_,{expose:R}){const h=r(!1);return R({showScoreIntro:()=>{h.value=!0}}),(g,x)=>{const w=Se;return s(),d("div",We,[l(w,{modelValue:h.value,"onUpdate:modelValue":x[0]||(x[0]=b=>h.value=b),title:"",style:{width:"90%","max-width":"730px"},"align-center":""},{default:p(()=>[Ye]),_:1},8,["modelValue"])])}}},Qe=te(Je,[["__scopeId","data-v-6a2cbb9d"]]),pe=_=>(le("data-v-2168bf59"),_=_(),ae(),_),Ze={class:"main-container"},eo={class:"content"},oo=pe(()=>n("span",{style:{"padding-left":"3em"}},"Rank",-1)),to={style:{"padding-left":"3em",width:"3em",display:"inline-block","text-align":"center"}},lo={key:0,class:"top3-img",src:Le,alt:"silver medal"},ao={key:1,class:"top3-img",src:Pe,alt:"silver medal"},so={key:2,class:"top3-img",src:$e,alt:"silver medal"},no={key:3,class:"table-color"},ro={class:"table-color"},co=["onClick"],io=pe(()=>n("span",{style:{"padding-right":"1.2em"}},"Score",-1)),po={class:"table-color"},uo=["innerHTML"],mo=["innerHTML"],vo={key:0,class:"type-icon"},_o={key:1,class:"type-close-icon"},ho={key:0},fo={key:1},go={key:2},bo={key:0,style:{height:"200px"}},yo={__name:"LeaderboardNew",setup(_){const R=r(null),h=r(null),H=()=>{h.value.showScoreIntro()},g=r(null);var x=null,w=null;r(null),r(null),r(null),r(null);let b=null;r("2024/7");const N=r([]),L=e=>T.get(e);(async()=>{try{T.all([L("./data/models_info.json"),L("./data/Schwartz_scores.json"),L("./data/Risk_scores.json"),L("./data/MFT_scores.json"),L("./data/FULVa_scores.json")]).then(T.spread(function(e,t,a,c,v){x=e.data.data,w=z(x),console.log(x),t.value=t.data.data,a.value=a.data.data,c.value=c.data.data,v.value=v.data.data;const B=z(t.value),o=z(a.value),M=z(c.value),y=z(v.value);b=Ie(B,o,M,y);const ko=[];g.value.hancelTypeIndexChange(0)}))}catch(e){console.error("Fetch error:",e)}})();const G=r([]),K=e=>{console.log(e);const t=e,a=[];x.forEach(c=>{const v=Ae(c.model,t,b);console.log(c.model,t,b),G.value=t;let B={modelName:c.model,developer:c.developer,points:(v*1).toFixed(2),type:c.type,releaseDate:c["release date"].split(" ")[0]};t.forEach(o=>{console.log(o,b),B[o]=b[c.model][o]}),a.push(B)}),a.sort((c,v)=>v.points-c.points),a.map((c,v)=>(c.place=v+1,c)),N.value=a,console.log("tableData",N.value),De(()=>{R.value.clearSort()})},P=ke(),W=e=>{P.push({path:"/leaderboard/valueAnalysis",query:{modelName:e}})},q=e=>{console.log(e),W(e.modelName)},F=r(!1),Y=r(),u=r([]),m=r([]),k=e=>{F.value=!0,!(u.value.length>=5&&m.value.indexOf(e.modelName)==-1)&&(m.value.indexOf(e.modelName)>-1?(u.value=u.value.filter(t=>t.modelName!==e.modelName),m.value=m.value.filter(t=>t!==e.modelName)):(u.value.push(e),m.value.push(e.modelName)))},J=()=>{console.log("removeAll");for(let e=0;e<u.value.length;e++)u.value[e];u.value=[],m.value=[]},Q=e=>{const t=e.map(a=>({modelName:a,developer:w[a].developer,releaseDate:w[a]["release date"],type:w[a].type,affiliation:w[a].affiliation}));u.value=t,m.value=t.map(a=>a.modelName)},i=()=>{P.push({path:"/leaderboard/valueComparison",query:{modelName:m.value}})},C=e=>{u.value=u.value.filter(t=>t.modelName!==e.modelName),m.value=m.value.filter(t=>t!==e.modelName)},I=(e,t)=>t.label=="model_name"?e[t.label]:(e[t.label]*1).toFixed(2),j=(e,t)=>(e.cancelBubble=!0,console.log("showPointsDetail"),A.value=t,g.value.tablePointDetailShow=t,!1),$=e=>{A.value=e},A=r(!1);let f=!1,S=0,Z=0,U=document.getElementsByClassName("el-scrollbar__wrap")[0];const ue=e=>{U=document.getElementsByClassName("el-scrollbar__wrap")[0],console.log("handleMouseDown"),f=!0,S=e.pageX-U.offsetLeft,Z=U.scrollLeft,document.addEventListener("mousemove",re),document.addEventListener("mouseup",ce)},re=e=>{if(console.log("handleMouseMove"),!f)return;e.preventDefault();const a=(e.pageX-U.offsetLeft-S)*1;U.scrollLeft=Z-a},ce=()=>{console.log("handleMouseUp"),f=!1,document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ce)};return(e,t)=>{const a=fe,c=ie,v=de,B=_e;return s(),d("div",null,[n("div",Ze,[n("div",eo,[l(he,{ref_key:"SelectedPointsRef",ref:g,onApplyChange:K,onSwicthChange:$},null,512),n("div",{class:"filter-table",onMousedown:ue},[l(B,{data:N.value,"default-sort":{prop:"place"},style:{width:"100%"},ref_key:"tableRef",ref:R},{default:p(()=>[l(a,{prop:"place",label:"Rank",sortable:"","min-width":"150",fixed:""},{header:p(()=>[oo]),default:p(o=>[n("span",to,[o.row.place==2?(s(),d("img",lo)):o.row.place==1?(s(),d("img",ao)):o.row.place==3?(s(),d("img",so)):(s(),d("span",no,D(o.row.place),1))])]),_:1}),l(a,{align:"left",prop:"modelName",label:"Model Name","min-width":"220",sortable:"",fixed:""},{default:p(o=>[n("p",ro,[n("span",{style:{cursor:"pointer"},class:"model-name-a",onClick:M=>q(o.row)},D(o.row.modelName),9,co)])]),_:1}),l(a,{align:"left",prop:"developer",label:"Developer","min-width":"140",sortable:"",fixed:""}),l(a,{align:"left",prop:"points",label:"Points","min-width":"130",sortable:"",fixed:""},{header:p(()=>[io,l(c,{class:"show-intro-icon",name:"icon-question",onClick:t[0]||(t[0]=o=>H(!0))}),A.value?(s(),X(v,{key:1,effect:"customized",content:A.value?"show less":"show more",placement:"top"},{default:p(()=>[l(c,{class:"points-show",name:"points-hide",onClick:t[2]||(t[2]=o=>j(o,!1))})]),_:1},8,["content"])):(s(),X(v,{key:0,effect:"customized",content:A.value?"show less":"show more",placement:"top"},{default:p(()=>[l(c,{class:"points-show",name:"points-show",onClick:t[1]||(t[1]=o=>j(o,!0))})]),_:1},8,["content"]))]),default:p(o=>[n("span",po,D(o.row.points),1)]),_:1}),A.value?(s(!0),d(O,{key:0},oe(G.value,(o,M)=>(s(),X(a,{key:M,"class-name":"grab-column",label:o,prop:o,formatter:I,"min-width":g.value.selectedIndex==0?80:g.value.selectedIndex==2?100:135,sortable:"",align:"left"},{header:p(()=>[g.value.selectedIndex==0?(s(),d(O,{key:0},[V(D(o.indexOf("-")>-1?o.split("-").map(y=>y[0].toUpperCase()).join(""):o.substring(0,3)),1)],64)):g.value.selectedIndex==1?(s(),d("span",{key:1,innerHTML:o.split("/").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join("/<br>")},null,8,uo)):g.value.selectedIndex==2?(s(),d(O,{key:2},[V(D(o.split(" ").map(y=>y.charAt(0).toUpperCase()).join("")),1)],64)):g.value.selectedIndex==3?(s(),d("span",{key:3,innerHTML:o.split("-").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join("-<br>")},null,8,mo)):E("",!0)]),_:2},1032,["label","prop","min-width"]))),128)):E("",!0),l(a,{label:"Type","min-width":"70",fixed:"right"},{default:p(o=>[l(v,{effect:"customized",content:o.row.type+" Source",placement:"top"},{default:p(()=>[o.row.type.toLowerCase()=="open"?(s(),d("span",vo)):E("",!0),o.row.type.toLowerCase()=="close"?(s(),d("span",_o)):E("",!0)]),_:2},1032,["content"])]),_:1}),l(a,{prop:"releaseDate",label:"Release Date","min-width":"140",sortable:"",fixed:"right"}),l(a,{label:"Compare","min-width":"90",fixed:"right"},{default:p(o=>[m.value.indexOf(o.row.modelName)==-1&&u.value.length<5?(s(),d("div",ho,[l(v,{effect:"customized",content:"compare",placement:"top"},{default:p(()=>[l(c,{class:"add",name:"add",onClick:M=>k(o.row),style:{padding:"0 1.2em",color:"var(--theme-color)"}},null,8,["onClick"])]),_:2},1024)])):m.value.indexOf(o.row.modelName)==-1&&u.value.length>=5?(s(),d("div",fo,[l(c,{class:"add disabled",name:"add-disabled",style:{padding:"0 1.2em"}})])):(s(),d("div",go,[l(v,{effect:"customized",content:"compare pool",placement:"top"},{default:p(()=>[l(c,{style:{color:"var(--theme-color)",padding:"0 1.2em"},class:"add",name:"model-checked-icon",onClick:M=>k(o.row)},null,8,["onClick"])]),_:2},1024)]))]),_:1}),l(a,{label:"Details","min-width":"90",fixed:"right"},{default:p(o=>[l(v,{effect:"customized",content:"view",placement:"top"},{default:p(()=>[l(c,{class:"jump",name:"jump",onClick:M=>q(o.row),style:{padding:"0 1em",color:"var(--theme-color)"}},null,8,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])],32)])]),Ce(l(Xe,{ref_key:"ComparePoolRef",ref:Y,onRemoveAll:J,onComparisonPoolSubmit:Q,onCompareNow:i,onCloseModel:C,onHideComparePool:t[3]||(t[3]=o=>F.value=!1),compareArr:u.value},null,8,["compareArr"]),[[xe,u.value.length>0]]),u.value.length>0?(s(),d("div",bo)):E("",!0),l(Qe,{ref_key:"scoreIntroRef",ref:h},null,512)])}}},$o=te(yo,[["__scopeId","data-v-2168bf59"]]);export{$o as default};
