import"./jspdf.es.min-JyKaLngk.js";import{e as Ee,M as He,G as qe,f as Oe}from"./el-select-DKDLzhaC.js";import{c as Ge,b as Ke,a as Ze}from"./el-radio-Dnr-kjdF.js";import{i as Je,E as Qe,a as We}from"./linesGL-BHVqlbVN.js";import{r as o,o as Ve,n as Xe,a as i,c as d,e,_ as fe,G as k,h as n,p as Fe,j as Re,F,f as B,t as ae,U as Ye,i as ea,az as aa,aA as la,K as oa,w as V,P as G,N as X,M as De,L as ta,a4 as sa,H as na}from"./index-BD2jWzzu.js";import{f as he,h as Y,m as ra,i as ee,g as ca,j as ua,k as ia}from"./common-BOXGttRx.js";import{V as da,_ as ma}from"./CulturalAlignment-BALlu9O6.js";/* empty css                 */import{_ as _a}from"./homepageSwiper-2GvjasXC.js";import"./pagination-BiR3PNRQ.js";import"./Schwartz_image-hQPpC2TV.js";const $e="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",va={class:""},te={__name:"echart",props:{type:{type:Number,required:!0}},setup(h,{expose:S}){const M=h,T=o(null);let $=null;return S({setRadarChart:(c,R,w)=>{console.log(c);let x=[],u=[],E=[];if(c.length>0){const v=c.flatMap(m=>Object.entries(m[R]).filter(([C,g])=>C!=="model_name"&&C!=="Score").map(([C,g])=>g)),K=Math.ceil(Math.max(...v)*1)/1;let z=2;M.type==1&&(z=5);const j=Math.floor(Math.min(...v)*1)/1-z;let H=[];w?H=w:H=Object.keys(c[0][R]),E=H.filter(m=>m!="model_name"&&m!="Score").map((m,C)=>({name:m,color:(C==0,"#000"),axisLabel:{show:C==0},min:j,max:K}));for(let m=0;m<c.length;m++){let C=[];for(let g=0;g<E.length;g++)C.push(c[m][R][E[g].name]);x.push({name:c[m].model_name,value:C,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:c[m].color},itemStyle:{color:c[m].color}}),u.push(c[m].model_name)}}$.setOption({legend:{data:u,textStyle:{fontSize:14,color:"black"}},radar:{center:["50%","56%"],radius:"65%",splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(v){return v.split("&").join(`&
`)}},axisLabel:{formatter:function(v){return v.toFixed(0)}},triggerEvent:!0,indicator:E},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:x}]})}}),Ve(async()=>{await Xe(),$=Je(T.value);const c={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};$.setOption(c)}),(c,R)=>(i(),d("div",null,[e("div",va,[e("div",null,[e("div",null,[e("div",{class:"chart",ref_key:"chartDom",ref:T,style:{width:"1200px",height:"700px",margin:"0 auto"}},null,512)])])])]))}},se=h=>(Fe("data-v-8708ac9e"),h=h(),Re(),h),pa={class:""},ha={class:"echart-list"},fa=se(()=>e("p",null,"Schwartz Theory of Basic Values",-1)),ba=se(()=>e("p",null,"Moral Foundation Theory",-1)),ya=se(()=>e("p",null,"Safety Taxonomy",-1)),wa=se(()=>e("p",null,"LLMs' Unique Value System",-1)),xa={__name:"Visualization",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},setup(h,{expose:S}){const M=h,T=o(null),$=o(null),P=o(null),c=o(null),R=o(null);return S({setRadarChart:(x,u)=>{R.value=x,T.value.setRadarChart(x,"Schwartz_data",u?u.Schwartz_data:null),$.value.setRadarChart(x,"MFT_data",u?u.MFT_data:null),P.value.setRadarChart(x,"Risk_data",u?u.Risk_data:null),c.value.setRadarChart(x,"FULVa_data",u?u.FULVa_data:null)}}),(x,u)=>(i(),d("div",null,[e("div",pa,[e("div",ha,[e("div",{class:k(["download-box",{show:M.DimensionMeasurementTabIndex==0}])},[fa,n(te,{ref_key:"chartDom1",ref:T,type:1},null,512)],2),e("div",{class:k(["download-box",{show:M.DimensionMeasurementTabIndex==1}])},[ba,n(te,{ref_key:"chartDom2",ref:$,type:2},null,512)],2),e("div",{class:k(["download-box",{show:M.DimensionMeasurementTabIndex==2}])},[ya,n(te,{ref_key:"chartDom3",ref:P,type:3},null,512)],2),e("div",{class:k(["download-box",{show:M.DimensionMeasurementTabIndex==3}])},[wa,n(te,{ref_key:"chartDom4",ref:c,type:4},null,512)],2)])])]))}},ga=fe(xa,[["__scopeId","data-v-8708ac9e"]]),ka={class:"dimension-measurement-tabs"},Sa={class:"label"},Ma=["onClick"],Ta={__name:"DimensionMeasurementTabs",props:{DimensionMeasurementTabIndex:{type:Number,required:!1,default:0}},emits:["handleDimensionMeasurementTabsChange"],setup(h,{expose:S,emit:M}){const T=h,$=o(!1),P=[{value:1,label:"Schwartz Theory of Basic Values"},{value:2,label:"Moral Foundation Theory"},{value:3,label:"Safety Taxonomy"},{value:4,label:"LLMs' Unique Value System"}],c=M,R=u=>{T.DimensionMeasurementTabIndex=u,c("handleDimensionMeasurementTabsChange",u)},w=o(null),x=u=>{w.value&&w.value.showIntro(u)};return S({hancelTypeIndexChange:R,tablePointDetailShow:$}),(u,E)=>{const v=ea,K=_a;return i(),d("div",ka,[e("ul",Sa,[(i(),d(F,null,B(P,(z,j)=>e("li",{class:k(T.DimensionMeasurementTabIndex==j?"on":""),key:j,onClick:H=>R(j)},[n(v,{class:"point-type-icon",name:"point-type-icon"}),e("span",null,ae(z.label),1),n(v,{class:"info",name:"info",onClick:Ye(H=>x(j),["stop"])},null,8,["onClick"])],10,Ma)),64))]),n(K,{ref_key:"homepageSwiperRef",ref:w},null,512)])}}},Ca=fe(Ta,[["__scopeId","data-v-f4658b01"]]),y=h=>(Fe("data-v-3a82e0fa"),h=h(),Re(),h),Da={class:"bg comparison-template main-container"},Va={class:"title-content"},Fa=y(()=>e("h2",null,"Compare Pool",-1)),Ra={class:"compare-model-list",style:{position:"relative"}},$a=["onClick"],za={class:"name"},La={class:"top-item-content"},Ia=y(()=>e("span",{class:"type-icon"},null,-1)),ja={class:"dev"},Na={class:"date"},Aa=["onClick"],Ua=y(()=>e("img",{src:$e,alt:"add-model"},null,-1)),Ba=y(()=>e("p",null,"Add",-1)),Pa=[Ua,Ba],Ea=y(()=>e("img",{src:$e,alt:"add-model"},null,-1)),Ha=y(()=>e("p",null,"Add",-1)),qa=[Ea,Ha],Oa={id:"popoverId",style:{position:"relative"}},Ga={class:"max-num-tip",style:{}},Ka={class:"chart-box"},Za={class:"chart-tab"},Ja={class:"chart-main",style:{}},Qa=y(()=>e("h4",null,"Schwartz Theory of Basic Values",-1)),Wa=y(()=>e("span",null,"Average",-1)),Xa=y(()=>e("h4",null,"Moral Foundations Theory",-1)),Ya=y(()=>e("span",null,"Average",-1)),el=y(()=>e("h4",null,"Safety Taxonomy",-1)),al=y(()=>e("span",null,"Average",-1)),ll=y(()=>e("h4",null,"LLMs' Unique Value System",-1)),ol=y(()=>e("span",null,"Average",-1)),tl={__name:"Comparison",setup(h){const S=o(null),M=o(null),T=o(null);o(null);const $=qe.colorList,P=[{name:"Table",index:0},{name:"radar chart",index:1},{name:"culture heatmap",index:2},{name:"Value Space",index:3}];var c=null,R=null,w=null,x=null,u=null,E=null,v=null,K=null;const z=o(),j=o([]),H=o(null),m=o(!1),C=o(),g=o([]),t=o([]),_=o([]),N=s=>he.get(s),ze=async()=>{try{he.all([N("./data/models_info.json"),N("./data/Schwartz_scores.json"),N("./data/Schwartz_cases.json"),N("./data/Risk_scores.json"),N("./data/Risk_cases.json"),N("./data/MFT_scores.json"),N("./data/MFT_cases.json"),N("./data/FULVa_scores.json")]).then(he.spread(function(s,a,p,D,r,I,pe,f){K=s.data.data,z.value=Y(s.data.data),c=Y(a.data.data),R=p.data.data,w=Y(D.data.data),x=r.data.data,u=Y(I.data.data),E=pe.data.data,v=Y(f.data.data),J=ra(c,w,u,v);for(let l in z.value){const b=ee(l,[],J);z.value[l].points=(b*1).toFixed(2)}if(C.value=ca(K),g.value=Object.keys(z.value),be.value=Object.keys(c[g.value[0]]),ne.value=be.value,we.value=Object.keys(w[g.value[0]]),ce.value=we.value,ye.value=Object.keys(u[g.value[0]]),re.value=ye.value,xe.value=Object.keys(v[g.value[0]]),ue.value=xe.value,Z)t.value=Z;else{const l=g.value.slice(0,2);t.value=l}le()}))}catch(s){console.error("Fetch error:",s)}},A=(s,a)=>a.label=="model_name"?s[a.label]:(s[a.label]*1).toFixed(2),L=o(0),Le=s=>{console.log(s),L.value=s.index},Ie=s=>{t.value=s,le()},le=()=>{m.value=!1,O.value=null,console.log(t.value),t.value.length>5&&q.value,Ne(),j.value=""},je=(s,a)=>{t.value.splice(a,1),le()},be=o([]),ye=o([]),we=o([]),xe=o([]),ne=o([]),re=o([]),ce=o([]),ue=o([]),ie=o([]),de=o([]),me=o([]),_e=o([]),Ne=()=>{_.value=[],t.value.length>5&&q.value;var s=[];for(let a=0;a<t.value.length;a++){console.log(_.value);let p=!1;_.value.forEach(r=>{console.log("item",r,t.value[a]),r.model_name==t.value[a]&&(p=!0),s.push(r.color)});let D=$.filter(r=>s.every(I=>I!=r));if(!p){let r={};r.color=D[0],r.model_name=t.value[a],r.model_info=z.value[t.value[a]],r.Schwartz_data=c[t.value[a]],r.Risk_data=w[t.value[a]],r.MFT_data=u[t.value[a]],r.FULVa_data=v[t.value[a]],_.value.push(r)}}console.log("checkedModelDetailList.value",_.value),ie.value=[],de.value=[],me.value=[],_e.value=[];for(let a=0;a<_.value.length;a++){let p={};p=c[t.value[a]],p.model_name=t.value[a],p.Score=ee(t.value[a],ne.value,J),ie.value.push(p);let D={};D=w[t.value[a]],D.model_name=t.value[a],D.Score=ee(t.value[a],ce.value,J),me.value.push(D);let r={};r=u[t.value[a]],r.model_name=t.value[a],r.Score=ee(t.value[a],re.value,J),de.value.push(r);let I={};I=v[t.value[a]],I.model_name=t.value[a],I.Score=ee(t.value[a],ue.value,J),_e.value.push(I)}console.log("sssss",_.value),S.value.setRadarChart(_.value),T.value.setValueSpacesData(_.value),console.log("ssssaaas",_.value),M.value.setHotChart(t.value),console.log("checkedModelDetailList.value",_.value)};aa(()=>{});let Z=null;const ve=la();let ge=!0;Ve(()=>{Z=ve.query.modelName,ze(),document.addEventListener("click",Pe)}),oa(()=>{L.value=0,U.value=0,ge?ge=!1:(Z=ve.query.modelName,Z&&(console.log("首页传过来的modelName："+ve.query.modelName),t.value=Z,le()))});let J=null;const U=o(0),Ae=s=>{U.value=s},Q=o(!1),Ue=async()=>{console.log("downloadAll"),!Q.value&&(Q.value=!0,await Be(),Q.value=!1)},ke=o(null),Se=o(null),Me=o(null),Te=o(null),Be=async s=>{const a=[[{name:"Schwartz Theory of Basic Values",chart:ke.value.$el},{name:"Moral Foundation Theory",chart:Se.value.$el},{name:"Safety Taxonomy",chart:Me.value.$el},{name:"LLMs' Unique Value System",chart:Te.value.$el}],[{name:"Schwartz Theory of Basic Values",chart:S.value.$refs.chartDom1.$refs.chartDom},{name:"Moral Foundation Theory",chart:S.value.$refs.chartDom2.$refs.chartDom},{name:"Safety Taxonomy",chart:S.value.$refs.chartDom3.$refs.chartDom},{name:"LLMs' Unique Value System",chart:S.value.$refs.chartDom4.$refs.chartDom}],[{name:"Culture Heatmap",chart:M.value.$refs.chartDom},{name:"Value Space",chart:T.value.$refs.chartDom}]],p="Comparison_"+ua();await ia(a,_.value,p)},q=o(!0),oe=o([]),O=o(null),Ce=s=>{O.value=O.value===s?null:s},Pe=s=>{const a=document.getElementById("popoverId"),p=oe.value.some(r=>r==null?void 0:r.contains(s.target)),D=a==null?void 0:a.contains(s.target);!p&&!D&&(O.value=null)};return(s,a)=>{const p=Ge,D=Ze,r=Ke,I=We,pe=Qe,f=Oe,W=Ee;return i(),d("div",Da,[e("div",null,[e("div",Va,[Fa,e("div",Ra,[n(p,{style:{"font-size":"0.875em",position:"absolute",right:"0",bottom:"2.2em"},plain:"",color:"#004f8f",onClick:Ue,disabled:Q.value,loading:Q.value},{default:V(()=>[De(" Download All ")]),_:1},8,["disabled","loading"]),e("ul",null,[(i(!0),d(F,null,B(_.value,(l,b)=>(i(),d("li",{class:"model-li",key:l,style:na({"border-color":l.color})},[e("span",{class:"close",onClick:sl=>je(l.model_name,b)},null,8,$a),e("p",za,ae(l.model_name),1),e("div",La,[n(D,{effect:"customized",content:"Proprietary",placement:"top"},{default:V(()=>[Ia]),_:1}),e("span",ja,ae(l.model_info.developer),1),e("span",Na,ae(l.model_info["release date"].split(" ")[0].substring(0,7)),1)])],4))),128)),_.value.length<=5?(i(!0),d(F,{key:0},B(5-_.value.length,l=>(i(),d("li",{key:l,class:"model-li add-model",ref_for:!0,ref:b=>oe.value[l]=b,onClick:b=>Ce(l)},Pa,8,Aa))),128)):G("",!0),!q.value&&_.value.length>=5?(i(),d("li",{key:1,class:"model-li add-model",ref:l=>oe.value[0]=l,onClick:a[0]||(a[0]=l=>Ce(0))},qa,512)):G("",!0),O.value!==null?(i(),X(r,{key:2,ref_key:"popoverRef",ref:H,width:630,visible:!0,"virtual-ref":oe.value[O.value],"virtual-triggering":"",placement:"right",trigger:"click",onAfterLeave:a[1]||(a[1]=l=>O.value=null)},{default:V(()=>[e("div",Oa,[n(He,{modelGropsByDeveloper:C.value,modelValue:t.value,isSetModelNumMax:q.value,onUpdateCheckboxValue:Ie},null,8,["modelGropsByDeveloper","modelValue","isSetModelNumMax"])])]),_:1},8,["virtual-ref"])):G("",!0)]),e("p",Ga,[De(" The maximum number of comparisons supported is "),e("span",{onDblclick:a[2]||(a[2]=l=>q.value=!q.value)},ae(q.value?5:100),33)])])])]),e("div",Ka,[e("div",Za,[n(pe,{modelValue:L.value,"onUpdate:modelValue":a[3]||(a[3]=l=>L.value=l),onTabClick:Le},{default:V(()=>[(i(),d(F,null,B(P,l=>n(I,{key:l.index,label:"         "+l.name+"         ",name:l.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),e("div",Ja,[ta(n(Ca,{style:{margin:"0.5em 0 2.5em"},DimensionMeasurementTabIndex:U.value,onHandleDimensionMeasurementTabsChange:Ae},null,8,["DimensionMeasurementTabIndex","onHandleDimensionMeasurementTabsChange"]),[[sa,L.value==0||L.value==1]]),e("div",{class:k(["table-box download-box",{show:L.value==0}])},[e("div",{class:k(["download-box",{show:U.value==0}])},[Qa,n(W,{data:ie.value,ref_key:"SchwartzTableRef",ref:ke,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:V(()=>[n(f,{prop:"model_name",label:"Model",width:"210"}),n(f,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:V(()=>[Wa]),_:1}),(i(!0),d(F,null,B(ne.value,(l,b)=>(i(),d(F,{key:b},[l!="model_name"?(i(),X(f,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):G("",!0)],64))),128))]),_:1},8,["data"])],2),e("div",{class:k(["download-box",{show:U.value==1}])},[Xa,n(W,{data:de.value,ref_key:"MFTTableRef",ref:Se,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:V(()=>[n(f,{prop:"model_name",label:"Model",width:"210"}),n(f,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:V(()=>[Ya]),_:1}),(i(!0),d(F,null,B(re.value,(l,b)=>(i(),d(F,{key:b},[l!="model_name"?(i(),X(f,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):G("",!0)],64))),128))]),_:1},8,["data"])],2),e("div",{class:k(["download-box",{show:U.value==2}])},[el,n(W,{data:me.value,ref_key:"RiskTableRef",ref:Me,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:V(()=>[n(f,{prop:"model_name",label:"Model",width:"210"}),n(f,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:V(()=>[al]),_:1}),(i(!0),d(F,null,B(ce.value,(l,b)=>(i(),d(F,{key:b},[l!="model_name"?(i(),X(f,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):G("",!0)],64))),128))]),_:1},8,["data"])],2),e("div",{class:k(["download-box",{show:U.value==3}])},[ll,n(W,{data:_e.value,ref_key:"FULVaTableRef",ref:Te,border:"",style:{width:"100%"},"default-sort":{prop:"Score",order:"descending"}},{default:V(()=>[n(f,{prop:"model_name",label:"Model",width:"210"}),n(f,{prop:"Score",label:"Score",sortable:"",formatter:A},{header:V(()=>[ol]),_:1}),(i(!0),d(F,null,B(ue.value,(l,b)=>(i(),d(F,{key:b},[l!="model_name"?(i(),X(f,{key:0,prop:l,label:l,formatter:A},null,8,["prop","label"])):G("",!0)],64))),128))]),_:1},8,["data"])],2)],2),e("div",{class:k(["download-box",{show:L.value==1}])},[n(ga,{ref_key:"VisualizationComponentProps",ref:S,DimensionMeasurementTabIndex:U.value},null,8,["DimensionMeasurementTabIndex"])],2),e("div",{class:k(["download-box",{show:L.value==3}])},[n(da,{ref_key:"ValueSpaceComponentProps",ref:T},null,512)],2),e("div",{class:k(["download-box",{show:L.value==2}])},[n(ma,{ref_key:"CulturalAlignmentComponentProps",ref:M},null,512)],2)])])])}}},fl=fe(tl,[["__scopeId","data-v-3a82e0fa"]]);export{fl as default};
