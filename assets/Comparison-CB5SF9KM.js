import{a as re,g as se,m as Re,b as Be}from"./common-D8-hOCa6.js";import{E as He,a as je,b as Ie}from"./el-radio-group-DIwU0ejw.js";import{E as Oe,a as Pe}from"./el-popover-DrSwMkl-.js";import{d as Ne,E as Ue,a as Ge,b as qe,c as Ze,f as Ke,g as Qe,e as We}from"./el-select-BUrFB8yT.js";import{c as Xe,E as Ye,a as Je}from"./linesGL-DqXg3CEd.js";import{h as d,E as De,S as ea,U as aa,d as la,M as le,w as D,e as z,b as V,v as B,T as ta,H as q,q as Fe,V as Te,W as oa,X as sa,i as ue,o as g,a as A,f as a,_ as de,B as xe,C as Ce,F as T,D as R,A as U,t as M,n as na,u as N,k as G,P as ra,Q as ia,l as te,g as ca}from"./index-BcpC226g.js";import{i as ke}from"./index-DNSscJ2R.js";import{r as ce,f as ua,n as oe,o as Ae}from"./plugin-vue_export-helper-BkX28T1_.js";import{u as da}from"./use-global-config-B7__UtjE.js";import"./el-input-DqvEEeVH.js";import"./index-ip9XUcti.js";import"./index-q1mi6aW3.js";import"./index-Bgk00x67.js";function va(l){let e;const o=d(!1),t=De({...l,originalPosition:"",originalOverflow:"",visible:!1});function _(s){t.text=s}function n(){const s=t.parent,m=c.ns;if(!s.vLoadingAddClassList){let p=s.getAttribute("loading-number");p=Number.parseInt(p)-1,p?s.setAttribute("loading-number",p.toString()):(ce(s,m.bm("parent","relative")),s.removeAttribute("loading-number")),ce(s,m.bm("parent","hidden"))}h(),v.unmount()}function h(){var s,m;(m=(s=c.$el)==null?void 0:s.parentNode)==null||m.removeChild(c.$el)}function r(){var s;l.beforeClose&&!l.beforeClose()||(o.value=!0,clearTimeout(e),e=window.setTimeout(y,400),t.visible=!1,(s=l.closed)==null||s.call(l))}function y(){if(!o.value)return;const s=t.parent;o.value=!1,s.vLoadingAddClassList=void 0,n()}const i=la({name:"ElLoading",setup(s,{expose:m}){const{ns:p,zIndex:x}=da("loading");return m({ns:p,zIndex:x}),()=>{const k=t.spinner||t.svg,F=le("svg",{class:"circular",viewBox:t.svgViewBox?t.svgViewBox:"0 0 50 50",...k?{innerHTML:k}:{}},[le("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),f=t.text?le("p",{class:p.b("text")},[t.text]):void 0;return le(ta,{name:p.b("fade"),onAfterLeave:y},{default:D(()=>[z(V("div",{style:{backgroundColor:t.background||""},class:[p.b("mask"),t.customClass,t.fullscreen?"is-fullscreen":""]},[le("div",{class:p.b("spinner")},[F,f])]),[[B,t.visible]])])})}}}),v=ea(i),c=v.mount(document.createElement("div"));return{...aa(t),setText:_,removeElLoadingChild:h,close:r,handleAfterLeave:y,vm:c,get $el(){return c.$el}}}let ne;const ma=function(l={}){if(!ua)return;const e=pa(l);if(e.fullscreen&&ne)return ne;const o=va({...e,closed:()=>{var _;(_=e.closed)==null||_.call(e),e.fullscreen&&(ne=void 0)}});_a(e,e.parent,o),$e(e,e.parent,o),e.parent.vLoadingAddClassList=()=>$e(e,e.parent,o);let t=e.parent.getAttribute("loading-number");return t?t=`${Number.parseInt(t)+1}`:t="1",e.parent.setAttribute("loading-number",t),e.parent.appendChild(o.$el),q(()=>o.visible.value=e.visible),e.fullscreen&&(ne=o),o},pa=l=>{var e,o,t,_;let n;return Fe(l.target)?n=(e=document.querySelector(l.target))!=null?e:document.body:n=l.target||document.body,{parent:n===document.body||l.body?document.body:n,background:l.background||"",svg:l.svg||"",svgViewBox:l.svgViewBox||"",spinner:l.spinner||!1,text:l.text||"",fullscreen:n===document.body&&((o=l.fullscreen)!=null?o:!0),lock:(t=l.lock)!=null?t:!1,customClass:l.customClass||"",visible:(_=l.visible)!=null?_:!0,beforeClose:l.beforeClose,closed:l.closed,target:n}},_a=async(l,e,o)=>{const{nextZIndex:t}=o.vm.zIndex||o.vm._.exposed.zIndex,_={};if(l.fullscreen)o.originalPosition.value=oe(document.body,"position"),o.originalOverflow.value=oe(document.body,"overflow"),_.zIndex=t();else if(l.parent===document.body){o.originalPosition.value=oe(document.body,"position"),await q();for(const n of["top","left"]){const h=n==="top"?"scrollTop":"scrollLeft";_[n]=`${l.target.getBoundingClientRect()[n]+document.body[h]+document.documentElement[h]-Number.parseInt(oe(document.body,`margin-${n}`),10)}px`}for(const n of["height","width"])_[n]=`${l.target.getBoundingClientRect()[n]}px`}else o.originalPosition.value=oe(e,"position");for(const[n,h]of Object.entries(_))o.$el.style[n]=h},$e=(l,e,o)=>{const t=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?ce(e,t.bm("parent","relative")):Ae(e,t.bm("parent","relative")),l.fullscreen&&l.lock?Ae(e,t.bm("parent","hidden")):ce(e,t.bm("parent","hidden"))},ie=Symbol("ElLoading"),Ee=(l,e)=>{var o,t,_,n;const h=e.instance,r=s=>Te(e.value)?e.value[s]:void 0,y=s=>{const m=Fe(s)&&(h==null?void 0:h[s])||s;return m&&d(m)},i=s=>y(r(s)||l.getAttribute(`element-loading-${sa(s)}`)),v=(o=r("fullscreen"))!=null?o:e.modifiers.fullscreen,c={text:i("text"),svg:i("svg"),svgViewBox:i("svgViewBox"),spinner:i("spinner"),background:i("background"),customClass:i("customClass"),fullscreen:v,target:(t=r("target"))!=null?t:v?void 0:l,body:(_=r("body"))!=null?_:e.modifiers.body,lock:(n=r("lock"))!=null?n:e.modifiers.lock};l[ie]={options:c,instance:ma(c)}},fa=(l,e)=>{for(const o of Object.keys(e))oa(e[o])&&(e[o].value=l[o])},ha={mounted(l,e){e.value&&Ee(l,e)},updated(l,e){const o=l[ie];e.oldValue!==e.value&&(e.value&&!e.oldValue?Ee(l,e):e.value&&e.oldValue?Te(e.value)&&fa(e.value,o.options):o==null||o.instance.close())},unmounted(l){var e;(e=l[ie])==null||e.instance.close(),l[ie]=null}},ba="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%2022V10H26V22H38V26H26V38H22V26H10V22H22Z'%20fill='%23C2C2C2'/%3e%3c/svg%3e",ga={class:""},ye={__name:"echart",setup(l,{expose:e}){const o=d(null);let t=null;return e({setRadarChart:(n,h,r)=>{let y=[];r?y=r:y=Object.keys(n[0][h]);let i=y.filter(s=>s!="model_name").map((s,m)=>({name:s,color:(m==0,"#000"),axisLabel:{show:m==0},min:-1,max:1})),v=[],c=[];for(let s=0;s<n.length;s++){let m=[];for(let p=0;p<i.length;p++)m.push(n[s][h][i[p].name]);v.push({name:n[s].model_name,value:m,areaStyle:{opacity:0,color:"#1093FF"},lineStyle:{width:2,color:n[s].color},itemStyle:{color:n[s].color}}),c.push(n[s].model_name)}t.setOption({legend:{data:c,textStyle:{fontSize:16,color:"black"}},radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},splitNumber:5,axisName:{fontSize:16,color:"black",formatter:function(s){return s.split("&").join(`&
`)}},triggerEvent:!0,indicator:i},series:[{type:"radar",symbolSize:8,itemStyle:{color:"#4992ff"},data:v}]})}}),ue(async()=>{await q(),t=ke(o.value);const n={radar:{splitArea:{areaStyle:{color:["rgba(0,0,0,0.05)","rgba(0,0,0,0.03)"]}},axisLabel:{show:!0,fontSize:14},axisName:{fontSize:14,color:"#fff"},triggerEvent:!0,indicator:[{name:"Benevolence",max:1,color:"#ffd000"},{name:"Achievement",max:1,axisLabel:{show:!1}},{name:"Universalism",max:1,axisLabel:{show:!1}},{name:"Tradition",max:1,axisLabel:{show:!1}},{name:"Stimulation",max:1,axisLabel:{show:!1}},{name:"Self-direction",max:1,axisLabel:{show:!1}},{name:"Security",max:1,axisLabel:{show:!1}},{name:"Power",max:1,axisLabel:{show:!1}},{name:"Hedonism",max:1,axisLabel:{show:!1}},{name:"Conformity",max:1,axisLabel:{show:!1}}]}};t.setOption(n)}),(n,h)=>(g(),A("div",null,[a("div",ga,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:o,style:{width:"1000px",height:"850px",margin:"0 auto"}},null,512)])])])]))}},Se=l=>(xe("data-v-44ea58fc"),l=l(),Ce(),l),ya={class:""},xa={class:"echart-list"},Ca=Se(()=>a("p",null,"Schwartz Theory of Basic Values",-1)),ka=Se(()=>a("p",null,"Moral Foundation Theory",-1)),Sa=Se(()=>a("p",null,"Diverse Safety Risks",-1)),wa={__name:"Visualization",setup(l,{expose:e}){const o=d(null),t=d(null),_=d(null);d(null);const n=d(null);return e({setRadarChart:(r,y)=>{n.value=r,o.value.setRadarChart(r,"Schwartz_data",y?y.Schwartz_data:null),t.value.setRadarChart(r,"MFT_data",y?y.MFT_data:null),_.value.setRadarChart(r,"Risk_data",y?y.Risk_data:null)}}),(r,y)=>(g(),A("div",null,[a("div",ya,[a("div",xa,[a("div",null,[Ca,V(ye,{ref_key:"chartDom1",ref:o},null,512)]),a("div",null,[ka,V(ye,{ref_key:"chartDom2",ref:t},null,512)]),a("div",null,[Sa,V(ye,{ref_key:"chartDom3",ref:_},null,512)])])])]))}},Va=de(wa,[["__scopeId","data-v-44ea58fc"]]),Aa={class:"chart-box"},$a={class:"result-main"},Ea={class:"chart-main"},Da={class:"card-item","element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0)"},Fa={__name:"ValueSpace",setup(l,{expose:e}){const o=d(!1);var t=null,_=["#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361","#71AD8A","#A27BBB","#7186C9","#ACD291","#E195D0","#ED8B5E","#96C8E0","#F3CF7F","#E38380","#C49361"];function n(i){console.log(i),r!=null&&r.dispose&&r.dispose(),r=ke(h.value);const v="path://M1 11C6.52285 11 11 6.52285 11 1H13C13 6.52285 17.4772 11 23 11V13C17.4772 13 13 17.4772 13 23H11C11 17.4772 6.52285 13 1 13V11Z",c=[{type:"scatter3D",data:i.model,symbolSize:24,symbol:v,itemStyle:{opacity:1},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}];i.model.forEach((p,x)=>{const k=i.node.slice(x*30,x*30+30);c.push({name:p.name,type:"scatter3D",data:k,symbolSize:8,symbol:v,label:{show:!1,formatter:""},itemStyle:{color:_[x],opacity:1}})}),c.push({name:"Geocultural sphere",type:"scatter3D",data:i.culture,symbolSize:18,itemStyle:{opacity:1,color:"#1093FF"},label:{show:!0,formatter:"{b}",textStyle:{color:"#fff",fontSize:16,backgroundColor:"rgba(255,255,255,0)"}}}),t=Object.assign([],c);const s={legend:{show:!0,width:"1100",textStyle:{color:"#fff"}},tooltip:{appendToBody:!0,className:"tooltip",hideDelay:1e3,enterable:!0,triggerOn:"click",backgroundColor:"#0A111F",borderColor:"#0A111F",textStyle:{color:"#fff"},formatter:function(p){return p.data.type=="node"?`<div style="padding: 6px 28px;">
                  <pre style="text-align: left; white-space: pre-line;">${p.data.name}</pre>
                </div>`:""}},xAxis3D:{type:"value"},yAxis3D:{type:"value"},zAxis3D:{type:"value"},grid3D:{axisLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},axisPointer:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,0.3)"}},viewControl:{autoRotate:!0,autoRotateSpeed:2,autoRotateAfterStill:1,distance:130},top:"6%"},series:c};r.setOption(s);var m=!1;r.on("click",function(p){const x=r.getOption().series;p.data.type=="model"&&(m=!0,x.forEach(k=>{k.name&&k.name!=p.name&&(k.itemStyle={opacity:.1}),k.name||k.data.forEach(F=>{F.name!=p.name&&(F.itemStyle={opacity:.1})})}),r.setOption({series:x}))}),r.on("mousemove",function(p){m&&(r.setOption({series:t}),m=!1)})}const h=d(null);let r=null;return e({setValueSpacesData:async i=>{const v=i.map(function(c){return c.model_name});console.log(v),o.value=!0,Xe({input:v}).then(c=>{console.log(c);let m=c.data;const p={culture:[],model:[],node:[]};p.culture=m.tsne_cultures.map((x,k)=>({name:m.tsne_culture_caption[k],value:x})),p.model=m.tsne_models.map((x,k)=>({name:m.tsne_model_caption[k],value:x,type:"model",itemStyle:{color:_[k],opacity:1}})),n(p)}).catch(c=>{console.log("err")}).finally(()=>{o.value=!1})}}),ue(async()=>{await q()}),(i,v)=>{const c=ha;return g(),A("div",null,[a("div",Aa,[a("div",$a,[a("div",Ea,[z((g(),A("div",Da,[a("div",{class:"chart",style:{width:"1180px",height:"850px"},ref_key:"chartDom",ref:h},null,512)])),[[c,o.value]])])])])])}}},Ta=de(Fa,[["__scopeId","data-v-f1e71240"]]),za={class:""},Ma={__name:"CulturalAlignment",setup(l,{expose:e}){const o=d(null);let t=null;const _=d(),n=d();let h=[];const r=async()=>re.get("./data/value_sim_heatmap.json").then(i=>{_.value=i.data;const v={};for(let c=0;c<i.data.models.length;c++)v[i.data.models[c]]=i.data.cosine_sim_matrix[c];n.value=v}),y=i=>{let v=[];if(i){let x=[];for(var c=0;c<i.length;c++)x.push(n.value[i[c]]);v={cosine_sim_matrix:x,models:i,countries:h}}else v={cosine_sim_matrix:[_.value.cosine_sim_matrix[0]],models:[_.value.models[0]],countries:h};console.log("modelNameList",i,v);var s=[];for(let x=0;x<v.cosine_sim_matrix.length;x++)for(let k=0;k<v.countries.length;k++)s.push([x,k,v.cosine_sim_matrix[x][k]]);const m=v.models,p=s.map(function(x){return[x[1],x[0],(x[2]*100).toFixed(3)||"-"]});t.setOption({yAxis:{type:"category",data:m,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},series:[{name:"Punch Card",type:"heatmap",data:p,label:{show:!0},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})};return e({setHotChart:y}),ue(async()=>{await q(),await r(),h=_.value.countries;const i=_.value.models;t=ke(o.value);const v={tooltip:{position:"top"},grid:{height:"50%",top:"10%",left:"2%",containLabel:!0},xAxis:{type:"category",data:h,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},yAxis:{type:"category",data:i,splitArea:{show:!0},axisLabel:{color:"#000",fontSize:16}},visualMap:{min:0,max:100,calculable:!0,orient:"horizontal",left:"center",bottom:"15%",color:["#690320","#E0785F","#eeeeee","#4795C3","#083669"],textStyle:{color:"#000"}}};t.setOption(v),y()}),(i,v)=>(g(),A("div",null,[a("div",za,[a("div",null,[a("div",null,[a("div",{class:"chart",ref_key:"chartDom",ref:o,style:{width:"1200px",height:"600px",margin:"0 auto"}},null,512)])])])]))}},Q=l=>(xe("data-v-3a2279b2"),l=l(),Ce(),l),La={class:"content-filter"},Ra={class:"panel-content"},Ba=Q(()=>a("div",{class:"title"},"Applied filters",-1)),Ha={class:"panel-row"},ja=Q(()=>a("div",{class:"filter-name"},"Measurement Date",-1)),Ia={class:"panel-tags"},Oa={class:"title"},Pa={class:"panel-row"},Na=Q(()=>a("div",{class:"filter-name"},"Schwartz Value Theory",-1)),Ua={class:"panel-tags"},Ga={class:"panel-row"},qa=Q(()=>a("div",{class:"filter-name"},"Moral Foundation Theory",-1)),Za={class:"panel-tags"},Ka={class:"panel-row"},Qa=Q(()=>a("div",{class:"filter-name"},"Diverse Safety Risks",-1)),Wa={class:"panel-tags"},Xa={class:"panel-row"},Ya=Q(()=>a("div",{class:"filter-name"},"LLMs' Unique Values",-1)),Ja={class:"panel-tags"},el={__name:"selectBox",emits:["fitterChange"],setup(l,{emit:e}){d();const o={multiple:!0},t=d([]),_=d(!1),n=d(null),h=d(0);let r=De({});const y=[{value:0,label:"Universal"},{value:1,label:"Schwartz Value Theory",children:[{value:0,label:"Achievement"},{value:1,label:"Benevolence"},{value:2,label:"Conformity"},{value:3,label:"Hedonism"},{value:4,label:"Power"},{value:5,label:"Security"},{value:6,label:"Self-direction"},{value:7,label:"Stimulation"},{value:8,label:"Tradition"},{value:9,label:"Universalism"}]},{value:2,label:"Moral Foundation Theory",children:[{value:0,label:"Authority/Subversion"},{value:1,label:"Care/Harm"},{value:2,label:"Fairness/Cheating"},{value:3,label:"Loyalty/Betrayal"},{value:4,label:"Sanctity/Degradation"}]},{value:3,label:"Diverse Safety Risks",children:[{value:0,label:"Misinformation Harms"},{value:1,label:"Representation & Toxicity Harms"},{value:2,label:"Socioeconomic Harms"},{value:3,label:"Human Autonomy & Integrity Harms"},{value:4,label:"Malicious Use"},{value:5,label:"Information & Safety Harms"}]},{value:4,label:"LLMs' Unique Values",children:[{value:0,label:"User-Oriented"},{value:1,label:"Self-Competent"},{value:2,label:"Idealistic"},{value:3,label:"Social"},{value:4,label:"Ethical"},{value:5,label:"Professional"}]}],i=d("2024/7"),v=[{value:"2024/7",label:"2024/7"}],c=f=>{t.value=t.value.filter(S=>S[0]!==f.parent||S[1]!==f.key),p(t.value)},s=f=>{q(()=>{F()})},m=e,p=f=>{console.log("handleChange",f),h.value=f.length,r={};const S=[];f.length>0&&f.forEach($=>{r[$[0]]=r[$[0]]||[],($[1]||$[1]==0)&&(r[$[0]].push({name:y[$[0]].children[$[1]].label,key:$[1],parent:$[0]}),S.push(y[$[0]].children[$[1]].label))}),m("fitterChange",r),q(()=>{F()})},x=()=>{t.value=[],p(t.value),q(()=>{F()})},k=()=>{_.value=!_.value,n.value.style.maxHeight?n.value.style.maxHeight=null:n.value.style.maxHeight=n.value.scrollHeight+"px"},F=()=>{_.value&&(n.value.style.maxHeight=n.value.scrollHeight+"px")};return(f,S)=>{const $=He,ve=Ne,W=je,L=Ue,me=Ge,j=qe;return g(),A("div",null,[a("div",La,[V(L,{modelValue:i.value,"onUpdate:modelValue":S[1]||(S[1]=C=>i.value=C),placeholder:"Measurement Date",onChange:s,style:{width:"200px"},"aria-label":"Measurement Date"},{default:D(()=>[V(W,{modelValue:i.value,"onUpdate:modelValue":S[0]||(S[0]=C=>i.value=C),style:{width:"100%"}},{default:D(()=>[(g(),A(T,null,R(v,C=>V(ve,{key:C.value,label:C.label,value:C.value},{default:D(()=>[V($,{value:C.value},{default:D(()=>[U(M(C.label),1)]),_:2},1032,["value"])]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),V(me,{class:"select",modelValue:t.value,"onUpdate:modelValue":S[2]||(S[2]=C=>t.value=C),options:y,props:o,style:{width:"240px","margin-left":"20px"},"show-all-levels":!1,"collapse-tags":!0,onChange:p,placeholder:"Measurement Dimension"},null,8,["modelValue"]),a("span",{class:"filter-btn",onClick:x},"Reset Filter"),a("span",{class:na(["show-filter",{"is-show":_.value}]),onClick:k},null,2)]),a("div",{class:"panel-box",ref_key:"panel",ref:n},[a("div",Ra,[Ba,z(a("div",Ha,[ja,a("div",Ia,[V(j,{type:"info"},{default:D(()=>[U(M(i.value),1)]),_:1})])],512),[[B,i.value]]),a("div",Oa,"Measurement Dimension("+M(h.value)+")",1),z(a("div",Pa,[Na,a("div",Ua,[(g(!0),A(T,null,R(N(r)[1],C=>(g(),G(j,{key:C.key,closable:"",type:"info",onClose:Z=>c(C)},{default:D(()=>[U(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[B,N(r)[1]]]),z(a("div",Ga,[qa,a("div",Za,[(g(!0),A(T,null,R(N(r)[2],C=>(g(),G(j,{key:C.key,closable:"",type:"info",onClose:Z=>c(C)},{default:D(()=>[U(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[B,N(r)[2]]]),z(a("div",Ka,[Qa,a("div",Wa,[(g(!0),A(T,null,R(N(r)[3],C=>(g(),G(j,{key:C.key,closable:"",type:"info",onClose:Z=>c(C)},{default:D(()=>[U(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[B,N(r)[3]]]),z(a("div",Xa,[Ya,a("div",Ja,[(g(!0),A(T,null,R(N(r)[4],C=>(g(),G(j,{key:C.key,closable:"",type:"info",onClose:Z=>c(C)},{default:D(()=>[U(M(C.name),1)]),_:2},1032,["onClose"]))),128))])],512),[[B,N(r)[4]]])])],512)])}}},al=de(el,[["__scopeId","data-v-3a2279b2"]]),P=l=>(xe("data-v-0a9da850"),l=l(),Ce(),l),ll={class:"bg comparison-template main-container"},tl={class:"title-content"},ol=P(()=>a("h2",null,"Compare Pool",-1)),sl={class:"compare-model-list"},nl=["onClick"],rl={class:"name"},il={class:"point-num"},cl=P(()=>a("span",{class:"point"},"points",-1)),ul={class:"top-item-content"},dl=P(()=>a("span",{class:"type-icon"},null,-1)),vl={class:"dev"},ml={class:"date"},pl={key:0,class:"max-num-tip"},_l=P(()=>a("p",{style:{}},"The maximum number of comparisons supported is 5",-1)),fl=[_l],hl=P(()=>a("img",{src:ba,alt:"add-model"},null,-1)),bl=P(()=>a("p",null,"Add",-1)),gl=[hl,bl],yl={class:"chart-box"},xl={class:"chart-tab"},Cl={class:"chart-main",style:{}},kl={class:"table-box"},Sl=P(()=>a("h4",null,"Schwartz Theory of Basic Values",-1)),wl=P(()=>a("h4",null,"Moral Foundations Theory",-1)),Vl=P(()=>a("h4",null,"Diverse Safety Risks",-1)),Al={__name:"Comparison",setup(l){const e=d(null),o=d(null),t=d(null);d(null);const _=["rgba(16, 147, 255, 1)","rgba(172, 210, 145, 1)","rgba(113, 134, 201, 1)","rgba(162, 123, 187, 1)","rgba(225, 149, 208, 1)"],n=[{name:"Table",index:0},{name:"Visualization",index:1},{name:"Cultural Alignment",index:2},{name:"Value Space",index:3}];var h=null,r=null,y=null,i=null,v=null,c=null,s=null;const m=d(),p=d([]),x=d(),k=d(!1),F=d([]),f=d([]),S=d([]),$=w=>re.get(w),ve=async()=>{try{re.all([$("./data/models_info.json"),$("./data/Schwartz_scores.json"),$("./data/Schwartz_cases.json"),$("./data/Risk_scores.json"),$("./data/Risk_cases.json"),$("./data/MFT_scores.json"),$("./data/MFT_cases.json")]).then(re.spread(function(w,u,H,I,E,ee,ge){s=w.data.data,m.value=se(w.data.data),h=se(u.data.data),r=H.data.data,y=se(I.data.data),i=E.data.data,v=se(ee.data.data),c=ge.data.data,we=Re(h,y,v);for(let O in m.value){const ae=Be(O,[],we);m.value[O].points=(ae*100).toFixed(3)}F.value=Object.keys(m.value),Z.value=Object.keys(h[F.value[0]]),X.value=Z.value,_e.value=Object.keys(y[F.value[0]]),J.value=_e.value,pe.value=Object.keys(v[F.value[0]]),Y.value=pe.value,f.value.push(F.value[0]),j()}))}catch(w){console.error("Fetch error:",w)}},W=(w,u)=>u.label=="model_name"?w[u.label]:(w[u.label]*100).toFixed(3),L=d(0),me=w=>{console.log(w),L.value=w.index},j=()=>{k.value=!1,console.log(f.value),f.value.length>5&&alert("最多可添加5个model"),ze(),p.value=""},C=(w,u)=>{f.value.length<=1||(f.value.splice(u,1),j())},Z=d([]),pe=d([]),_e=d([]),X=d([]),Y=d([]),J=d([]),fe=d([]),he=d([]),be=d([]),ze=()=>{S.value=[],f.value.length>5&&alert("最多可添加5个model");var w=[];for(let u=0;u<f.value.length&&!(u>=5);u++){console.log(S.value);let H=!1;S.value.forEach(E=>{console.log("item",E,f.value[u]),E.model_name==f.value[u]&&(H=!0),w.push(E.color)});let I=_.filter(E=>w.every(ee=>ee!=E));if(!H){let E={};E.color=I[0],E.model_name=f.value[u],E.model_info=m.value[f.value[u]],E.Schwartz_data=h[f.value[u]],E.Risk_data=y[f.value[u]],E.MFT_data=v[f.value[u]],S.value.push(E)}}console.log("checkedModelDetailList.value",S.value),fe.value=[],he.value=[],be.value=[];for(let u=0;u<S.value.length;u++){let H={};H=h[f.value[u]],H.model_name=f.value[u],fe.value.push(H);let I={};I=y[f.value[u]],I.model_name=f.value[u],be.value.push(I);let E={};E=v[f.value[u]],E.model_name=f.value[u],he.value.push(E)}e.value.setRadarChart(S.value),t.value.setValueSpacesData(S.value),o.value.setHotChart(f.value),console.log("checkedModelDetailList.value",S.value)};ra(()=>{}),ia(),ue(()=>{ve()});let we=null;const Me=w=>{console.log("filerData",w),w[1]?X.value=w[1].map(u=>u.name):X.value=Z.value,w[2]?Y.value=w[2].map(u=>u.name):Y.value=pe.value,w[3]?J.value=w[3].map(u=>u.name):J.value=_e.value,e.value.setRadarChart(S.value,{Schwartz_data:X.value,MFT_data:Y.value,Risk_data:J.value})};return(w,u)=>{const H=Ie,I=Ke,E=Qe,ee=Oe,ge=Je,Ve=Ye,O=We,ae=Ze,Le=Pe;return g(),A("div",ll,[a("div",null,[a("div",tl,[ol,a("div",sl,[a("ul",null,[(g(!0),A(T,null,R(S.value,(b,K)=>(g(),A("li",{class:"model-li",key:b,style:ca({"border-color":b.color})},[a("span",{class:"close-comparison",onClick:$l=>C(b.model_name,K)},null,8,nl),a("p",rl,M(b.model_name),1),a("p",il,[U(M(b.model_info.points),1),cl]),a("div",ul,[V(H,{effect:"customized",content:"Proprietary",placement:"top"},{default:D(()=>[dl]),_:1}),a("span",vl,M(b.model_info.developer),1),a("span",ml,M(b.model_info["release date"].split(" ")[0]),1)])],4))),128)),S.value.length>=5?(g(),A("li",pl,fl)):te("",!0),S.value.length<5?z((g(),A("li",{key:1,class:"add-model",onClick:u[0]||(u[0]=b=>k.value=!0)},gl)),[[Le,x.value]]):te("",!0),V(ee,{ref_key:"popoverRef",ref:x,visible:k.value,placement:"right-start",width:576,trigger:"click","virtual-triggering":"",persistent:""},{default:D(()=>[a("div",null,[V(E,{modelValue:f.value,"onUpdate:modelValue":u[1]||(u[1]=b=>f.value=b),max:5},{default:D(()=>[(g(!0),A(T,null,R(F.value,b=>(g(),G(I,{key:b,value:b},{default:D(()=>[U(M(b),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a("div",{style:{display:"flex","justify-content":"flex-end","margin-top":"20px","padding-right":"20px"}},[a("button",{onClick:j},"Submit")])])]),_:1},8,["visible"])])])])]),a("div",yl,[a("div",xl,[V(Ve,{modelValue:L.value,"onUpdate:modelValue":u[2]||(u[2]=b=>L.value=b),onTabClick:me},{default:D(()=>[(g(),A(T,null,R(n,b=>V(ge,{key:b.index,label:"   "+b.name+"   ",name:b.index},null,8,["label","name"])),64))]),_:1},8,["modelValue"])]),a("div",Cl,[z(V(al,{onFitterChange:Me},null,512),[[B,L.value==0||L.value==1]]),z(a("div",kl,[Sl,V(ae,{data:fe.value,border:"",style:{width:"100%"}},{default:D(()=>[V(O,{prop:"model_name",label:"Model"}),(g(!0),A(T,null,R(X.value,(b,K)=>(g(),A(T,{key:K},[b!="model_name"?(g(),G(O,{key:0,prop:b,label:b,formatter:W},null,8,["prop","label"])):te("",!0)],64))),128))]),_:1},8,["data"]),wl,V(ae,{data:he.value,border:"",style:{width:"100%"}},{default:D(()=>[V(O,{prop:"model_name",label:"Model"}),(g(!0),A(T,null,R(Y.value,(b,K)=>(g(),A(T,{key:K},[b!="model_name"?(g(),G(O,{key:0,prop:b,label:b,formatter:W},null,8,["prop","label"])):te("",!0)],64))),128))]),_:1},8,["data"]),Vl,V(ae,{data:be.value,border:"",style:{width:"100%"}},{default:D(()=>[V(O,{prop:"model_name",label:"Model"}),(g(!0),A(T,null,R(J.value,(b,K)=>(g(),A(T,{key:K},[b!="model_name"?(g(),G(O,{key:0,prop:b,label:b,formatter:W},null,8,["prop","label"])):te("",!0)],64))),128))]),_:1},8,["data"])],512),[[B,L.value==0]]),z(a("div",null,[V(Va,{ref_key:"VisualizationComponentProps",ref:e},null,512)],512),[[B,L.value==1]]),z(a("div",null,[V(Ta,{ref_key:"ValueSpaceComponentProps",ref:t},null,512)],512),[[B,L.value==3]]),z(a("div",null,[V(Ma,{ref_key:"CulturalAlignmentComponentProps",ref:o},null,512)],512),[[B,L.value==2]])])])])}}},Pl=de(Al,[["__scopeId","data-v-0a9da850"]]);export{Pl as default};
